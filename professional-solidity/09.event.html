<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>09.事件 | T8840 Blog</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="T8840的博客">
    
    <link rel="preload" href="/solidity/assets/css/0.styles.b490882a.css" as="style"><link rel="preload" href="/solidity/assets/js/app.e5082ffd.js" as="script"><link rel="preload" href="/solidity/assets/js/3.5ee47f7c.js" as="script"><link rel="preload" href="/solidity/assets/js/1.912b4b55.js" as="script"><link rel="preload" href="/solidity/assets/js/35.95934a73.js" as="script"><link rel="prefetch" href="/solidity/assets/js/10.b8fb11d0.js"><link rel="prefetch" href="/solidity/assets/js/11.f32d6aa6.js"><link rel="prefetch" href="/solidity/assets/js/12.500c9e01.js"><link rel="prefetch" href="/solidity/assets/js/13.f32bd8e7.js"><link rel="prefetch" href="/solidity/assets/js/14.240c8045.js"><link rel="prefetch" href="/solidity/assets/js/15.0e4064e0.js"><link rel="prefetch" href="/solidity/assets/js/16.520be469.js"><link rel="prefetch" href="/solidity/assets/js/17.9e1045bf.js"><link rel="prefetch" href="/solidity/assets/js/18.fda721ea.js"><link rel="prefetch" href="/solidity/assets/js/19.7dcfc9fc.js"><link rel="prefetch" href="/solidity/assets/js/20.5b4e6f91.js"><link rel="prefetch" href="/solidity/assets/js/21.19568bc5.js"><link rel="prefetch" href="/solidity/assets/js/22.166c2d98.js"><link rel="prefetch" href="/solidity/assets/js/23.5cfe8d9a.js"><link rel="prefetch" href="/solidity/assets/js/24.ca3cb849.js"><link rel="prefetch" href="/solidity/assets/js/25.fd73bb0b.js"><link rel="prefetch" href="/solidity/assets/js/26.560bc8ec.js"><link rel="prefetch" href="/solidity/assets/js/27.f2377326.js"><link rel="prefetch" href="/solidity/assets/js/28.f5e564d2.js"><link rel="prefetch" href="/solidity/assets/js/29.dd2c0633.js"><link rel="prefetch" href="/solidity/assets/js/30.28848fc0.js"><link rel="prefetch" href="/solidity/assets/js/31.4c918904.js"><link rel="prefetch" href="/solidity/assets/js/32.a8886025.js"><link rel="prefetch" href="/solidity/assets/js/33.ffc5709c.js"><link rel="prefetch" href="/solidity/assets/js/34.f08a3e2e.js"><link rel="prefetch" href="/solidity/assets/js/36.61b3c3c3.js"><link rel="prefetch" href="/solidity/assets/js/37.a902f0d2.js"><link rel="prefetch" href="/solidity/assets/js/38.c8172eb9.js"><link rel="prefetch" href="/solidity/assets/js/39.d83f4932.js"><link rel="prefetch" href="/solidity/assets/js/4.673bf15a.js"><link rel="prefetch" href="/solidity/assets/js/40.a01d9291.js"><link rel="prefetch" href="/solidity/assets/js/41.bd4ae60c.js"><link rel="prefetch" href="/solidity/assets/js/42.00e1217a.js"><link rel="prefetch" href="/solidity/assets/js/43.398d96c8.js"><link rel="prefetch" href="/solidity/assets/js/44.61afc1d6.js"><link rel="prefetch" href="/solidity/assets/js/45.e8d6009e.js"><link rel="prefetch" href="/solidity/assets/js/46.5d6497e3.js"><link rel="prefetch" href="/solidity/assets/js/47.34b62bec.js"><link rel="prefetch" href="/solidity/assets/js/48.b3077ae7.js"><link rel="prefetch" href="/solidity/assets/js/49.51c93428.js"><link rel="prefetch" href="/solidity/assets/js/5.8b013b29.js"><link rel="prefetch" href="/solidity/assets/js/50.be8ed4e3.js"><link rel="prefetch" href="/solidity/assets/js/51.ec76f9b6.js"><link rel="prefetch" href="/solidity/assets/js/52.40936f0d.js"><link rel="prefetch" href="/solidity/assets/js/53.488d417b.js"><link rel="prefetch" href="/solidity/assets/js/54.8e10336a.js"><link rel="prefetch" href="/solidity/assets/js/55.2edfb408.js"><link rel="prefetch" href="/solidity/assets/js/56.2c197860.js"><link rel="prefetch" href="/solidity/assets/js/57.1574a0d4.js"><link rel="prefetch" href="/solidity/assets/js/58.34fb9546.js"><link rel="prefetch" href="/solidity/assets/js/59.33203193.js"><link rel="prefetch" href="/solidity/assets/js/6.aad79307.js"><link rel="prefetch" href="/solidity/assets/js/7.8e49b54c.js"><link rel="prefetch" href="/solidity/assets/js/8.1296ca76.js"><link rel="prefetch" href="/solidity/assets/js/9.cc552303.js">
    <link rel="stylesheet" href="/solidity/assets/css/0.styles.b490882a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>T8840 Blog</h3> <p class="description" data-v-59e6cb88>T8840的博客</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/solidity/" class="home-link router-link-active"><!----> <span class="site-name">T8840 Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/solidity/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      T8840 博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/t8840" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>41</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/solidity/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      T8840 博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/t8840" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/solidity/" class="sidebar-heading clickable router-link-active"><span>欢迎学习</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/solidity/" aria-current="page" class="sidebar-link">学前必读</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/solidity/best/BestWeb3TechIntroduce" class="sidebar-heading clickable"><span>Web3最佳编程实践指南</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/solidity/best/BestWeb3TechIntroduce.html" class="sidebar-link">Web3最佳编程实践指南</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/solidity/basic/Introduce" class="sidebar-heading clickable"><span>基础</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/solidity/basic/Introduce.html" class="sidebar-link">介绍</a></li><li><a href="/solidity/basic/FirstMetSolidity.html" class="sidebar-link">初步了解Solidity</a></li><li><a href="/solidity/basic/SoliditybyExample.html" class="sidebar-link">SoliditybyExample</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/solidity/standards/Introduce" class="sidebar-heading clickable"><span>标准</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/solidity/professional-solidity/Contents" class="sidebar-heading clickable open"><span>教程:professional-solidity</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/solidity/professional-solidity/Contents.html" class="sidebar-link">目录</a></li><li><a href="/solidity/professional-solidity/02.type-of-data.html" class="sidebar-link">数据</a></li><li><a href="/solidity/professional-solidity/03.variable.html" class="sidebar-link">变量</a></li><li><a href="/solidity/professional-solidity/04.function.html" class="sidebar-link">函数</a></li><li><a href="/solidity/professional-solidity/05.operator.html" class="sidebar-link">操作符</a></li><li><a href="/solidity/professional-solidity/06.error.html" class="sidebar-link">错误处理</a></li><li><a href="/solidity/professional-solidity/07.control-flow.html" class="sidebar-link">流程控制</a></li><li><a href="/solidity/professional-solidity/08.loops-and-iteration.html" class="sidebar-link">循环与迭代</a></li><li><a href="/solidity/professional-solidity/09.event.html" aria-current="page" class="active sidebar-link">事件</a></li><li><a href="/solidity/professional-solidity/10.inheritance.html" class="sidebar-link">继承</a></li><li><a href="/solidity/professional-solidity/11.call-other.html" class="sidebar-link">合约调用合约</a></li><li><a href="/solidity/professional-solidity/12.deploy.html" class="sidebar-link">合约部署合约</a></li><li><a href="/solidity/professional-solidity/13.interface.html" class="sidebar-link">接口</a></li><li><a href="/solidity/professional-solidity/14.library.html" class="sidebar-link">库</a></li><li><a href="/solidity/professional-solidity/15.algorithm.html" class="sidebar-link">算法</a></li><li><a href="/solidity/professional-solidity/16.assembly.html" class="sidebar-link">内联汇编</a></li><li><a href="/solidity/professional-solidity/17.metadata.html" class="sidebar-link">元数据</a></li><li><a href="/solidity/professional-solidity/18.abi.html" class="sidebar-link">ABI编码</a></li><li><a href="/solidity/professional-solidity/19.layout.html" class="sidebar-link">变量布局</a></li><li><a href="/solidity/professional-solidity/20.safe.html" class="sidebar-link">安全</a></li><li><a href="/solidity/professional-solidity/21.gas.html" class="sidebar-link">gas优化</a></li><li><a href="/solidity/professional-solidity/22.styleguide.html" class="sidebar-link">合约编码规范</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/solidity/openzeppelin-learn/Introduce" class="sidebar-heading clickable"><span>教程:openzeppelin-learn</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/solidity/nodejs/Introduce" class="sidebar-heading clickable"><span>nodejs</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/solidity/go/Introduce" class="sidebar-heading clickable"><span>Go</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/solidity/relay/Introduce" class="sidebar-heading clickable"><span>Relay</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/solidity/dapp/CreateWeb3Dapp" class="sidebar-heading clickable"><span>Dapp</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/solidity/project/Summary" class="sidebar-heading clickable"><span>项目</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">09.事件</h1> <div data-v-8a445198><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="_09-事件"><a href="#_09-事件" class="header-anchor">#</a> 09.事件</h1> <p>事件是能方便地调用以太坊虚拟机日志功能的接口。应用程序可以通过以太坊客户端的 RPC 接口订阅和监听这些事件。</p> <p><strong>重点:记录区块链的日志，可以使用状态变量，也可以使用事件 Event，但 Event 使用的 gas 费比状态变量低。</strong></p> <p>原则：改变状态变量时，一定要触发事件。</p> <p>Soliddity Event 事件是以太坊虚拟机(EVM)日志基础设施提供的一个便利接口。当被发送事件（调用）时，会触发参数存储到交易的日志中。这些日志与合约的地址关联，并记录到区块链中。每个交易收据包含 0 到多个 log 记录，log 表明着智能合约所触发的事件。</p> <h2 id="_1️⃣-event-语法"><a href="#_1️⃣-event-语法" class="header-anchor">#</a> 1️⃣ Event 语法</h2> <p><strong>事件的定义</strong>:使用 <code>event</code> 关键字来定义一个事件 Event，语法如下：</p> <div class="language- extra-class"><pre class="language-text"><code>event EventName(&lt;parameter list&gt;);
</code></pre></div><p><strong>事件的触发</strong>:只能使用 <code>emit</code> 关键字来触发事件 Event，语法如下：</p> <div class="language- extra-class"><pre class="language-text"><code>emit EventName(&lt;parameter list&gt;);
</code></pre></div><h2 id="_2️⃣-四种事件定义方式"><a href="#_2️⃣-四种事件定义方式" class="header-anchor">#</a> 2️⃣ 四种事件定义方式</h2> <ol><li>不带参数的 event</li> <li>带参数的 event</li> <li>带参数名的 event</li> <li>带 indexed 参数名的 event
<ol><li>这种事件也被称为<strong>索引事件</strong></li> <li>语法:<code>event EventName(TypeName indexed varibleName....);</code></li> <li>事件中 indexed 标记过的参数，可以在链外进行搜索查询。</li> <li>一个事件中 indexed 标记过的参数最多有 3 个。</li></ol></li></ol> <div class="language- extra-class"><pre class="language-text"><code>// SPDX-License-Identifier: MIT
pragma solidity ^0.8.17;

contract Event {
    // 普通 event
    event Log1(address, string);

    // 带名字的 event
    event Log2(address ads, string msg);

    // 带 indexed 的event
    event Log3(address indexed ads, string msg);

    // indexed 在一个事件内使用次数不能超过3次
    event Transfer(
        address indexed from,
        address indexed to,
        uint256 indexed amount
    );

    function log1() external {
        emit Log1(msg.sender, &quot;Log111&quot;);
    }

    function log2() external {
        emit Log2(msg.sender, &quot;Log222&quot;);
    }

    function log3() external {
        emit Log3(msg.sender, &quot;Log333&quot;);
    }

    function transfer(address _to, uint256 amount) external {
        emit Transfer(msg.sender, _to, amount);
    }
}
</code></pre></div><h3 id="_1-不带参数的-event"><a href="#_1-不带参数的-event" class="header-anchor">#</a> 1 不带参数的 event</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
	<span class="token punctuation">{</span>
		<span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7874d94b8f9E2a28FCceCE404666C984f33a82b8&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;topic&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1732d0c17008d342618e7f03069177d8d39391d79811bb4e706d7c6c84108c0f&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Log1&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;args&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="_2-带参数的-event"><a href="#_2-带参数的-event" class="header-anchor">#</a> 2 带参数的 event</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
	<span class="token punctuation">{</span>
		<span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7874d94b8f9E2a28FCceCE404666C984f33a82b8&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;topic&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x54010eb0426bdddd13273086604fca7ba750a84093c6839732d954056646e81b&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Log2&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;args&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x5B38Da6a701c568545dCfcB03FcB875f56beddC4&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Log222&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="_3-带参数名的-event"><a href="#_3-带参数名的-event" class="header-anchor">#</a> 3 带参数名的 event</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
	<span class="token punctuation">{</span>
		<span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7874d94b8f9E2a28FCceCE404666C984f33a82b8&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;topic&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x940879bf2d29cdfe8084f2f033d2168f5859a6e10530b61fb84dc1c5ddc9ca40&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Log3&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;args&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x5B38Da6a701c568545dCfcB03FcB875f56beddC4&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Log333&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;ads&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x5B38Da6a701c568545dCfcB03FcB875f56beddC4&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Log333&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="_4-带-indexed-参数名的-event"><a href="#_4-带-indexed-参数名的-event" class="header-anchor">#</a> 4 带 indexed 参数名的 event</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
	<span class="token punctuation">{</span>
		<span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xfB72aAdB17a855D27A68B565ee0a84CB30A387e4&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;topic&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xf485c071883274befba21423da7f60203f9df753bf614bca26c4763ed4b240fb&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Log4&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;args&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x5B38Da6a701c568545dCfcB03FcB875f56beddC4&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Log444&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;ads&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x5B38Da6a701c568545dCfcB03FcB875f56beddC4&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Log444&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
	<span class="token punctuation">{</span>
		<span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xfB72aAdB17a855D27A68B565ee0a84CB30A387e4&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;topic&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Transfer&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;args&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x5B38Da6a701c568545dCfcB03FcB875f56beddC4&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x5B38Da6a701c568545dCfcB03FcB875f56beddC4&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x5B38Da6a701c568545dCfcB03FcB875f56beddC4&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x5B38Da6a701c568545dCfcB03FcB875f56beddC4&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="_3️⃣-indexed-的作用"><a href="#_3️⃣-indexed-的作用" class="header-anchor">#</a> 3️⃣ indexed 的作用</h2> <p>indexed 数据会被记录到 <code>topics</code> 中，可以用于检索。已索引的部分，最多有 3 个（对于非匿名事件）或 4 个（对于匿名事件）</p> <p>对于非匿名事件，最多三个参数可以接收 <code>indexed</code>属性（它是一个特殊的名为: &quot;主题&quot; 的数据结构，而不作为日志的数据部分）。主题仅有 32 字节， 因此如果:引用类型 标记为索引项，则它们的 keccak-256 哈希值会被作为 主题（topic） 保存。</p> <p>主题（topic）让我们可以可以搜索事件，比如在为某些事件过滤一些区块，还可以按发起事件的合同地址来过滤事件。</p> <p>例如, 使用如下的 web3.js <code>subscribe(&quot;logs&quot;)方法</code> 去过滤符合特定地址的 主题（topic） ：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">fromBlock</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
	<span class="token literal-property property">address</span><span class="token operator">:</span> web3<span class="token punctuation">.</span>eth<span class="token punctuation">.</span>defaultAccount<span class="token punctuation">,</span>
	<span class="token literal-property property">topics</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
web3<span class="token punctuation">.</span>eth
	<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">&quot;logs&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>error<span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">log</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;changed&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">log</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>主要用在链下服务，可以通过 RPC 获取，比如 web3 的以下方法:</p> <ul><li><code>myContract.once</code> <ul><li>https://web3js.readthedocs.io/en/v1.7.5/web3-eth-contract.html</li></ul></li> <li><code>myContract.events.MyEvent</code> <ul><li>https://web3js.readthedocs.io/en/v1.7.5/web3-eth-contract.html#contract-events</li></ul></li> <li><code>myContract.getPastEvents</code> <ul><li>https://web3js.readthedocs.io/en/v1.7.5/web3-eth-contract.html#getpastevents</li></ul></li></ul> <h2 id="_4️⃣-log-的使用"><a href="#_4️⃣-log-的使用" class="header-anchor">#</a> 4️⃣ log 的使用</h2> <p>除非你用 <code>anonymous</code> 声明事件，否则事件签名的哈希值是一个 主题（topic）。同时也意味着对于匿名事件无法通过名字来过滤，仅能按合约地址过滤。匿名事件的优势是他们部署和调用的成本更低。它也允许你声明 4 个索引参与而不是 3 个。</p> <p>⚠️：由于交易日志只存储事件数据而不存储类型。你必须知道事件的类型，包括哪个参数被索引，以及该事件是否是匿名的，以便正确解释数据。尤其是，有可能使用一个匿名事件来&quot;伪造&quot;另一个事件的签名。</p> <div class="language- extra-class"><pre class="language-text"><code>pragma solidity  &gt;=0.4.21 &lt;0.9.0;

contract ClientReceipt {
    event Deposit(
        address indexed from,
        bytes32 indexed id,
        uint value
    );

    function deposit(bytes32 id) public payable {
        // 事件使用 emit 触发事件。
        // 我们可以过滤对 `Deposit` 的调用，从而用 Javascript API 来查明对这个函数的任何调用（甚至是深度嵌套调用）。
        emit Deposit(msg.sender, id, msg.value);
    }
}
</code></pre></div><p>使用 JavaScript API 调用事件的用法如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> abi <span class="token operator">=</span> <span class="token comment">/* abi 由编译器产生 */</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ClientReceipt <span class="token operator">=</span> web3<span class="token punctuation">.</span>eth<span class="token punctuation">.</span><span class="token function">contract</span><span class="token punctuation">(</span>abi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> clientReceipt <span class="token operator">=</span> ClientReceipt<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token string">&quot;0x1234...xlb67&quot;</span> <span class="token comment">/* 地址 */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> depositEvent <span class="token operator">=</span> clientReceipt<span class="token punctuation">.</span><span class="token function">Deposit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 监听变化</span>
depositEvent<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 结果包含 非索引参数 以及 主题 topic</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>error<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 或者通过传入回调函数，立即开始听监</span>
<span class="token keyword">var</span> depositEvent <span class="token operator">=</span> clientReceipt<span class="token punctuation">.</span><span class="token function">Deposit</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>error<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的输出如下所示（有删减）：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;returnValues&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1111…FFFFCCCC&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x50…sd5adb20&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x420042&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;raw&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7f…91385&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;topics&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;0xfd4…b4ead7&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;0x7f…1a91385&quot;</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_5️⃣-log-重载"><a href="#_5️⃣-log-重载" class="header-anchor">#</a> 5️⃣ Log 重载</h2> <p>Log 可以像函数一样重载</p> <div class="language- extra-class"><pre class="language-text"><code>// SPDX-License-Identifier: MIT
pragma solidity ^0.8.17;

contract Event {
    event Log(address ads);
    event Log(address indexed ads, string msg); // 重载

    function log1() external {
        emit Log(msg.sender);
    }

    function log2() external {
        emit Log(msg.sender, &quot;Log111&quot;);
    }
}
</code></pre></div><h2 id="🆗-实战-众筹合约"><a href="#🆗-实战-众筹合约" class="header-anchor">#</a> 🆗 实战: 众筹合约</h2> <h3 id="合约代码"><a href="#合约代码" class="header-anchor">#</a> 合约代码</h3> <div class="language- extra-class"><pre class="language-text"><code>// SPDX-License-Identifier: MIT
pragma solidity ^0.8.17;

contract Croedfund {
    /* ============ Type Declaration ============ */
    // 出资人角色
    // * 仅需记录地址/金额即可
    struct Donor {
        address addr; //出资人地址
        uint256 amount; //出资人金额
    }

    // 募资人角色
    // * 用于表示一个募资项目，其中包括募资人地址、目标金额、
    // 已筹集金额、捐赠者人数、项目状态以及所有的出资人。
    struct Donee {
        address creator; // 募资人地址
        uint256 goal; // 众筹目标数量
        uint32 startAt; // 开始时间
        uint32 endAt; // 结束时间
        bool claimed; // 是否被领取
        uint256 amount; // 已筹集金额
        uint256 donorCount; // * 捐赠者人数
        mapping(uint256 =&gt; Donor) donorMap; // * 出资人字典
    }

    /* ============ State Variables ============ */
    address payable owner; //合约拥有者
    uint256 public doneeCount; // 募资人数量
    mapping(uint256 =&gt; Donee) public doneeMap; //募资人字典

    /* ============ Events ============ */
    event Launch(
        uint256 id,
        address indexed creator,
        uint256 goal,
        uint32 startAt,
        uint32 endAt
    );
    event Cancel(uint256 id);
    event Donate(uint256 indexed id, address indexed caller, uint256 amount);
    event Unpledge(uint256 indexed id, address indexed caller, uint256 amount);
    event Claim(uint256 id, address creator, uint256 amount);
    event Refund(uint256 indexed id, address indexed caller, uint256 amount);

    /* ============ Modifier ============ */
    modifier onlyOwner() {
        require(msg.sender == owner, &quot;only owner&quot;);
        _;
    }
    // 验证募捐活动ID是否有效
    modifier validDonee(uint256 doneeID) {
        require(doneeID &gt; 0 &amp;&amp; doneeID &lt;= doneeCount);
        _;
    }

    /* ============ Errors ============ */
    error MyError(string);

    /* ============ Constructor ============ */
    constructor() {
        owner = payable(msg.sender);
    }

    /* ============ Functions ============ */
    // 启动新众筹
    function launch(
        address _addr,
        uint256 _goal,
        uint32 _startAt,
        uint32 _endAt
    ) external onlyOwner {
        require(_startAt &gt;= block.timestamp, &quot;start at &lt; now&quot;);
        require(_startAt &lt;= _endAt, &quot;start at &gt; end at&quot;);
        require(_endAt &lt;= block.timestamp + 30 days, &quot;end at &gt; max duration&quot;);

        doneeCount++;

        Donee storage donee = doneeMap[doneeCount];
        donee.creator = _addr;
        donee.goal = _goal;
        donee.startAt = _startAt;
        donee.endAt = _endAt;
        emit Launch(doneeCount, msg.sender, _goal, _startAt, _endAt);
    }

    // 取消指定ID的众筹
    function cancel(uint256 _id) external onlyOwner {
        // 不需要修改，需用 memeory ,但是包含mapping类型，所以需要用 storage
        Donee storage campaign = doneeMap[_id];
        require(block.timestamp &lt; campaign.startAt, &quot;started&quot;); // 必须还没有开始
        delete doneeMap[_id];
        emit Cancel(_id);
    }

    // 出资人捐赠
    function donate(uint256 _id) external payable validDonee(_id) {
        Donee storage donee = doneeMap[_id]; // 需要修改，所以使用 storage
        require(block.timestamp &gt;= donee.startAt, &quot;not start&quot;); //
        require(block.timestamp &lt;= donee.endAt, &quot;ended&quot;); //

        donee.donorCount++;
        donee.amount += msg.value;

        Donor storage donor = donee.donorMap[donee.donorCount];
        donor.addr = msg.sender;
        donor.amount = msg.value;

        emit Donate(_id, msg.sender, msg.value);
    }

    // 完成目标给募资人转账
    function transfer(uint256 doneeID) public onlyOwner validDonee(doneeID) {
        Donee storage donee = doneeMap[doneeID];

        require(!donee.claimed, &quot;is claimed&quot;);
        require(block.timestamp &gt;= donee.endAt, &quot;not ended&quot;);
        require(donee.amount &gt;= donee.goal, &quot;amount &lt; goal&quot;);

        // 设置已经支付的状态
        donee.claimed = true;

        // 给募资人转账
        payable(donee.creator).transfer(donee.goal);
        emit Claim(doneeID, msg.sender, donee.amount);
    }

    /* ============ Helper ============ */
    fallback() external {}

    receive() external payable {}

    // 获取当前合约的余额
    function getBalance() public view returns (uint256) {
        return address(this).balance;
    }

    // 合约的余额转账到拥有者
    function withdraw(uint256 doneeID) public onlyOwner {
        Donee storage donee = doneeMap[doneeID];
        require(donee.claimed, &quot;not claimed&quot;);
        require(block.timestamp &gt;= donee.endAt, &quot;not ended&quot;);

        payable(msg.sender).transfer(address(this).balance);
    }

    // 获取项目状态
    function getStatus(uint256 doneeID)
        public
        view
        validDonee(doneeID)
        returns (bool)
    {
        Donee storage donee = doneeMap[doneeID];
        return (block.timestamp &gt;= donee.startAt &amp;&amp;
            block.timestamp &lt;= donee.endAt);
    }
}
</code></pre></div><h3 id="测试合约"><a href="#测试合约" class="header-anchor">#</a> 测试合约</h3> <ul><li>address1 launch 一次活动
<ul><li>goal 为 10</li> <li>时间戳获取: <a href="https://tool.chinaz.com/tools/unixtime.aspx" target="_blank" rel="noopener noreferrer">https://tool.chinaz.com/tools/unixtime.aspx<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li>doneeMap 查询 id 1 信息</li> <li>getStatus 查询 id 1 是否开始</li> <li>address2 donate 6</li> <li>address3 donate 7</li> <li>doneeMap 查询 id 1 信息</li></ul></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/solidity/professional-solidity/08.loops-and-iteration.html" class="prev">
          循环与迭代
        </a></span> <span class="next"><a href="/solidity/professional-solidity/10.inheritance.html">
          继承
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/solidity/professional-solidity/09.event.html#_1️⃣-event-语法" class="sidebar-link reco-side-_1️⃣-event-语法" data-v-b57cc07c>1️⃣ Event 语法</a></li><li class="level-2" data-v-b57cc07c><a href="/solidity/professional-solidity/09.event.html#_2️⃣-四种事件定义方式" class="sidebar-link reco-side-_2️⃣-四种事件定义方式" data-v-b57cc07c>2️⃣ 四种事件定义方式</a></li><li class="level-3" data-v-b57cc07c><a href="/solidity/professional-solidity/09.event.html#_1-不带参数的-event" class="sidebar-link reco-side-_1-不带参数的-event" data-v-b57cc07c>1 不带参数的 event</a></li><li class="level-3" data-v-b57cc07c><a href="/solidity/professional-solidity/09.event.html#_2-带参数的-event" class="sidebar-link reco-side-_2-带参数的-event" data-v-b57cc07c>2 带参数的 event</a></li><li class="level-3" data-v-b57cc07c><a href="/solidity/professional-solidity/09.event.html#_3-带参数名的-event" class="sidebar-link reco-side-_3-带参数名的-event" data-v-b57cc07c>3 带参数名的 event</a></li><li class="level-3" data-v-b57cc07c><a href="/solidity/professional-solidity/09.event.html#_4-带-indexed-参数名的-event" class="sidebar-link reco-side-_4-带-indexed-参数名的-event" data-v-b57cc07c>4 带 indexed 参数名的 event</a></li><li class="level-2" data-v-b57cc07c><a href="/solidity/professional-solidity/09.event.html#_3️⃣-indexed-的作用" class="sidebar-link reco-side-_3️⃣-indexed-的作用" data-v-b57cc07c>3️⃣ indexed 的作用</a></li><li class="level-2" data-v-b57cc07c><a href="/solidity/professional-solidity/09.event.html#_4️⃣-log-的使用" class="sidebar-link reco-side-_4️⃣-log-的使用" data-v-b57cc07c>4️⃣ log 的使用</a></li><li class="level-2" data-v-b57cc07c><a href="/solidity/professional-solidity/09.event.html#_5️⃣-log-重载" class="sidebar-link reco-side-_5️⃣-log-重载" data-v-b57cc07c>5️⃣ Log 重载</a></li><li class="level-2" data-v-b57cc07c><a href="/solidity/professional-solidity/09.event.html#🆗-实战-众筹合约" class="sidebar-link reco-side-🆗-实战-众筹合约" data-v-b57cc07c>🆗 实战: 众筹合约</a></li><li class="level-3" data-v-b57cc07c><a href="/solidity/professional-solidity/09.event.html#合约代码" class="sidebar-link reco-side-合约代码" data-v-b57cc07c>合约代码</a></li><li class="level-3" data-v-b57cc07c><a href="/solidity/professional-solidity/09.event.html#测试合约" class="sidebar-link reco-side-测试合约" data-v-b57cc07c>测试合约</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/solidity/assets/js/app.e5082ffd.js" defer></script><script src="/solidity/assets/js/3.5ee47f7c.js" defer></script><script src="/solidity/assets/js/1.912b4b55.js" defer></script><script src="/solidity/assets/js/35.95934a73.js" defer></script>
  </body>
</html>
