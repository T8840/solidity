(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{447:function(e,n,t){"use strict";t.r(n);var r=t(2),a=Object(r.a)({},(function(){var e=this,n=e._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"_13-interface-æ¥å£"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_13-interface-æ¥å£"}},[e._v("#")]),e._v(" 13.interface:æ¥å£")]),e._v(" "),n("p",[e._v("å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨å·²ç»éƒ¨ç½²åœ¨é“¾ä¸Šçš„å·²ç»åˆçº¦ï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡æ¥å£åˆçº¦å®ç°éƒ¨åˆ†è°ƒç”¨çš„é€»è¾‘ï¼Œæˆ‘ä»¬åªéœ€è¦å†™ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„æ¥å£åˆçº¦ï¼Œå°±å¯ä»¥è°ƒç”¨äº†ã€‚")]),e._v(" "),n("p",[e._v("åœ¨ solidity è¯­è¨€ä¸­ï¼Œåªè¦æŸä¸ªåˆçº¦æœ‰å’Œæ¥å£ç§ç›¸åŒçš„å‡½æ•°å£°æ˜ï¼Œå°±å¯ä»¥è¢«æ­¤åˆçº¦æ‰€æ¥å—ã€‚æ¥å£å°±æ˜¯èµ·åˆ°ä¸€ä¸ªæ¡¥æ¥çš„ä½œç”¨ï¼›ç±»ä¼¼æ‰‹æœºçš„æ¥å£ï¼Œåªè¦åŒ¹é…ï¼Œå¯ä»¥è¿›è¡Œå……ç”µï¼Œä¹Ÿå¯ä»¥è¿›è¡Œå¬æ­Œã€‚")]),e._v(" "),n("p",[n("code",[e._v("interface")]),e._v(" ç±»ä¼¼äº"),n("RouterLink",{attrs:{to:"/source/10.inheritance.html#abstract"}},[e._v("æŠ½è±¡åˆçº¦")]),e._v(" ï¼Œä½†å®ƒä»¬ä¸èƒ½å®ç°ä»»ä½•åŠŸèƒ½ã€‚è¿˜æœ‰å…¶ä»–é™åˆ¶ã€‚ "),n("code",[e._v("interface")]),e._v("å†…çš„å‡½æ•°è¢«éšå¼æ ‡è®°ä¸º"),n("code",[e._v("virtual")])],1),e._v(" "),n("h2",{attrs:{id:"_1ï¸âƒ£-é™åˆ¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1ï¸âƒ£-é™åˆ¶"}},[e._v("#")]),e._v(" 1ï¸âƒ£ é™åˆ¶")]),e._v(" "),n("ul",[n("li",[e._v("æ— æ³•å®ç°ä»»ä½•åŠŸèƒ½ï¼Œæ²¡æœ‰å‡½æ•°ä½“ã€‚")]),e._v(" "),n("li",[e._v("æ— æ³•å®šä¹‰æ„é€ å‡½æ•°ã€‚")]),e._v(" "),n("li",[e._v("æ— æ³•å®šä¹‰çŠ¶æ€å˜é‡ã€‚")]),e._v(" "),n("li",[e._v("æ— æ³•å®šä¹‰ç»“æ„ï¼ˆ"),n("code",[e._v("strct")]),e._v("ï¼‰ï¼ˆ"),n("code",[e._v("0.5.0")]),e._v(" ç‰ˆæœ¬å¼€å§‹æ¥å£é‡Œå¯ä»¥æ”¯æŒå£°æ˜ "),n("code",[e._v("enum")]),e._v(" ç±»å‹ï¼‰ã€‚")]),e._v(" "),n("li",[e._v("ä¸å¯ä»¥å£°æ˜ä¿®æ”¹å™¨ã€‚")]),e._v(" "),n("li",[e._v("æ‰€æœ‰å£°æ˜çš„å‡½æ•°å¿…é¡»æ˜¯ "),n("code",[e._v("external")]),e._v(" çš„ï¼Œå°½ç®¡åœ¨åˆçº¦é‡Œå¯ä»¥æ˜¯ public\n"),n("ul",[n("li",[e._v("æ–‡æ¡£è¯´ï¼šå°†æ¥å¯èƒ½ä¼šè§£é™¤è¿™é‡Œçš„æŸäº›é™åˆ¶ã€‚")])])])]),e._v(" "),n("p",[e._v("âš ï¸ æ³¨æ„ï¼š interface å¯ä»¥åŸºäºåˆ«çš„ interfaceï¼Œå¯ä»¥ç»§æ‰¿å…¶ä»–åˆçº¦ã€‚æ¯”å¦‚ "),n("code",[e._v("interface IERC20Metadata is IERC20{}")]),e._v(",å®šä¹‰ "),n("code",[e._v("IERC20Metadata")]),e._v(" åŸºäº "),n("code",[e._v("IERC20")]),e._v(" æ¥å£ã€‚")]),e._v(" "),n("h2",{attrs:{id:"_2ï¸âƒ£-å®šä¹‰å’Œä½¿ç”¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2ï¸âƒ£-å®šä¹‰å’Œä½¿ç”¨"}},[e._v("#")]),e._v(" 2ï¸âƒ£ å®šä¹‰å’Œä½¿ç”¨")]),e._v(" "),n("p",[e._v("æ¥å£éœ€è¦æœ‰ interface å…³é”®å­—ï¼Œå¹¶ä¸”å†…éƒ¨åªéœ€è¦æœ‰å‡½æ•°çš„å£°æ˜ï¼Œä¸ç”¨å®ç°ã€‚åªè¦æŸåˆçº¦ä¸­æœ‰å’Œè¯æ¥å£ç›¸åŒçš„å‡½æ•°å£°æ˜ï¼Œå°±å¯ä»¥è¢«æ­¤åˆçº¦æ‰€æ¥å—ã€‚è¯­æ³•å¦‚ä¸‹")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("interface æ¥å£å{\n    å‡½æ•°å£°æ˜;\n}\n")])])]),n("p",[e._v("æ¥å£åŸºæœ¬ä¸Šä»…é™äºåˆçº¦ ABI å¯ä»¥è¡¨ç¤ºçš„å†…å®¹ï¼Œå¹¶ä¸” ABI å’Œæ¥å£ä¹‹é—´çš„è½¬æ¢ä¸åº”è¯¥ä¸¢å¤±ä»»ä½•ä¿¡æ¯ã€‚")]),e._v(" "),n("p",[e._v("åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå®šä¹‰äº† cat åˆçº¦ä»¥åŠ dog åˆçº¦ã€‚ä»–ä»¬éƒ½æœ‰ eat æ–¹æ³•.ä»¥æ­¤ä»–ä»¬éƒ½å¯ä»¥è¢«ä¸Šé¢çš„ animalEat æ¥å£æ‰€æ¥æ”¶ã€‚")]),e._v(" "),n("h3",{attrs:{id:"ä½¿ç”¨ä¾‹å­"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨ä¾‹å­"}},[e._v("#")]),e._v(" ä½¿ç”¨ä¾‹å­")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Cat {\n    uint256 public age;\n\n    function eat() public returns (string memory) {\n        age++;\n        return "cat eat fish";\n    }\n\n    function sleep1() public pure returns (string memory) {\n        return "sleep1";\n    }\n}\n\ncontract Dog {\n    uint256 public age;\n\n    function eat() public returns (string memory) {\n        age += 2;\n        return "dog miss you";\n    }\n\n    function sleep2() public pure returns (string memory) {\n        return "sleep2";\n    }\n}\n\ninterface AnimalEat {\n    function eat() external returns (string memory);\n}\n\ncontract Animal {\n    function test(address _addr) external returns (string memory) {\n        AnimalEat general = AnimalEat(_addr);\n        return general.eat();\n    }\n}\n')])])]),n("p",[e._v("æµ‹è¯•æµç¨‹:")]),e._v(" "),n("ol",[n("li",[e._v("éƒ¨ç½² Cat åˆçº¦")]),e._v(" "),n("li",[e._v("éƒ¨ç½² Dog åˆçº¦")]),e._v(" "),n("li",[e._v("éƒ¨ç½² Animal åˆçº¦")]),e._v(" "),n("li",[e._v("è°ƒç”¨ "),n("code",[e._v("Animal.test")]),e._v(",å‚æ•°æ˜¯ Cat åˆçº¦åœ°å€\n"),n("ol",[n("li",[e._v("è¿”å› "),n("code",[e._v('"string: cat eat fish"')])]),e._v(" "),n("li",[e._v("åœ¨ Cat åˆçº¦å†…æŸ¥çœ‹ "),n("code",[e._v("age")]),e._v(" è¿”å›çš„æ•°å­—")])])]),e._v(" "),n("li",[e._v("è°ƒç”¨ "),n("code",[e._v("Animal.test")]),e._v(",å‚æ•°æ˜¯ Dog åˆçº¦åœ°å€\n"),n("ol",[n("li",[e._v("è¿”å› "),n("code",[e._v('"string: dog miss you"')])]),e._v(" "),n("li",[e._v("åœ¨ Dog åˆçº¦å†…æŸ¥çœ‹ "),n("code",[e._v("age")]),e._v(" è¿”å›çš„æ•°å­—")])])])]),e._v(" "),n("p",[e._v("åœ¨åˆçº¦ Animal ä¸­ï¼Œè°ƒç”¨å‡½æ•° testï¼Œå¦‚æœä¼ é€’çš„æ˜¯éƒ¨ç½²çš„ Cat çš„åˆçº¦åœ°å€ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨è°ƒç”¨æ¥å£çš„ eat æ–¹æ³•æ—¶ï¼Œå®åˆ™è°ƒç”¨äº† Cat åˆçº¦çš„ eat æ–¹æ³•ã€‚ åŒç†ï¼Œå¦‚æœä¼ é€’çš„æ˜¯éƒ¨ç½²çš„ Dog çš„åˆçº¦åœ°å€ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨è°ƒç”¨æ¥å£çš„ eat æ–¹æ³•æ—¶ï¼Œå®åˆ™è°ƒç”¨äº† dog åˆçº¦çš„ eat æ–¹æ³•ã€‚")]),e._v(" "),n("h3",{attrs:{id:"éšå¼çš„æ ‡è®°ä¸ºvirtual"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#éšå¼çš„æ ‡è®°ä¸ºvirtual"}},[e._v("#")]),e._v(" éšå¼çš„æ ‡è®°ä¸º"),n("code",[e._v("virtual")])]),e._v(" "),n("p",[e._v("å°±åƒç»§æ‰¿å…¶ä»–åˆçº¦ä¸€æ ·ï¼Œåˆçº¦å¯ä»¥ç»§æ‰¿æ¥å£ã€‚æ¥å£ä¸­çš„å‡½æ•°éƒ½ä¼šéšå¼çš„æ ‡è®°ä¸º\n"),n("code",[e._v("virtual")]),e._v(" ï¼Œæ„å‘³ç€ä»–ä»¬ä¼šè¢«é‡å†™å¹¶ä¸éœ€è¦ "),n("code",[e._v("override")]),e._v(" å…³é”®å­—ã€‚\nä½†æ˜¯ä¸è¡¨ç¤ºé‡å†™ï¼ˆoverridingï¼‰å‡½æ•°å¯ä»¥å†æ¬¡é‡å†™ï¼Œä»…ä»…å½“é‡å†™çš„å‡½æ•°æ ‡è®°ä¸º\n"),n("code",[e._v("virtual")]),e._v(" æ‰å¯ä»¥å†æ¬¡é‡å†™ã€‚")]),e._v(" "),n("p",[e._v("æ¥å£å¯ä»¥ç»§æ‰¿å…¶ä»–çš„æ¥å£ï¼Œéµå¾ªåŒæ ·ç»§æ‰¿è§„åˆ™ã€‚")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ninterface ParentA {\n    function test() external returns (uint256);\n}\n\ninterface ParentB {\n    function test() external returns (uint256);\n}\n\ninterface SubInterface is ParentA, ParentB {\n    // å¿…é¡»é‡æ–°å®šä¹‰ test å‡½æ•°ï¼Œä»¥è¡¨ç¤ºå…¼å®¹çˆ¶åˆçº¦å«ä¹‰\n    function test() external override(ParentA, ParentB) returns (uint256);\n}\n")])])]),n("h2",{attrs:{id:"_3ï¸âƒ£-å…¨å±€å±æ€§-type-i-interfaceid"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3ï¸âƒ£-å…¨å±€å±æ€§-type-i-interfaceid"}},[e._v("#")]),e._v(" 3ï¸âƒ£ å…¨å±€å±æ€§ "),n("code",[e._v("type(I).interfaceId")])]),e._v(" "),n("p",[e._v("è¿”å›æ¥å£"),n("code",[e._v("I")]),e._v(" çš„ bytes4 ç±»å‹çš„æ¥å£ IDï¼Œæ¥å£ ID å‚è€ƒï¼š EIP-165 å®šä¹‰çš„ï¼Œ æ¥å£ ID è¢«å®šä¹‰ä¸º XOR ï¼ˆå¼‚æˆ–ï¼‰ æ¥å£å†…æ‰€æœ‰çš„å‡½æ•°çš„å‡½æ•°é€‰æ‹©å™¨ï¼ˆé™¤ç»§æ‰¿çš„å‡½æ•°ã€‚")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ninterface ParentA {\n    function test() external returns (uint256);\n}\n\ncontract Demo {\n    function interfaceId() public pure returns (bytes4) {\n        return type(ParentA).interfaceId;\n    }\n}\n")])])]),n("h2",{attrs:{id:"_4ï¸âƒ£-erc20-æ ‡å‡†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4ï¸âƒ£-erc20-æ ‡å‡†"}},[e._v("#")]),e._v(" 4ï¸âƒ£ ERC20 æ ‡å‡†")]),e._v(" "),n("h3",{attrs:{id:"æ ‡å‡†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ ‡å‡†"}},[e._v("#")]),e._v(" æ ‡å‡†")]),e._v(" "),n("p",[n("strong",[e._v("é—®é¢˜: å¦‚ä½•åˆ¤æ–­ä¸€ä¸ª Token åˆçº¦æ˜¯å¦ä¸ºæ ‡å‡†çš„ ERC20 åˆçº¦ï¼Ÿ")])]),e._v(" "),n("ul",[n("li",[e._v("åªè¦å«æœ‰ ERC20 æ¥å£è§„å®šçš„æ‰€æœ‰å†…å®¹ï¼Œå°±ç®—æ ‡å‡†çš„ ERC20 åˆçº¦ã€‚\n"),n("ul",[n("li",[e._v("è‡³äºæ–¹æ³•å†…çš„é€»è¾‘æ˜¯å¦‚ä½•å®ç°çš„ï¼Œæ˜¯ä¸åšåˆ¤æ–­ã€‚")])])])]),e._v(" "),n("p",[e._v("è¯¦æƒ…å‚è€ƒ: https://eips.ethereum.org/EIPS/eip-20")]),e._v(" "),n("h3",{attrs:{id:"æ ‡å‡†-erc20-æ¥å£"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ ‡å‡†-erc20-æ¥å£"}},[e._v("#")]),e._v(" æ ‡å‡† ERC20 æ¥å£")]),e._v(" "),n("ul",[n("li",[e._v("3 ä¸ªæŸ¥è¯¢\n"),n("ul",[n("li",[n("code",[e._v("balanceOf")]),e._v(": æŸ¥è¯¢æŒ‡å®šåœ°å€çš„ Token æ•°é‡")]),e._v(" "),n("li",[n("code",[e._v("totalSupply")]),e._v(": æŸ¥è¯¢å½“å‰åˆçº¦çš„ Token æ€»é‡")]),e._v(" "),n("li",[n("code",[e._v("allowance")]),e._v(": æŸ¥è¯¢æŒ‡å®šåœ°å€å¯¹å¦å¤–ä¸€ä¸ªåœ°å€çš„å‰©ä½™æˆæƒé¢åº¦")])])]),e._v(" "),n("li",[e._v("2 ä¸ªäº¤æ˜“\n"),n("ul",[n("li",[n("code",[e._v("transfer")]),e._v(": ä»å½“å‰è°ƒç”¨è€…åœ°å€å‘é€æŒ‡å®šæ•°é‡çš„ Token åˆ°æŒ‡å®šåœ°å€ã€‚\n"),n("ul",[n("li",[e._v("è¿™æ˜¯ä¸€ä¸ªå†™å…¥æ–¹æ³•ï¼Œæ‰€ä»¥è¿˜ä¼šæŠ›å‡ºä¸€ä¸ª "),n("code",[e._v("Transfer")]),e._v(" äº‹ä»¶ã€‚")])])]),e._v(" "),n("li",[n("code",[e._v("transferFrom")]),e._v(": å½“å‘å¦å¤–ä¸€ä¸ªåˆçº¦åœ°å€å­˜æ¬¾æ—¶ï¼Œå¯¹æ–¹åˆçº¦å¿…é¡»è°ƒç”¨ transferFrom æ‰å¯ä»¥æŠŠ Token æ‹¿åˆ°å®ƒè‡ªå·±çš„åˆçº¦ä¸­ã€‚")])])]),e._v(" "),n("li",[e._v("2 ä¸ªäº‹ä»¶\n"),n("ul",[n("li",[n("code",[e._v("Transfer")])]),e._v(" "),n("li",[n("code",[e._v("Approval")])])])]),e._v(" "),n("li",[e._v("1 ä¸ªæˆæƒ\n"),n("ul",[n("li",[n("code",[e._v("approve")]),e._v(": æˆæƒæŒ‡å®šåœ°å€å¯ä»¥æ“ä½œè°ƒç”¨è€…çš„æœ€å¤§ Token æ•°é‡ã€‚")])])])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ninterface IERC20 {\n    // 1ä¸ªæˆæƒ\n    function approve(address spender, uint256 amount) external returns (bool);\n\n    // 2ä¸ªäº‹ä»¶\n    event Transfer(address indexed from, address indexed to, uint256 amount);\n    event Approval(\n        address indexed owner,\n        address indexed spender,\n        uint256 amount\n    );\n\n    // 2ä¸ªäº¤æ˜“\n    function transfer(address recipient, uint256 amount)\n        external\n        returns (bool);\n\n    function transferFrom(\n        address sender,\n        address recipient,\n        uint256 amount\n    ) external returns (bool);\n\n    // 3ä¸ªæŸ¥è¯¢\n    function totalSupply() external view returns (uint256);\n\n    function balanceOf(address account) external view returns (uint256);\n\n    function allowance(address owner, address spender)\n        external\n        view\n        returns (uint256);\n}\n")])])]),n("h3",{attrs:{id:"erc20-æ ‡å‡†åˆçº¦å®ç°"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#erc20-æ ‡å‡†åˆçº¦å®ç°"}},[e._v("#")]),e._v(" ERC20 æ ‡å‡†åˆçº¦å®ç°")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ninterface IERC20 {\n    // 1ä¸ªæˆæƒ\n    function approve(address spender, uint256 amount) external returns (bool);\n\n    // 2ä¸ªäº‹ä»¶\n    event Transfer(address indexed from, address indexed to, uint256 amount);\n    event Approval(\n        address indexed owner,\n        address indexed spender,\n        uint256 amount\n    );\n\n    // 2ä¸ªäº¤æ˜“\n    function transfer(address recipient, uint256 amount)\n        external\n        returns (bool);\n\n    function transferFrom(\n        address sender,\n        address recipient,\n        uint256 amount\n    ) external returns (bool);\n\n    // 3ä¸ªæŸ¥è¯¢\n    function totalSupply() external view returns (uint256);\n\n    function balanceOf(address account) external view returns (uint256);\n\n    function allowance(address owner, address spender)\n        external\n        view\n        returns (uint256);\n}\n\ncontract ERC20 is IERC20 {\n    // çŠ¶æ€å˜é‡\n    string public name;\n    string public symbol;\n    uint8 public immutable decimals;\n\n    address public immutable owner;\n\n    // uint256 public immutable totalSupply; // ä¸å¢åŠ æ€»é‡\n    uint256 public totalSupply; // æ€»ä»·æ€»é‡\n    mapping(address => uint256) public balanceOf;\n    mapping(address => mapping(address => uint256)) public allowance;\n\n    // å‡½æ•°ä¿®æ”¹å™¨\n    modifier onlyOwner() {\n        require(msg.sender == owner, "not owner");\n        _;\n    }\n\n    // æ„é€ å‡½æ•°\n    constructor(\n        string memory _name,\n        string memory _symbol,\n        uint8 _decimals,\n        uint256 _totalSupply\n    ) {\n        owner = msg.sender;\n        name = _name;\n        symbol = _symbol;\n        decimals = _decimals;\n        totalSupply = _totalSupply;\n        balanceOf[msg.sender] = _totalSupply;\n        emit Transfer(address(0), msg.sender, _totalSupply);\n    }\n\n    // 1ä¸ªæˆæƒ\n    function approve(address spender, uint256 amount) external returns (bool) {\n        allowance[msg.sender][spender] = amount;\n        emit Approval(msg.sender, spender, amount);\n        return true;\n    }\n\n    // 2ä¸ªäº¤æ˜“\n    function transfer(address recipient, uint256 amount)\n        external\n        returns (bool)\n    {\n        balanceOf[msg.sender] -= amount;\n        balanceOf[recipient] += amount;\n        emit Transfer(msg.sender, recipient, amount);\n        return true;\n    }\n\n    function transferFrom(\n        address sender,\n        address recipient,\n        uint256 amount\n    ) external returns (bool) {\n        // msg.sender ä¹Ÿå°±æ˜¯å½“å‰è°ƒç”¨è€…ï¼Œæ˜¯è¢«æ‰¹å‡†è€…\n        allowance[sender][msg.sender] -= amount;\n        balanceOf[sender] -= amount;\n        balanceOf[recipient] += amount;\n        emit Transfer(sender, recipient, amount);\n        return true;\n    }\n\n    // 1ä¸ªé“¸å¸ - éå¿…é¡»\n    function mint(uint256 amount) external onlyOwner returns (bool) {\n        totalSupply += amount;\n        balanceOf[msg.sender] += amount;\n        emit Transfer(address(0), msg.sender, amount);\n        return true;\n    }\n\n    // 1ä¸ªé”€æ¯ - éå¿…é¡»\n    function burn(uint256 amount) external returns (bool) {\n        totalSupply -= amount;\n        balanceOf[msg.sender] -= amount;\n        emit Transfer(msg.sender, address(0), amount);\n        return true;\n    }\n\n    // è½¬ç§» owner æƒé™ç­‰å…¶ä»–ä¸€äº›æ“ä½œå‡æ˜¯çœ‹å„è‡ªä¸šåŠ¡ï¼Œéå¿…éœ€çš„\n}\n')])])]),n("h2",{attrs:{id:"_5ï¸âƒ£-erc721-æ ‡å‡†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5ï¸âƒ£-erc721-æ ‡å‡†"}},[e._v("#")]),e._v(" 5ï¸âƒ£ ERC721 æ ‡å‡†")]),e._v(" "),n("p",[e._v("å‚è€ƒèµ„æ–™:")]),e._v(" "),n("ul",[n("li",[e._v("https://eips.ethereum.org/EIPS/eip-721")]),e._v(" "),n("li",[e._v("https://ethereum.org/zh/developers/docs/standards/tokens/erc-721/")])]),e._v(" "),n("h3",{attrs:{id:"åœºæ™¯è¯´æ˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åœºæ™¯è¯´æ˜"}},[e._v("#")]),e._v(" åœºæ™¯è¯´æ˜")]),e._v(" "),n("p",[e._v("éåŒè´¨åŒ–ä»£å¸ï¼ˆNFTï¼‰ç”¨äºä»¥å”¯ä¸€çš„æ–¹å¼æ ‡è¯†æŸäººæˆ–è€…æŸç‰©ã€‚ æ­¤ç±»å‹çš„ä»£å¸å¯ä»¥è¢«å®Œç¾åœ°ç”¨äºå‡ºå”®ä¸‹åˆ—ç‰©å“çš„å¹³å°ï¼šæ”¶è—å“ã€å¯†é’¥ã€å½©ç¥¨ã€éŸ³ä¹ä¼šåº§ä½ç¼–å·ã€ä½“è‚²æ¯”èµ›ç­‰ã€‚ è¿™ç§ç±»å‹çš„ä»£å¸æœ‰ç€æƒŠäººçš„æ½œåŠ›ï¼Œå› æ­¤å®ƒéœ€è¦ä¸€ä¸ªé€‚å½“çš„æ ‡å‡†ã€‚ERC-721 å°±æ˜¯ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜è€Œæ¥ï¼")]),e._v(" "),n("p",[e._v("æ‰€æœ‰ NFTs éƒ½æœ‰ä¸€ä¸ª "),n("code",[e._v("uint256")]),e._v(" å˜é‡ï¼Œåä¸º "),n("code",[e._v("tokenId")]),e._v("ï¼Œæ‰€ä»¥å¯¹äºä»»ä½• ERC-721 åˆçº¦ï¼Œè¿™å¯¹å€¼ "),n("code",[e._v("contract address, tokenId")]),e._v(" å¿…é¡»æ˜¯å…¨å±€å”¯ä¸€çš„ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå»ä¸­å¿ƒåŒ–åº”ç”¨ç¨‹åºå¯ä»¥æœ‰ä¸€ä¸ªâ€œè½¬æ¢å™¨â€ï¼Œ ä½¿ç”¨ tokenId ä½œä¸ºè¾“å…¥å¹¶è¾“å‡ºä¸€äº›å¾ˆé…·çš„äº‹ç‰©å›¾åƒï¼Œä¾‹å¦‚åƒµå°¸ã€æ­¦å™¨ã€æŠ€èƒ½æˆ–ç¥å¥‡çš„å°çŒ«å’ªï¼")]),e._v(" "),n("h3",{attrs:{id:"åˆçº¦ä»£ç "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åˆçº¦ä»£ç "}},[e._v("#")]),e._v(" åˆçº¦ä»£ç ")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('// SPDX-License-Identifier: MIT\n\npragma solidity ^0.8.0;\n\n/**\n * @dev ERC165 æ ‡å‡†çš„æ¥å£ https://eips.ethereum.org/EIPS/eip-165\n * https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified\n */\ninterface IERC165 {\n    /// @notice æŸ¥è¯¢åˆçº¦æ˜¯å¦å®ç°æ¥å£\n    /// @param interfaceID ERC-165 ä¸­æŒ‡å®šçš„æ¥å£æ ‡è¯†ç¬¦\n    /// @dev æ¥å£æ ‡è¯†åœ¨ ERC-165 ä¸­æŒ‡å®šã€‚æ­¤åŠŸèƒ½éœ€è¦ä½äº 30,000 gasã€‚\n    /// @return å¦‚æœåˆçº¦å®ç°äº† interfaceID ä¸” interfaceID ä¸æ˜¯ 0xffffffffï¼Œåˆ™ä¸º trueï¼Œå¦åˆ™ä¸º false\n    function supportsInterface(bytes4 interfaceID) external view returns (bool);\n}\n\n/// @title ERC-721 Non-Fungible Token Standard\n/// @dev See https://eips.ethereum.org/EIPS/eip-721\n///  Note: the ERC-165 identifier for this interface is 0x80ac58cd.\ninterface IERC721 is IERC165 {\n    /**\n     @dev å½“ä»»ä½• NFT çš„æ‰€æœ‰æƒé€šè¿‡ä»»ä½•å½¢å¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦è§¦å‘è¯¥äº‹ä»¶ã€‚\n     å½“ NFT åˆ›å»ºï¼ˆ`from` == 0ï¼‰å’Œé”€æ¯ï¼ˆ`to` == 0ï¼‰æ—¶ä¼šè§¦å‘æ­¤äº‹ä»¶ã€‚\n     ä¾‹å¤–æƒ…å†µï¼šåœ¨åˆçº¦åˆ›å»ºæœŸé—´ï¼Œå¯ä»¥åˆ›å»ºå’Œåˆ†é…ä»»æ„æ•°é‡çš„ NFTï¼Œè€Œä¸ä¼šå‘å‡º Transferã€‚\n     åœ¨ä»»ä½•å½¢å¼çš„èµ„äº§è½¬ç§»æ—¶ï¼Œè¯¥ NFTå¦‚æœæœ‰æ‰¹å‡†åœ°å€å°†é‡ç½®ä¸ºæ— ã€‚\n    */\n    event Transfer(\n        address indexed _from,\n        address indexed _to,\n        uint256 indexed _tokenId\n    );\n\n    /**\n     * å½“ NFT çš„æ‰¹å‡†åœ°å€è¢«æ›´æ”¹æˆ–é‡æ–°ç¡®è®¤æ—¶ï¼Œå®ƒä¼šå‘å‡ºã€‚\n     * é›¶åœ°å€è¡¨ç¤ºæ²¡æœ‰æ‰¹å‡†çš„åœ°å€ã€‚\n     * å½“ Transfer äº‹ä»¶å‘å‡ºæ—¶ï¼Œè¿™ä¹Ÿè¡¨æ˜è¯¥ NFT å¦‚æœæœ‰æ‰¹å‡†åœ°å€è¢«é‡ç½®ä¸ºæ— ã€‚\n     */\n    event Approval(\n        address indexed _owner,\n        address indexed _approved,\n        uint256 indexed _tokenId\n    );\n\n    /// @dev å½“ä¸ºæ‰€æœ‰è€…å¯ç”¨æˆ–ç¦ç”¨æ“ä½œå‘˜æ—¶ï¼Œå®ƒä¼šå‘å‡ºã€‚ è¿è¥è€…å¯ä»¥ç®¡ç†æ‰€æœ‰è€…çš„æ‰€æœ‰ NFTã€‚\n    event ApprovalForAll(\n        address indexed _owner,\n        address indexed _operator,\n        bool _approved\n    );\n\n    /// @notice æ‰€æœ‰è€…çš„ NFT æ•°é‡\n    /// @dev åˆ†é…ç»™é›¶åœ°å€çš„ NFT è¢«è®¤ä¸ºæ˜¯æ— æ•ˆçš„ï¼Œå¹¶ä¸”è¯¥å‡½æ•°æŠ›å‡ºæœ‰å…³é›¶åœ°å€çš„æŸ¥è¯¢ã€‚\n    /// @param _owner æŸ¥è¯¢ä½™é¢çš„åœ°å€\n    /// @return `_owner` æ‹¥æœ‰çš„ NFT æ•°é‡ï¼Œå¯èƒ½ä¸ºé›¶\n    function balanceOf(address _owner) external view returns (uint256);\n\n    /// @notice æ‰¾åˆ° NFT çš„æ‰€æœ‰è€…\n    /// @dev åˆ†é…ç»™é›¶åœ°å€çš„ NFT è¢«è®¤ä¸ºæ˜¯æ— æ•ˆçš„ï¼Œå¹¶ä¸”å¯¹å®ƒä»¬çš„æŸ¥è¯¢ç¡®å®ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚\n    /// @param _tokenId NFT çš„æ ‡è¯†ç¬¦\n    /// @return NFTæ‰€æœ‰è€…çš„åœ°å€\n    function ownerOf(uint256 _tokenId) external view returns (address);\n\n    /// @notice å°† NFT çš„æ‰€æœ‰æƒä»ä¸€ä¸ªåœ°å€è½¬ç§»åˆ°å¦ä¸€ä¸ªåœ°å€\n    /// @dev Throws unless `msg.sender` is the current owner, an authorized\n    ///  operator, or the approved address for this NFT. Throws if `_from` is\n    ///  not the current owner. Throws if `_to` is the zero address. Throws if\n    ///  `_tokenId` is not a valid NFT. When transfer is complete, this function\n    ///  checks if `_to` is a smart contract (code size > 0). If so, it calls\n    ///  `onERC721Received` on `_to` and throws if the return value is not\n    ///  `bytes4(keccak256("onERC721Received(address,address,uint256,bytes)"))`.\n    /// @param _from NFTçš„å½“å‰æ‰€æœ‰è€…\n    /// @param _to æ–° owner\n    /// @param _tokenId è½¬ç§»çš„ NFT\n    /// @param data æ²¡æœ‰æŒ‡å®šæ ¼å¼çš„é™„åŠ æ•°æ®ï¼Œåœ¨è°ƒç”¨ _to æ—¶å‘é€\n    function safeTransferFrom(\n        address _from,\n        address _to,\n        uint256 _tokenId,\n        bytes calldata data\n    ) external payable;\n\n    /// @notice å°† NFT çš„æ‰€æœ‰æƒä»ä¸€ä¸ªåœ°å€è½¬ç§»åˆ°å¦ä¸€ä¸ªåœ°å€\n    /// @dev è¿™ä¸å…·æœ‰é¢å¤–æ•°æ®å‚æ•°çš„å…¶ä»–å‡½æ•°çš„å·¥ä½œæ–¹å¼ç›¸åŒï¼Œåªæ˜¯æ­¤å‡½æ•°åªæ˜¯å°†æ•°æ®è®¾ç½®ä¸ºâ€œâ€ã€‚\n    /// @param _from NFTçš„å½“å‰æ‰€æœ‰è€…\n    /// @param _to æ–° owner\n    /// @param _tokenId è½¬ç§»çš„ NFT\n    function safeTransferFrom(\n        address _from,\n        address _to,\n        uint256 _tokenId\n    ) external payable;\n\n    /// @notice è½¬ç§» NFT çš„æ‰€æœ‰æƒâ€”â€”è°ƒç”¨è€…æœ‰è´£ä»»ç¡®è®¤ `_to` èƒ½å¤Ÿæ¥æ”¶ NFTSï¼Œå¦åˆ™å®ƒä»¬å¯èƒ½ä¼šæ°¸ä¹…ä¸¢å¤±\n    /// @dev Throws unless `msg.sender` is the current owner, an authorized\n    ///  operator, or the approved address for this NFT. Throws if `_from` is\n    ///  not the current owner. Throws if `_to` is the zero address. Throws if\n    ///  `_tokenId` is not a valid NFT.\n    /// @param _from NFTçš„å½“å‰æ‰€æœ‰è€…\n    /// @param _to æ–° owner\n    /// @param _tokenId è½¬ç§»çš„ NFT\n    function transferFrom(\n        address _from,\n        address _to,\n        uint256 _tokenId\n    ) external payable;\n\n    /// @notice æ›´æ”¹æˆ–é‡ç”³ NFT çš„æ‰¹å‡†åœ°å€\n    /// @dev The zero address indicates there is no approved address.\n    ///  Throws unless `msg.sender` is the current NFT owner, or an authorized\n    ///  operator of the current owner.\n    /// @param _approved æ–°æ‰¹å‡†çš„ NFT æ§åˆ¶å™¨\n    /// @param _tokenId NFT æ‰¹å‡†\n    function approve(address _approved, uint256 _tokenId) external payable;\n\n    /// @notice å¯ç”¨æˆ–ç¦ç”¨å¯¹ç¬¬ä¸‰æ–¹ï¼ˆâ€œæ“ä½œå‘˜â€ï¼‰çš„æ‰¹å‡†ä»¥ç®¡ç†æ‰€æœ‰ `msg.sender` çš„èµ„äº§\n    /// @dev å‘å‡º ApprovalForAll äº‹ä»¶ã€‚ åˆåŒå¿…é¡»å…è®¸æ¯ä¸ªæ‰€æœ‰è€…æœ‰å¤šä¸ªæ“ä½œå‘˜ã€‚\n    /// @param _operator æ·»åŠ åˆ°æˆæƒè¿è¥å•†é›†ä¸­çš„åœ°å€\n    /// @param _approved å¦‚æœè¿è¥å•†è·å¾—æ‰¹å‡†ï¼Œåˆ™ä¸º Trueï¼Œå¦‚æœæ’¤æ¶ˆæ‰¹å‡†ï¼Œåˆ™ä¸º false\n    function setApprovalForAll(address _operator, bool _approved) external;\n\n    /// @notice è·å–å•ä¸ª NFT çš„è®¤å¯åœ°å€\n    /// @dev å¦‚æœ _tokenId ä¸æ˜¯æœ‰æ•ˆçš„ NFTï¼Œåˆ™æŠ›å‡ºã€‚\n    /// @param _tokenId NFTå¯»æ‰¾æ‰¹å‡†çš„åœ°å€\n    /// @return æ­¤ NFT çš„æ‰¹å‡†åœ°å€ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¸ºé›¶åœ°å€\n    function getApproved(uint256 _tokenId) external view returns (address);\n\n    /// @notice æŸ¥è¯¢ä¸€ä¸ªåœ°å€æ˜¯å¦æ˜¯å¦ä¸€ä¸ªåœ°å€çš„æˆæƒæ“ä½œå‘˜\n    /// @param _owner æ‹¥æœ‰ NFT çš„åœ°å€\n    /// @param _operator ä»£è¡¨æ‰€æœ‰è€…çš„åœ°å€\n    /// @return å¦‚æœ _operator æ˜¯ _owner çš„æ‰¹å‡†è¿ç®—ç¬¦ï¼Œåˆ™ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡\n    function isApprovedForAll(address _owner, address _operator)\n        external\n        view\n        returns (bool);\n}\n')])])]),n("h2",{attrs:{id:"_6ï¸âƒ£-erc1155-æ ‡å‡†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6ï¸âƒ£-erc1155-æ ‡å‡†"}},[e._v("#")]),e._v(" 6ï¸âƒ£ ERC1155 æ ‡å‡†")]),e._v(" "),n("p",[e._v("å‚è€ƒèµ„æ–™:")]),e._v(" "),n("ul",[n("li",[e._v("https://eips.ethereum.org/EIPS/eip-1155")]),e._v(" "),n("li",[e._v("https://ethereum.org/zh/developers/docs/standards/tokens/erc-1155/")])]),e._v(" "),n("h3",{attrs:{id:"åœºæ™¯è¯´æ˜-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åœºæ™¯è¯´æ˜-2"}},[e._v("#")]),e._v(" åœºæ™¯è¯´æ˜")]),e._v(" "),n("p",[e._v("ç”¨äºå¤šç§ä»£å¸ç®¡ç†çš„åˆçº¦æ ‡å‡†æ¥å£ã€‚å•ä¸ªéƒ¨ç½²çš„åˆçº¦å¯ä»¥åŒ…æ‹¬åŒè´¨åŒ–ä»£å¸ã€éåŒè´¨åŒ–ä»£å¸æˆ–å…¶ä»–é…ç½®ï¼ˆå¦‚åŠåŒè´¨åŒ–ä»£å¸ï¼‰çš„ä»»ä½•ç»„åˆã€‚")]),e._v(" "),n("p",[e._v("å®ƒçš„ç›®çš„å¾ˆå•çº¯ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ªæ™ºèƒ½åˆçº¦æ¥å£ï¼Œå¯ä»¥ä»£è¡¨å’Œæ§åˆ¶ä»»ä½•æ•°é‡çš„åŒè´¨åŒ–å’ŒéåŒè´¨åŒ–ä»£å¸ç±»å‹ã€‚ è¿™æ ·ä¸€æ¥ï¼ŒERC-1155 ä»£å¸å°±å…·æœ‰ä¸ ERC-20 å’Œ ERC-721 ä»£å¸ç›¸åŒçš„åŠŸèƒ½ï¼Œç”šè‡³å¯ä»¥åŒæ—¶ä½¿ç”¨è¿™ä¸¤è€…çš„åŠŸèƒ½ã€‚ è€Œæœ€é‡è¦çš„æ˜¯ï¼Œå®ƒèƒ½æ”¹å–„è¿™ä¸¤ç§æ ‡å‡†çš„åŠŸèƒ½ï¼Œä½¿å…¶æ›´æœ‰æ•ˆç‡ï¼Œå¹¶çº æ­£ ERC-20 å’Œ ERC-721 æ ‡å‡†ä¸Šæ˜æ˜¾çš„å®æ–½é”™è¯¯ã€‚")]),e._v(" "),n("h3",{attrs:{id:"åˆçº¦ä»£ç -2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åˆçº¦ä»£ç -2"}},[e._v("#")]),e._v(" åˆçº¦ä»£ç ")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('// SPDX-License-Identifier: MIT\n\npragma solidity ^0.8.0;\n\n/**\n * @dev ERC165 æ ‡å‡†çš„æ¥å£ https://eips.ethereum.org/EIPS/eip-165\n * https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified\n */\ninterface IERC165 {\n    /// @notice æŸ¥è¯¢åˆçº¦æ˜¯å¦å®ç°æ¥å£\n    /// @param interfaceID ERC-165 ä¸­æŒ‡å®šçš„æ¥å£æ ‡è¯†ç¬¦\n    /// @dev æ¥å£æ ‡è¯†åœ¨ ERC-165 ä¸­æŒ‡å®šã€‚æ­¤åŠŸèƒ½éœ€è¦ä½äº 30,000 gasã€‚\n    /// @return å¦‚æœåˆçº¦å®ç°äº† interfaceID ä¸” interfaceID ä¸æ˜¯ 0xffffffffï¼Œåˆ™ä¸º trueï¼Œå¦åˆ™ä¸º false\n    function supportsInterface(bytes4 interfaceID) external view returns (bool);\n}\n\n/**\n    @title ERC-1155 Multi Token Standard\n    @dev See https://eips.ethereum.org/EIPS/eip-1155\n    Note: The ERC-165 identifier for this interface is 0xd9b67a26.\n */\ninterface IERC1155 is IERC165 {\n    /**\n        @dev Either `TransferSingle` or `TransferBatch` MUST emit when tokens are transferred,\n        including zero value transfers as well as minting or burning (see "Safe Transfer Rules" section of the standard).\n        The `_operator` argument MUST be the address of an account/contract that is approved to make the transfer (SHOULD be msg.sender).\n        The `_from` argument MUST be the address of the holder whose balance is decreased.\n        The `_to` argument MUST be the address of the recipient whose balance is increased.\n        The `_id` argument MUST be the token type being transferred.\n        The `_value` argument MUST be the number of tokens the holder balance is decreased by and match what the recipient balance is increased by.\n        When minting/creating tokens, the `_from` argument MUST be set to `0x0` (i.e. zero address).\n        When burning/destroying tokens, the `_to` argument MUST be set to `0x0` (i.e. zero address).\n    */\n    event TransferSingle(\n        address indexed _operator,\n        address indexed _from,\n        address indexed _to,\n        uint256 _id,\n        uint256 _value\n    );\n\n    /**\n        @dev Either `TransferSingle` or `TransferBatch` MUST emit when tokens are transferred,\n        including zero value transfers as well as minting or burning (see "Safe Transfer Rules" section of the standard).\n        The `_operator` argument MUST be the address of an account/contract that is approved to make the transfer (SHOULD be msg.sender).\n        The `_from` argument MUST be the address of the holder whose balance is decreased.\n        The `_to` argument MUST be the address of the recipient whose balance is increased.\n        The `_ids` argument MUST be the list of tokens being transferred.\n        The `_values` argument MUST be the list of number of tokens (matching the list and order of tokens specified in _ids)\n        the holder balance is decreased by and match what the recipient balance is increased by.\n        When minting/creating tokens, the `_from` argument MUST be set to `0x0` (i.e. zero address).\n        When burning/destroying tokens, the `_to` argument MUST be set to `0x0` (i.e. zero address).\n    */\n    event TransferBatch(\n        address indexed _operator,\n        address indexed _from,\n        address indexed _to,\n        uint256[] _ids,\n        uint256[] _values\n    );\n\n    /**\n        @dev å¿…é¡»åœ¨æ‰¹å‡†ç¬¬äºŒæ–¹/è¿è¥å•†åœ°å€ç®¡ç†æ‰€æœ‰è€…åœ°å€çš„æ‰€æœ‰ä»¤ç‰Œæ—¶å¯ç”¨æˆ–ç¦ç”¨ï¼ˆæ²¡æœ‰äº‹ä»¶å‡å®šç¦ç”¨ï¼‰\n    */\n    event ApprovalForAll(\n        address indexed _owner,\n        address indexed _operator,\n        bool _approved\n    );\n\n    /**\n        @dev å¿…é¡»åœ¨ä¸ºä»¤ç‰Œ ID æ›´æ–° URI æ—¶å‘å‡ºã€‚\n        URI åœ¨ RFC 3986 ä¸­å®šä¹‰ã€‚\n        URI å¿…é¡»æŒ‡å‘ç¬¦åˆâ€œERC-1155 å…ƒæ•°æ® URI JSON æ¨¡å¼â€çš„ JSON æ–‡ä»¶ã€‚\n    */\n    event URI(string _value, uint256 indexed _id);\n\n    /**\n        @notice Transfers `_value` amount of an `_id` from the `_from` address\n                to the `_to` address specified (with safety call).\n        @dev Caller must be approved to manage the tokens being transferred\n        out of the `_from` account (see "Approval" section of the standard).\n        MUST revert if `_to` is the zero address.\n        MUST revert if balance of holder for token `_id` is lower than the `_value` sent.\n        MUST revert on any other error.\n        MUST emit the `TransferSingle` event to reflect the balance change (see "Safe Transfer Rules" section of the standard).\n        After the above conditions are met, this function MUST check if `_to` is a smart contract (e.g. code size > 0). If so,\n        it MUST call `onERC1155Received` on `_to` and act appropriately (see "Safe Transfer Rules" section of the standard).\n        @param _from    Source address\n        @param _to      Target address\n        @param _id      ID of the token type\n        @param _value   Transfer amount\n        @param _data    Additional data with no specified format, MUST be sent unaltered in call to `onERC1155Received` on `_to`\n    */\n    function safeTransferFrom(\n        address _from,\n        address _to,\n        uint256 _id,\n        uint256 _value,\n        bytes calldata _data\n    ) external;\n\n    /**\n        @notice å°† `_ids` çš„ `_values` æ•°é‡ä» `_from` åœ°å€è½¬ç§»åˆ°æŒ‡å®šçš„ `_to` åœ°å€ï¼ˆä½¿ç”¨å®‰å…¨è°ƒç”¨ï¼‰ã€‚\n        @dev Caller must be approved to manage the tokens being transferred out of the `_from` account (see "Approval" section of the standard).\n        MUST revert if `_to` is the zero address.\n        MUST revert if length of `_ids` is not the same as length of `_values`.\n        MUST revert if any of the balance(s) of the holder(s) for token(s) in `_ids` is lower than the respective amount(s) in `_values` sent to the recipient.\n        MUST revert on any other error.\n        MUST emit `TransferSingle` or `TransferBatch` event(s) such that all the balance changes are reflected (see "Safe Transfer Rules" section of the standard).\n        Balance changes and events MUST follow the ordering of the arrays (_ids[0]/_values[0] before _ids[1]/_values[1], etc).\n        After the above conditions for the transfer(s) in the batch are met, this function MUST check if `_to` is a smart contract (e.g. code size > 0). If so,\n        it MUST call the relevant `ERC1155TokenReceiver` hook(s) on `_to` and act appropriately (see "Safe Transfer Rules" section of the standard).\n        @param _from    Source address\n        @param _to      Target address\n        @param _ids     æ¯ä¸ªä»¤ç‰Œç±»å‹çš„ IDï¼ˆé¡ºåºå’Œé•¿åº¦å¿…é¡»åŒ¹é… _values æ•°ç»„ï¼‰\n        @param _values  æ¯ç§ä»£å¸ç±»å‹çš„è½¬è´¦é‡‘é¢ï¼ˆé¡ºåºå’Œé•¿åº¦å¿…é¡»åŒ¹é… _ids æ•°ç»„ï¼‰\n        @param _data    æ²¡æœ‰æŒ‡å®šæ ¼å¼çš„é¢å¤–æ•°æ®ï¼Œå¿…é¡»åœ¨è°ƒç”¨ _to ä¸Šçš„ `ERC1155TokenReceiver` é’©å­æ—¶åŸå°ä¸åŠ¨åœ°å‘é€\n    */\n    function safeBatchTransferFrom(\n        address _from,\n        address _to,\n        uint256[] calldata _ids,\n        uint256[] calldata _values,\n        bytes calldata _data\n    ) external;\n\n    /**\n        @notice è·å–å¸æˆ·ä»¤ç‰Œçš„ä½™é¢ã€‚\n        @param _owner  ä»¤ç‰ŒæŒæœ‰è€…çš„åœ°å€\n        @param _id     ID of the token\n        @return        è¯·æ±‚çš„ä»£å¸ç±»å‹çš„æ‰€æœ‰è€…ä½™é¢\n     */\n    function balanceOf(address _owner, uint256 _id)\n        external\n        view\n        returns (uint256);\n\n    /**\n        @notice è·å–å¤šä¸ªè´¦æˆ·/ä»£å¸å¯¹çš„ä½™é¢\n        @param _owners ä»£å¸æŒæœ‰è€…çš„åœ°å€\n        @param _ids    ID of the tokens\n        @return        è¯·æ±‚çš„ä»¤ç‰Œç±»å‹çš„ _owner ä½™é¢ï¼ˆå³æ¯ä¸ª (owner, id) å¯¹çš„ä½™é¢ï¼‰\n     */\n    function balanceOfBatch(address[] calldata _owners, uint256[] calldata _ids)\n        external\n        view\n        returns (uint256[] memory);\n\n    /**\n        @notice å¯ç”¨æˆ–ç¦ç”¨å¯¹ç¬¬ä¸‰æ–¹ï¼ˆâ€œæ“ä½œå‘˜â€ï¼‰çš„æ‰¹å‡†ä»¥ç®¡ç†æ‰€æœ‰è°ƒç”¨è€…çš„ä»¤ç‰Œã€‚\n        @dev å¿…é¡»åœ¨æˆåŠŸæ—¶å‘å‡º ApprovalForAll äº‹ä»¶ã€‚\n        @param _operator  æ·»åŠ åˆ°æˆæƒè¿è¥å•†é›†ä¸­çš„åœ°å€\n        @param _approved  å¦‚æœè¿è¥å•†è·å¾—æ‰¹å‡†ï¼Œåˆ™ä¸º Trueï¼Œå¦‚æœæ’¤æ¶ˆæ‰¹å‡†ï¼Œåˆ™ä¸º false\n    */\n    function setApprovalForAll(address _operator, bool _approved) external;\n\n    /**\n        @notice æŸ¥è¯¢ç»™å®šæ‰€æœ‰è€…çš„æ“ä½œå‘˜çš„æ‰¹å‡†çŠ¶æ€ã€‚\n        @param _owner     The owner of the tokens\n        @param _operator  æˆæƒæ“ä½œå‘˜çš„åœ°å€\n        @return           å¦‚æœæ“ä½œå‘˜è¢«æ‰¹å‡†åˆ™ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡\n    */\n    function isApprovedForAll(address _owner, address _operator)\n        external\n        view\n        returns (bool);\n}\n')])])]),n("h2",{attrs:{id:"_7ï¸âƒ£-erc3525-æ ‡å‡†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7ï¸âƒ£-erc3525-æ ‡å‡†"}},[e._v("#")]),e._v(" 7ï¸âƒ£ ERC3525 æ ‡å‡†")]),e._v(" "),n("p",[e._v("æ¯ä¸ªç¬¦åˆ EIP-3525 çš„åˆçº¦éƒ½å¿…é¡»å®ç° EIP-3525ã€EIP-721 å’Œ EIP-165 æ¥å£")]),e._v(" "),n("p",[e._v("å‚è€ƒèµ„æ–™:")]),e._v(" "),n("ul",[n("li",[e._v("https://eips.ethereum.org/EIPS/eip-3525")])]),e._v(" "),n("h3",{attrs:{id:"åœºæ™¯è¯´æ˜-3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åœºæ™¯è¯´æ˜-3"}},[e._v("#")]),e._v(" åœºæ™¯è¯´æ˜")]),e._v(" "),n("p",[e._v("æè¿°ä¸€ç»„å…·æœ‰ç›¸åŒç±»å‹ï¼Œä½†æ˜¯æœ‰è½»å¾®ä¸åŒçš„ä¸œè¥¿ã€‚æ¯”å¦‚ç›¸åŒçš„ 100 å…ƒäººæ°‘å¸ï¼Œä¸€å…± 100 å¼ ï¼Œæ¯ä¸€å¼ éƒ½æ˜¯ä»·å€¼ 100 çš„çº¸å¸ï¼Œå¤§éƒ¨åˆ†çš„é˜²ä¼ªç­‰ç­‰éƒ½ä¸åŒï¼Œä½†æ˜¯æ¯ä¸€å¼ éƒ½ç¼–å·éƒ½ä¸åŒã€‚")]),e._v(" "),n("h3",{attrs:{id:"åˆçº¦ä»£ç -3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åˆçº¦ä»£ç -3"}},[e._v("#")]),e._v(" åˆçº¦ä»£ç ")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\n/**\n * @title EIP-3525 Semi-Fungible Token Standard\n * Note: the EIP-165 identifier for this interface is 0xd5358140.\n */\n\ninterface IERC3525  /* is IERC165, IERC721 */ {\n    /**\n     * @dev MUST emit when value of a token is transferred to another token with the same slot,\n     *  including zero value transfers (_value == 0) as well as transfers when tokens are created\n     *  (`_fromTokenId` == 0) or destroyed (`_toTokenId` == 0).\n     * @param _fromTokenId The token id to transfer value from\n     * @param _toTokenId The token id to transfer value to\n     * @param _value The transferred value\n     */\n    event TransferValue(\n        uint256 indexed _fromTokenId,\n        uint256 indexed _toTokenId,\n        uint256 _value\n    );\n\n    /**\n     * @dev MUST emit when the approval value of a token is set or changed.\n     * @param _tokenId The token to approve\n     * @param _operator The operator to approve for\n     * @param _value The maximum value that `_operator` is allowed to manage\n     */\n    event ApprovalValue(\n        uint256 indexed _tokenId,\n        address indexed _operator,\n        uint256 _value\n    );\n\n    /**\n     * @dev MUST emit when the slot of a token is set or changed.\n     * @param _tokenId The token of which slot is set or changed\n     * @param _oldSlot The previous slot of the token\n     * @param _newSlot The updated slot of the token\n     */\n    event SlotChanged(\n        uint256 indexed _tokenId,\n        uint256 indexed _oldSlot,\n        uint256 indexed _newSlot\n    );\n\n    /**\n     * @notice Get the number of decimals the token uses for value - e.g. 6, means the user\n     *  representation of the value of a token can be calculated by dividing it by 1,000,000.\n     *  Considering the compatibility with third-party wallets, this function is defined as\n     *  `valueDecimals()` instead of `decimals()` to avoid conflict with EIP-20 tokens.\n     * @return The number of decimals for value\n     */\n    function valueDecimals() external view returns (uint8);\n\n    /**\n     * @notice Get the value of a token.\n     * @param _tokenId The token for which to query the balance\n     * @return The value of `_tokenId`\n     */\n    function balanceOf(uint256 _tokenId) external view returns (uint256);\n\n    /**\n     * @notice Get the slot of a token.\n     * @param _tokenId The identifier for a token\n     * @return The slot of the token\n     */\n    function slotOf(uint256 _tokenId) external view returns (uint256);\n\n    /**\n     * @notice Allow an operator to manage the value of a token, up to the `_value`.\n     * @dev MUST revert unless caller is the current owner, an authorized operator, or the approved\n     *  address for `_tokenId`.\n     *  MUST emit the ApprovalValue event.\n     * @param _tokenId The token to approve\n     * @param _operator The operator to be approved\n     * @param _value The maximum value of `_toTokenId` that `_operator` is allowed to manage\n     */\n    function approve(\n        uint256 _tokenId,\n        address _operator,\n        uint256 _value\n    ) external payable;\n\n    /**\n     * @notice Get the maximum value of a token that an operator is allowed to manage.\n     * @param _tokenId The token for which to query the allowance\n     * @param _operator The address of an operator\n     * @return The current approval value of `_tokenId` that `_operator` is allowed to manage\n     */\n    function allowance(uint256 _tokenId, address _operator)\n        external\n        view\n        returns (uint256);\n\n    /**\n     * @notice Transfer value from a specified token to another specified token with the same slot.\n     * @dev Caller MUST be the current owner, an authorized operator or an operator who has been\n     *  approved the whole `_fromTokenId` or part of it.\n     *  MUST revert if `_fromTokenId` or `_toTokenId` is zero token id or does not exist.\n     *  MUST revert if slots of `_fromTokenId` and `_toTokenId` do not match.\n     *  MUST revert if `_value` exceeds the balance of `_fromTokenId` or its allowance to the\n     *  operator.\n     *  MUST emit `TransferValue` event.\n     * @param _fromTokenId The token to transfer value from\n     * @param _toTokenId The token to transfer value to\n     * @param _value The transferred value\n     */\n    function transferFrom(\n        uint256 _fromTokenId,\n        uint256 _toTokenId,\n        uint256 _value\n    ) external payable;\n\n    /**\n     * @notice è½¬ç§»å°†æŒ‡å®šæ•°é‡çš„ä»£å¸åˆ°æ–°åœ°å€ã€‚è°ƒç”¨è€…åº”ç¡®è®¤ _to èƒ½å¤Ÿæ¥æ”¶ EIP-3525 èµ„äº§ã€‚\n     * @dev This function MUST create a new EIP-3525 token with the same slot for `_to`,\n     *  or find an existing token with the same slot owned by `_to`, to receive the transferred value.\n     *  MUST revert if `_fromTokenId` is zero token id or does not exist.\n     *  MUST revert if `_to` is zero address.\n     *  MUST revert if `_value` exceeds the balance of `_fromTokenId` or its allowance to the\n     *  operator.\n     *  MUST emit `Transfer` and `TransferValue` events.\n     * @param _fromTokenId The token to transfer value from\n     * @param _to The address to transfer value to\n     * @param _value The transferred value\n     * @return ID of the token which receives the transferred value\n     */\n    function transferFrom(\n        uint256 _fromTokenId,\n        address _to,\n        uint256 _value\n    ) external payable returns (uint256);\n}\n")])])]),n("h3",{attrs:{id:"æ‰©å±•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ‰©å±•"}},[e._v("#")]),e._v(" æ‰©å±•")]),e._v(" "),n("p",[e._v("æ›´å¤šå…³äº 3525 åè®®çš„å†…å®¹ï¼Œå‚è€ƒ https://cloud.tencent.com/developer/article/2155201")]),e._v(" "),n("h2",{attrs:{id:"_8ï¸âƒ£-å››ç§ä»£å¸æ ‡å‡†çš„å¯¹æ¯”"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8ï¸âƒ£-å››ç§ä»£å¸æ ‡å‡†çš„å¯¹æ¯”"}},[e._v("#")]),e._v(" 8ï¸âƒ£ å››ç§ä»£å¸æ ‡å‡†çš„å¯¹æ¯”")]),e._v(" "),n("p",[n("img",{attrs:{src:"/_static/13/01.jpeg",alt:""}})]),e._v(" "),n("p",[n("img",{attrs:{src:"/_static/13/02.jpeg",alt:""}})]),e._v(" "),n("p",[n("img",{attrs:{src:"/_static/13/03.jpeg",alt:""}})]),e._v(" "),n("p",[n("img",{attrs:{src:"/_static/13/04.jpeg",alt:""}})]),e._v(" "),n("h2",{attrs:{id:"ğŸ†—-å®æˆ˜-è·å…°æ‹å–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ†—-å®æˆ˜-è·å…°æ‹å–"}},[e._v("#")]),e._v(" ğŸ†— å®æˆ˜:è·å…°æ‹å–")]),e._v(" "),n("h3",{attrs:{id:"åŸç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŸç†"}},[e._v("#")]),e._v(" åŸç†")]),e._v(" "),n("p",[e._v("æ‹å– NFT")]),e._v(" "),n("ul",[n("li",[e._v("éœ€è¦æ‹¥æœ‰ NFT")]),e._v(" "),n("li",[e._v("éœ€è¦åœ¨ NFT åˆçº¦å†…å¯¹æ‹å–åˆçº¦åš "),n("code",[e._v("aoorove")]),e._v(";")])]),e._v(" "),n("h3",{attrs:{id:"ä»£ç "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç "}},[e._v("#")]),e._v(" ä»£ç ")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ninterface IERC721 {\n    function transferFrom(\n        address _form,\n        address _to,\n        uint256 _nftId\n    ) external;\n}\n\ncontract DutchAuction {\n    uint256 private immutable duration;\n\n    address payable public immutable seller;\n\n    IERC721 public immutable nft;\n    uint256 public immutable nftId;\n\n    uint256 public immutable startingPrice;\n    uint256 public immutable startAt;\n    uint256 public immutable endAt;\n    uint256 public immutable discountRate;\n\n    constructor(\n        address _nft,\n        uint256 _nftId,\n        uint256 _startingPrice,\n        uint256 _duration,\n        uint256 _discountRate\n    ) {\n        require(\n            _startingPrice >= _duration * _discountRate,\n            "starting price < discount"\n        );\n        seller = payable(msg.sender);\n        nft = IERC721(_nft); // éœ€è¦ IERC721 è¿›è¡Œè½¬æ¢\n        nftId = _nftId;\n        duration = _duration;\n        startingPrice = _startingPrice;\n        discountRate = _discountRate;\n\n        startAt = block.timestamp;\n        endAt = block.timestamp + _duration;\n    }\n\n    // è·å–ä»·æ ¼\n    function getPrice() public view returns (uint256) {\n        uint256 timeElapsed = block.timestamp - startAt;\n        uint256 discount = discountRate * timeElapsed;\n        return startingPrice - discount;\n    }\n\n    // è´­ä¹°\n    function buy() external payable {\n        // æ‰“åŒ…æ—¶é—´éœ€è¦åœ¨æ‹å–æˆªæ­¢ä¹‹å‰\n        require(block.timestamp < endAt, "Auction has ended");\n\n        uint256 price = getPrice();\n        require(msg.value >= price, "Insufficient amount");\n        nft.transferFrom(seller, msg.sender, nftId);\n\n        // å¦‚æœæœ‰å¤šä½™çš„é’±ï¼Œéœ€è¦æŠŠé’±é€€ä¼šè´­ä¹°è€…è´¦å·(æäº¤æ—¶é—´å’Œæ‰“åŒ…ç¡®è®¤æ—¶é—´ä¸ä¸€è‡´)\n        uint256 refund = msg.value - price;\n        if (refund > 0) {\n            payable(msg.sender).transfer(refund);\n        }\n        selfdestruct(seller);\n    }\n}\n')])])]),n("h2",{attrs:{id:"ğŸ†—-å®æˆ˜-è‹±å¼æ‹å–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ†—-å®æˆ˜-è‹±å¼æ‹å–"}},[e._v("#")]),e._v(" ğŸ†— å®æˆ˜:è‹±å¼æ‹å–")]),e._v(" "),n("h3",{attrs:{id:"åŸç†-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŸç†-2"}},[e._v("#")]),e._v(" åŸç†")]),e._v(" "),n("p",[e._v("æ‹å– NFT")]),e._v(" "),n("ul",[n("li",[e._v("éœ€è¦æ‹¥æœ‰ NFT")]),e._v(" "),n("li",[e._v("éœ€è¦åœ¨ NFT åˆçº¦å†…å¯¹æ‹å–åˆçº¦åš "),n("code",[e._v("aoorove")]),e._v(";")])]),e._v(" "),n("h3",{attrs:{id:"ä»£ç -2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç -2"}},[e._v("#")]),e._v(" ä»£ç ")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ninterface IERC721 {\n    function transferFrom(\n        address _form,\n        address _to,\n        uint256 _nftId\n    ) external;\n}\n\n// TODO: åŒºå—æ³¨é‡Šä¿¡æ¯ï¼Œå¯ä»¥é€‰æ‹©åœ¨åˆçº¦å®Œæˆååˆ é™¤\ncontract HelloComrades {\n    /*\n     * ========================================\n     * State Variables\n     * ========================================\n     */\n\n    address payable public immutable seller;\n\n    IERC721 public immutable nft;\n    uint256 public immutable nftId;\n\n    uint32 public endAt; // ç»“æŸæ—¶é—´\n    bool public started; // å¼€å§‹æ—¶é—´\n    bool public ended; // ç»“æŸæ—¶é—´\n\n    uint256 public highestBid; // æœ€é«˜å‡ºä»·\n    address public highestBider; // æœ€é«˜å‡ºä»·äºº\n    mapping(address => uint256) public bids; // é™¤äº†æœ€é«˜å‡ºä»·å¤–çš„æ‰€æœ‰å‡ºä»·äºº\n\n    /*\n     * ========================================\n     * Events\n     * ========================================\n     */\n    event Start();\n    event End(address highestBider, uint256 amount);\n    event Bid(address indexed sender, uint256 amount);\n    event Withdraw(address indexed sender, uint256 amount);\n\n    /*\n     * ========================================\n     * Modifier\n     * ========================================\n     */\n\n    /*\n     * ========================================\n     * Errors\n     * ========================================\n     */\n\n    /*\n     * ========================================\n     * Constructor\n     * ========================================\n     */\n    constructor(\n        address _nft,\n        uint256 _nftId,\n        uint256 _startingPrice\n    ) {\n        seller = payable(msg.sender);\n        nft = IERC721(_nft); // éœ€è¦ IERC721 è¿›è¡Œè½¬æ¢\n        nftId = _nftId;\n        highestBid = _startingPrice;\n    }\n\n    /*\n     * ========================================\n     * Functions\n     * ========================================\n     */\n    function start() external {\n        require(msg.sender == seller, "Nor seller");\n        require(!started, "started");\n\n        started = true;\n        endAt = uint32(block.timestamp + 60);\n        nft.transferFrom(seller, address(this), nftId);\n\n        emit Start();\n    }\n\n    function bid() external payable {\n        require(started, "Not started"); //éœ€è¦æ—¶é—´å·²ç»å¼€å§‹\n        require(block.timestamp < endAt, "ended"); // éœ€è¦æ—¶é—´è¿˜æ²¡æœ‰è¿‡æœŸ\n        require(msg.value > highestBid, "invalid price"); // éœ€è¦é«˜äºä¸Šæ¬¡å‡ºä»·\n\n        // æŠŠä¸Šä¸€æ¬¡æœ€é«˜å‡ºä»·å’Œå‡ºä»·äººå†™å…¥è´¦æœ¬\n        if (highestBider != address(0)) {\n            bids[highestBider] += highestBid;\n        }\n\n        // æ›´æ–°æœ€é«˜å‡ºä»·/æœ€é«˜å‡ºä»·äºº\n        highestBid = msg.value;\n        highestBider = msg.sender;\n        emit Bid(msg.sender, msg.value);\n    }\n\n    // å–å›è‡ªå·±çš„å‡ºä»·\n    function withdraw() external {\n        uint256 bal = bids[msg.sender];\n        require(bal > 0, "No amount can be refunded");\n        bids[msg.sender] = 0; //ä¸ºäº†é˜²æ­¢æ¼æ´å‘ç”Ÿï¼Œéœ€è¦å…ˆæŠŠçŠ¶æ€ä¿®æ”¹\n        payable(msg.sender).transfer(bal);\n        emit Withdraw(msg.sender, bal);\n    }\n\n    // ç»“æŸæ‹å–;ä¸éœ€è¦åšèº«ä»½ç¡®è®¤ï¼Œå› ä¸ºéœ€è¦åšçš„äº‹æƒ…æ˜¯å›ºå®šçš„ï¼Œ\n    // èƒ½ä¸åšèº«ä»½åˆ¤æ–­å°±ä¸éœ€è¦åšï¼Œå¯ä»¥èŠ‚çœGas\n    function end() external {\n        require(started, "Not started"); // éœ€è¦å·²ç»å¼€å§‹\n        require(!ended, "is ended"); // éœ€è¦è¿˜æ²¡æœ‰ç»“æŸ\n        require(block.timestamp >= endAt, "auction in progress");\n        ended = true;\n\n        if (highestBider != address(0)) {\n            // å¦‚æœæœ‰äººå‡ºä»·åˆ™å°† NFT ç»™æœ€é«˜å‡ºä»·äººï¼Œæœ€é«˜ä»·æ ¼ç»™é”€å”®è€…\n            nft.transferFrom(address(this), highestBider, nftId);\n            seller.transfer(highestBid);\n        } else {\n            // å¦‚æœæ²¡æœ‰äººå‡ºä»·ï¼Œåˆ™NFTåŸè·¯è¿”è¿˜ç»™é”€å”®è€…\n            nft.transferFrom(address(this), seller, nftId);\n        }\n        emit End(highestBider, highestBid);\n    }\n\n    /*\n     * ========================================\n     * Helper\n     * ========================================\n     */\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n}\n')])])]),n("h3",{attrs:{id:"æµ‹è¯•æµç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æµ‹è¯•æµç¨‹"}},[e._v("#")]),e._v(" æµ‹è¯•æµç¨‹")]),e._v(" "),n("ul",[n("li",[e._v("éƒ¨ç½² ERC721 ,NFT åˆçº¦åœ°å€æ˜¯ "),n("code",[e._v("nftContractAds")])]),e._v(" "),n("li",[e._v("ç»™ "),n("code",[e._v("address1")]),e._v(" min ä¸€ä¸ª ID æ˜¯ 1 çš„ NFT")]),e._v(" "),n("li",[e._v("éƒ¨ç½²è‹±å¼æ‹å–åˆçº¦ "),n("code",[e._v("EnglishAuction")]),e._v(" "),n("ul",[n("li",[e._v("è¾“å…¥ NFT åˆçº¦åœ°å€")]),e._v(" "),n("li",[e._v("è¾“å…¥ NFT ID å·")]),e._v(" "),n("li",[e._v("èµ·æ‹ä»·æ ¼:8")])])]),e._v(" "),n("li",[e._v("åœ¨ "),n("code",[e._v("nftContractAds")]),e._v(" ä¸­ approve "),n("code",[e._v("EnglishAuction")]),e._v(" , ID ä¸º 1 çš„ NFT")]),e._v(" "),n("li",[e._v("ä½¿ç”¨ "),n("code",[e._v("address2")]),e._v(" å‡ºä»· 1,æŸ¥çœ‹æ˜¯å¦è¿”å›é”™è¯¯ "),n("code",[e._v("Not started")])]),e._v(" "),n("li",[e._v("æŸ¥çœ‹åˆçº¦çš„çŠ¶æ€\n"),n("ul",[n("li",[n("code",[e._v("started")])]),e._v(" "),n("li",[n("code",[e._v("ended")])]),e._v(" "),n("li",[n("code",[e._v("getBalance")])]),e._v(" "),n("li",[n("code",[e._v("seller")])]),e._v(" "),n("li",[n("code",[e._v("nft")])]),e._v(" "),n("li",[n("code",[e._v("nftId")])]),e._v(" "),n("li",[n("code",[e._v("highestBider")])]),e._v(" "),n("li",[n("code",[e._v("highestBid")])])])]),e._v(" "),n("li",[e._v("ä½¿ç”¨ "),n("code",[e._v("address1")]),e._v(" å‡ºä»· 1, å¼€å§‹æ‹å–åˆçº¦ï¼ŒæŸ¥çœ‹æ˜¯å¦è¿”å›é”™è¯¯ "),n("code",[e._v("invalid price")])]),e._v(" "),n("li",[e._v("å†æ¬¡æŸ¥çœ‹åˆçº¦çš„çŠ¶æ€")]),e._v(" "),n("li",[e._v("ä½¿ç”¨ "),n("code",[e._v("address2")]),e._v(" å‡ºä»· 10")]),e._v(" "),n("li",[e._v("ä½¿ç”¨ "),n("code",[e._v("address3")]),e._v(" å‡ºä»· 20")]),e._v(" "),n("li",[e._v("ä½¿ç”¨ "),n("code",[e._v("address2")]),e._v(" å‡ºä»· 50")]),e._v(" "),n("li",[e._v("æŸ¥è¯¢ "),n("code",[e._v("address2")]),e._v(" å¯é€€æ¢çš„ä¸»å¸")]),e._v(" "),n("li",[e._v("æŸ¥è¯¢ "),n("code",[e._v("address3")]),e._v(" å¯é€€æ¢çš„ä¸»å¸")]),e._v(" "),n("li",[e._v("ç»“æŸæ‹å–")]),e._v(" "),n("li",[e._v("ä½¿ç”¨ "),n("code",[e._v("address2")]),e._v(" å–å›ä¸»å¸")]),e._v(" "),n("li",[e._v("ä½¿ç”¨ "),n("code",[e._v("address3")]),e._v(" å–å›ä¸»å¸")])]),e._v(" "),n("h2",{attrs:{id:"ï¸âƒ£-é—®ç­”é¢˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ï¸âƒ£-é—®ç­”é¢˜"}},[e._v("#")]),e._v(" #ï¸âƒ£ é—®ç­”é¢˜")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("interface")]),e._v(" æœ‰å“ªäº›é™åˆ¶ï¼Ÿ\n"),n("ul",[n("li",[e._v("æ— æ³•å®ç°ä»»ä½•åŠŸèƒ½ï¼Œæ²¡æœ‰å‡½æ•°ä½“ã€‚\n"),n("ul",[n("li",[e._v("å¦åˆ™æŠ¥é”™:"),n("code",[e._v("Functions in interfaces must be declared external.")])])])]),e._v(" "),n("li",[e._v("æ— æ³•ç»§æ‰¿å…¶ä»–åˆçº¦ã€‚(éœ€è¦éªŒè¯ï¼Œæ˜¯å¦å¯ä»¥ç»§æ‰¿æ¥å£ï¼Œæ–‡æ¡£å†…è¯´å¯ä»¥ç»§æ‰¿å…¶ä»–æ¥å£ã€‚)")]),e._v(" "),n("li",[e._v("æ— æ³•å®šä¹‰æ„é€ å‡½æ•°ã€‚")]),e._v(" "),n("li",[e._v("æ— æ³•å®šä¹‰çŠ¶æ€å˜é‡ã€‚")]),e._v(" "),n("li",[e._v("ä¸å¯ä»¥å£°æ˜ä¿®æ”¹å™¨ã€‚")]),e._v(" "),n("li",[e._v("æ— æ³•å®šä¹‰ç»“æ„ï¼ˆ"),n("code",[e._v("strct")]),e._v("ï¼‰ï¼ˆ"),n("code",[e._v("0.5.0")]),e._v(" ç‰ˆæœ¬å¼€å§‹æ¥å£é‡Œå¯ä»¥æ”¯æŒå£°æ˜ "),n("code",[e._v("enum")]),e._v(" ç±»å‹ï¼‰ã€‚")]),e._v(" "),n("li",[e._v("æ‰€æœ‰å£°æ˜çš„å‡½æ•°å¿…é¡»æ˜¯ "),n("code",[e._v("external")]),e._v(" çš„ï¼Œå°½ç®¡åœ¨åˆçº¦é‡Œå¯ä»¥æ˜¯ public")]),e._v(" "),n("li",[e._v("æ–‡æ¡£è¯´ï¼šå°†æ¥å¯èƒ½ä¼šè§£é™¤è¿™é‡Œçš„æŸäº›é™åˆ¶ã€‚")])])]),e._v(" "),n("li",[n("code",[e._v("interface")]),e._v(" çš„æ„ä¹‰ï¼Ÿ\n"),n("ul",[n("li",[e._v("æˆ‘ä»¬éœ€è¦è°ƒç”¨å·²ç»éƒ¨ç½²åœ¨é“¾ä¸Šçš„å·²ç»åˆçº¦ï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡æ¥å£åˆçº¦å®ç°éƒ¨åˆ†è°ƒç”¨çš„é€»è¾‘ï¼Œæˆ‘ä»¬åªéœ€è¦å†™ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„æ¥å£åˆçº¦ï¼Œå°±å¯ä»¥è°ƒç”¨äº†ã€‚")])])]),e._v(" "),n("li",[n("code",[e._v("interface")]),e._v(" å’Œ "),n("code",[e._v("abstract")]),e._v("(æŠ½è±¡åˆçº¦)æœ‰å•¥åŒºåˆ«ï¼Ÿåˆ†åˆ«ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿ")]),e._v(" "),n("li",[n("code",[e._v("interface")]),e._v(" çš„å¸¸è§ç”¨æ³•æœ‰å“ªäº›ï¼Ÿ\n"),n("ul",[n("li",[e._v("åˆ¶å®šæ ‡å‡†ï¼Œæ¯”å¦‚æœ€æˆåŠŸçš„ "),n("code",[e._v("ERC20")]),e._v(" æ¥å£åˆçº¦")])])]),e._v(" "),n("li",[n("code",[e._v("ERC20")]),e._v(" æ ‡å‡†æ¥å£æœ‰å“ªäº›å†…å®¹ï¼Ÿ\n"),n("ul",[n("li",[e._v("1 ä¸ªæˆæƒï¼ˆapproveï¼‰")]),e._v(" "),n("li",[e._v("2 ä¸ªäº‹ä»¶ï¼ˆTransfer/Approvalï¼‰")]),e._v(" "),n("li",[e._v("2 ä¸ªäº¤æ˜“ï¼ˆtransfer/transferFromï¼‰")]),e._v(" "),n("li",[e._v("3 ä¸ªæŸ¥è¯¢ï¼ˆtotalSupply/balanceOf/allowanceï¼‰")]),e._v(" "),n("li",[e._v("åªè¦æ»¡è¶³ä»¥ä¸Šæ¥å£çš„éƒ½æ˜¯ ERC20 æ ‡å‡†åˆçº¦ï¼Œå¾ˆå¤šåœŸç‹—åˆçº¦å–œæ¬¢åœ¨ transfer å†…é­”æ”¹ã€‚")])])]),e._v(" "),n("li",[e._v("å…¨å±€å±æ€§ "),n("code",[e._v("type(I).interfaceId")]),e._v(" ä½¿ç”¨ï¼Ÿ\n"),n("ul",[n("li",[e._v("æ²¡å•¥ç”¨ï¼Œå°±æ˜¯ç±»ä¼¼å‡½æ•°ç­¾åä¸€æ ·çš„åå…­è¿›åˆ¶æ•°æ®ï¼ŒçŸ¥é“æœ‰è¿™ä¸ªå±æ€§å°±å¥½ã€‚")])])]),e._v(" "),n("li",[e._v("èŠä¸€èŠ "),n("code",[e._v("interface")]),e._v(" "),n("ul",[n("li",[e._v("å°±åƒç»§æ‰¿å…¶ä»–åˆçº¦ä¸€æ ·ï¼Œåˆçº¦å¯ä»¥ç»§æ‰¿æ¥å£ã€‚æ¥å£ä¸­çš„å‡½æ•°éƒ½ä¼šéšå¼çš„æ ‡è®°ä¸º\n"),n("code",[e._v("virtual")]),e._v(" ï¼Œæ„å‘³ç€ä»–ä»¬ä¼šè¢«é‡å†™å¹¶ä¸éœ€è¦ "),n("code",[e._v("override")]),e._v(" å…³é”®å­—ã€‚\nä½†æ˜¯ä¸è¡¨ç¤ºé‡å†™ï¼ˆoverridingï¼‰å‡½æ•°å¯ä»¥å†æ¬¡é‡å†™ï¼Œä»…ä»…å½“é‡å†™çš„å‡½æ•°æ ‡è®°ä¸º\n"),n("code",[e._v("virtual")]),e._v(" æ‰å¯ä»¥å†æ¬¡é‡å†™ã€‚")])])])])])}),[],!1,null,null,null);n.default=a.exports}}]);