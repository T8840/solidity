(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{434:function(e,t,a){"use strict";a.r(t);var n=a(2),r=Object(n.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_01-åˆè¯†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_01-åˆè¯†"}},[e._v("#")]),e._v(" 01.åˆè¯†")]),e._v(" "),t("p",[e._v("æœ¬ç« ç›®å½•")]),e._v(" "),t("ul",[t("li",[e._v("1ï¸âƒ£ åŒºå—é“¾åŸºç¡€")]),e._v(" "),t("li",[e._v("2ï¸âƒ£ Hello World")]),e._v(" "),t("li",[e._v("3ï¸âƒ£ åˆçº¦ä»£ç ä¸­çš„ä¸‰ç§æ³¨é‡Š")]),e._v(" "),t("li",[e._v("4ï¸âƒ£ åˆçº¦ç»“æ„ä»‹ç»")]),e._v(" "),t("li",[e._v("5ï¸âƒ£ å…¨å±€çš„ä»¥å¤ªå¸å•ä½")]),e._v(" "),t("li",[e._v("6ï¸âƒ£ æ¥æ”¶ ETH")]),e._v(" "),t("li",[e._v("7ï¸âƒ£ selfdestruct:åˆçº¦è‡ªæ¯")]),e._v(" "),t("li",[e._v("ğŸ†— å®æˆ˜ 1: åŒå¿—ä»¬å¥½")]),e._v(" "),t("li",[e._v("ğŸ†— å®æˆ˜ 2: å­˜é’±ç½åˆçº¦")]),e._v(" "),t("li",[e._v("ğŸ†— å®æˆ˜ 3: WETH åˆçº¦")]),e._v(" "),t("li",[e._v("#ï¸âƒ£ é—®ç­”é¢˜")])]),e._v(" "),t("h2",{attrs:{id:"_1ï¸âƒ£-åŒºå—é“¾åŸºç¡€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ï¸âƒ£-åŒºå—é“¾åŸºç¡€"}},[e._v("#")]),e._v(" 1ï¸âƒ£ åŒºå—é“¾åŸºç¡€")]),e._v(" "),t("p",[e._v("Solidity æ˜¯åœ¨å…¼å®¹ EVM çš„åŒºå—é“¾ä¸Šå¼€å‘æ™ºèƒ½åˆçº¦çš„è¯­è¨€ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒæ‰€åœ¨åŒºå—é“¾åº•å±‚é€»è¾‘ï¼Œåªè¦æ˜¯å…¼å®¹ EVM çš„å…¬é“¾ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ä½¿ç”¨ Solidity è¿›è¡Œæ™ºèƒ½åˆçº¦çš„ç¼–ç ã€‚ç®€å•äº†è§£ä»¥ä¸‹çš„åŒºå—é“¾æ¦‚å¿µï¼š")]),e._v(" "),t("ul",[t("li",[e._v("äº‹åŠ¡")]),e._v(" "),t("li",[e._v("äº¤æ˜“")]),e._v(" "),t("li",[e._v("åœ°å€")]),e._v(" "),t("li",[e._v("åŒºå—")]),e._v(" "),t("li",[e._v("å­˜å‚¨/å†…å­˜/æ ˆ")])]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=1",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 1 èŠ‚: åŒºå—é“¾åŸºç¡€")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=ao5nkAgx7kU&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=1",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 1 èŠ‚: åŒºå—é“¾åŸºç¡€")])])]),e._v(" "),t("h3",{attrs:{id:"_1-äº‹åŠ¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-äº‹åŠ¡"}},[e._v("#")]),e._v(" 1.äº‹åŠ¡")]),e._v(" "),t("p",[e._v("äº‹åŠ¡æ„å‘³ç€ä½ æƒ³åšçš„äº‹æƒ…ï¼Œè¦ä¹ˆä¸€ç‚¹æ²¡åšï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆã€‚å…·æœ‰åŸå­æ€§ï¼Œä¸å­˜åœ¨ä¿®æ”¹ä¸€åŠçš„æƒ…å†µã€‚")]),e._v(" "),t("p",[e._v("æ¯”å¦‚ä» A åœ°å€å‘ B åœ°å€è½¬è´¦ 100 å…ƒï¼Œé‚£ä¹ˆæ•°æ®åº“é‡Œ A å‡ 100 å…ƒï¼ŒB åŠ  100 å…ƒã€‚å¦‚æœå› ä¸ºæŸäº›åŸå› å¯¼è‡´ A å·²ç»å‡äº† 100 å…ƒï¼Œä½†æ˜¯ B åŠ  100 å…ƒä¸­é—´å‡ºç°äº†å¼‚å¸¸ã€‚å› ä¸ºäº‹åŠ¡çš„åŸå­æ€§ï¼Œå‘ç”Ÿå¤±è´¥å A/B åœ°å€éƒ½ä¸ä¼šå‘ç”Ÿä»»ä½•ä¿®æ”¹ã€‚è¿™ç§åœºæ™¯åœ¨åˆçº¦ä¸­ç»å¸¸å‘ç”Ÿï¼Œä¼šç»å¸¸çœ‹åˆ° "),t("em",[t("a",{attrs:{href:"https://etherscan.io/tx/0xda8c0b80d8e240a83c8f6b067c4656babeb13e8e0ece4fd4292aa06252f1285c",target:"_blank",rel:"noopener noreferrer"}},[e._v("out of gas"),t("OutboundLink")],1)]),e._v(" å¼‚å¸¸ï¼Œè¿™æ˜¯å› ä¸º gas è¢«è€—å°½ã€‚æ­¤æ—¶åˆçº¦ä¸­åšçš„æ‰€æœ‰ä¿®æ”¹éƒ½ä¼šè¢«å›æ»šã€‚")]),e._v(" "),t("p",[e._v("gas:åˆçº¦çš„æ‰‹ç»­è´¹ï¼›æ˜¯ä½œä¸ºç”¨æˆ·ä¸ºå½“å‰äº¤æ˜“æ”¯ä»˜çš„æ‰‹ç»­è´¹ï¼Œæ¯ä¸€ç¬”äº¤æ˜“éƒ½ä¼šæ”¶å– gas è´¹ï¼Œç›®çš„æ˜¯é™åˆ¶äº¤æ˜“éœ€è¦åšçš„å·¥ä½œé‡ï¼Œéœ€è¦åšçš„äº‹æƒ…è¶Šå¤šï¼Œæ‰€èŠ±è´¹çš„ gas ä¹Ÿå°±è¶Šå¤šï¼›gas ä¼šæŒ‰ç…§ç‰¹å®šè§„åˆ™è¿›è¡Œé€æ¸æ¶ˆè€—ï¼Œå¦‚æœæ‰§è¡Œå®Œæˆåè¿˜æœ‰å‰©ä½™ï¼Œgas ä¼šåœ¨å½“å‰äº¤æ˜“å†…åŸè·¯è¿”å›åˆ°äº¤æ˜“å‘èµ·è€…çš„åœ°å€ä¸­ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_2-äº¤æ˜“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-äº¤æ˜“"}},[e._v("#")]),e._v(" 2.äº¤æ˜“")]),e._v(" "),t("p",[e._v("äº¤æ˜“å¯ä»¥çœ‹ä½œä¸€ä¸ªåœ°å€å‘é€åˆ°å¦å¤–ä¸€ä¸ªåœ°å€çš„æ¶ˆæ¯ï¼Œå¯èƒ½åŒ…å«ä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ®å’Œä»¥å¤ªå¸ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("å¦‚æœç›®æ ‡åœ°å€å«æœ‰ä»£ç ï¼Œåˆ™æ­¤ä»£ç ä¼šè¢«æ‰§è¡Œï¼Œå¹¶ä»¥ payload ä½œä¸ºå…¥å‚ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœç›®æ ‡åœ°å€æ˜¯é›¶åœ°å€ï¼Œæ­¤äº¤æ˜“å°†åˆ›å»ºä¸€ä¸ªæ–°åˆçº¦ã€‚\n"),t("ul",[t("li",[e._v("è¿™æ—¶å€™ç”¨æ¥åˆ›å»ºåˆçº¦çš„ payload ä¼šè¢«"),t("strong",[e._v("è½¬ä¸º EVM å­—èŠ‚ç ")]),e._v("å¹¶"),t("strong",[e._v("æ‰§è¡Œ")]),e._v("ï¼Œæ‰§è¡Œçš„è¾“å‡ºä½œä¸ºåˆçº¦ä»£ç æ°¸ä¹…å­˜åœ¨åŒºå—é“¾ä¸Šã€‚")]),e._v(" "),t("li",[e._v("æ‰€ä»¥å¦‚æœåˆ›å»ºä¸€ä¸ªåˆçº¦ï¼Œå¹¶ä¸éœ€è¦å‘é“¾ä¸Šå‘é€å®é™…çš„åˆçº¦ä»£ç ï¼Œåªéœ€å‘é€èƒ½å¤Ÿäº§ç”Ÿåˆçº¦ä»£ç çš„ä»£ç å°±å¯ä»¥ã€‚")])])])]),e._v(" "),t("p",[e._v("åŒºå—é“¾ä¸­çš„äº¤æ˜“éµå®ˆäº‹åŠ¡çš„ç‰¹æ€§ã€‚äº¤æ˜“æ€»æ˜¯ç”±å‘é€äººï¼ˆåˆ›å»ºäº¤æ˜“çš„åœ°å€ï¼‰è¿›è¡Œç­¾åã€‚åŒºå—é“¾åº•å±‚ä¼šç¡®ä¿åªæœ‰æŒæœ‰è¯¥åœ°å€å¯†é’¥æ‰èƒ½å‘èµ·äº¤æ˜“ã€‚æ­£å› ä¸ºè¿™ä¸ªç‰¹æ€§ï¼Œæ‰€ä»¥æ‰èƒ½ä¸ºåŒºå—é“¾ä¸Šç‰¹å®šçŠ¶æ€çš„ä¿®æ”¹å¢åŠ ä¿æŠ¤æœºåˆ¶ã€‚")]),e._v(" "),t("p",[e._v('æ¯”å¦‚åœ¨åˆçº¦ä¸­æŒ‡å®šæŸä¸€ä¸ªæ–¹æ³•åªæœ‰"ç®¡ç†å‘˜"è´¦å·å¯ä»¥ç”¨ï¼Œæˆ‘ä»¬åªéœ€è¦éªŒè¯è°ƒç”¨è€…æ˜¯å¦ä¸ºç®¡ç†å‘˜åœ°å€å°±å¯ä»¥äº†ï¼Œè‡³äºåœ°å€æƒé™çš„ä¿æŠ¤äº‹æƒ…å¹¶ä¸éœ€è¦å…³å¿ƒï¼Œåªè¦æ˜¯è¯¥è´¦å·å‘èµ·çš„äº¤æ˜“ï¼Œå°±è®¤ä¸ºæ˜¯ç®¡ç†å‘˜åœ¨æ“ä½œã€‚å®‰å…¨æ–¹é¢æˆ‘ä»¬éœ€è¦è€ƒè™‘çš„æ˜¯ï¼Œå¦‚æœæŸä¸€ä¸ªåœ°å€è¢«ç›—äº†æ€ä¹ˆæ ·ï¼Œé€šå¸¸è¿™äº›æ˜¯ä¸šåŠ¡é€»è¾‘å†³å®šï¼Œæ¯”å¦‚å¤šç­¾é’±åŒ…çš„ä¸šåŠ¡ã€‚')]),e._v(" "),t("h3",{attrs:{id:"_3-åœ°å€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-åœ°å€"}},[e._v("#")]),e._v(" 3.åœ°å€")]),e._v(" "),t("p",[e._v("åœ°å€å¾ˆå¤šæ—¶å€™ä¹Ÿè¢«ç§°ä¸ºè´¦æˆ·ï¼ŒEVM ä¸­æœ‰ä¸¤ç±»åœ°å€ï¼Œä¸€ç±»æ˜¯å¤–éƒ¨åœ°å€ï¼Œä¸€ç±»æ˜¯åˆçº¦åœ°å€ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("å¤–éƒ¨åœ°å€ï¼šç”±"),t("strong",[e._v("å…¬é’¥-ç§é’¥å¯¹")]),e._v("æ§åˆ¶\n"),t("ul",[t("li",[e._v("å¸¸ç”¨çš„åŠ©è®°è¯ï¼Œkeystore æ–‡ä»¶ç­‰åªæ˜¯æ–¹ä¾¿ç”¨æˆ·å‚¨å­˜ï¼Œåº•å±‚è¿˜æ˜¯ä¼šè½¬æˆç§é’¥ã€‚")]),e._v(" "),t("li",[e._v("ä¸€èˆ¬æ˜¯é’±åŒ…åº”ç”¨åˆ›å»ºçš„åœ°å€ã€‚å…¬é’¥å°±æ˜¯"),t("code",[e._v("0xABC")]),e._v("çš„è¿™ç§ä»¥å¤ªåŠæ”¶æ¬¾åœ°å€ï¼Œç§é’¥å¯èƒ½æ˜¯åŠ©è®°è¯ç”Ÿæˆï¼Œå¯èƒ½æ˜¯ keystore æ–‡ä»¶ç”Ÿæˆï¼Œä¹Ÿå¯èƒ½æ˜¯ç”¨æˆ·ç›´æ¥ä¿å­˜çš„ã€‚")])])]),e._v(" "),t("li",[e._v("åˆçº¦åœ°å€ï¼šç”±åœ°å€ä¸€èµ·å­˜å‚¨çš„ä»£ç æ§åˆ¶ã€‚")])]),e._v(" "),t("p",[e._v("æ— è®ºå¤–éƒ¨åœ°å€ï¼Œè¿˜æ˜¯åˆçº¦åœ°å€ï¼Œå¯¹äº EVM æ¥è¯´ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ã€‚æ¯ä¸ªåœ°å€éƒ½æœ‰ä¸€ä¸ªé”®å€¼å¯¹å½¢å¼çš„æŒä¹…åŒ–å­˜å‚¨ã€‚å…¶ä¸­ key å’Œ value éƒ½æ˜¯ 256 ä½ï¼Œæˆ‘ä»¬ç§°ä¸ºå­˜å‚¨ã€‚æ­¤å¤–æ¯ä¸ªåœ°å€éƒ½ä¼šæœ‰ä¸€ä¸ªä»¥å¤ªå¸çš„ä½™é¢ï¼Œåˆçº¦åœ°å€ä¹Ÿæ˜¯å¦‚æ­¤ï¼›ä½™é¢ä¼šå› ä¸ºå‘é€åŒ…å«ä»¥å¤ªå¸çš„äº¤æ˜“è€Œæ”¹å˜ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_4-åŒºå—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-åŒºå—"}},[e._v("#")]),e._v(" 4.åŒºå—")]),e._v(" "),t("p",[e._v("ä½ å¯èƒ½å¬è¿‡åŒºå—é“¾çš„åŒèŠ±æ”»å‡»ï¼Œå¥³å·«æ”»å‡»ç­‰ä½œæ¶æ–¹å¼ã€‚å¦‚æœä½ æ²¡æœ‰å¬è¿‡ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå› ä¸ºå®ƒä»¬å¯¹äºæ™ºèƒ½åˆçº¦å¼€å‘æ¥è¯´å¹¶ä¸é‡è¦ï¼Œæˆ‘ä»¬ç¼–å†™çš„ Solidity ä»£ç èƒ½è¿è¡Œåœ¨ä»¥å¤ªåŠç½‘ç»œï¼Œä¹Ÿå¯ä»¥è¿è¡Œåœ¨ BSCï¼Œ Maticï¼ŒEos EVM ç½‘ç»œç­‰ï¼Œå°±åƒå‰æ–‡è¯´çš„é‚£æ ·ï¼Œæ— è®ºä»–ä»¬é‡‡ç”¨ä»€ä¹ˆåº•å±‚é€»è¾‘ï¼Œåªè¦å®ƒä»¬æ”¯æŒ EVM å°±è¶³å¤Ÿäº†ï¼Œåº•å±‚é€»è¾‘ä¸ç”¨å…³å¿ƒã€‚")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬éœ€è¦å…³å¿ƒçš„æ˜¯ï¼Œ"),t("strong",[e._v("åŒºå—å¯èƒ½è¢«å›æ»šï¼Œäº¤æ˜“å¯èƒ½è¢«ä½œåºŸ")]),e._v("ï¼Œæ‰€ä»¥ä¼šå‡ºç°ä½ å‘èµ·çš„äº¤æ˜“è¢«å›æ»šç”šè‡³ä»åŒºå—é“¾ä¸­æŠ¹é™¤æ‰çš„å¯èƒ½ã€‚åŒºå—é“¾ä¸èƒ½ä¿è¯å½“å‰çš„äº¤æ˜“ä¸€å®šåŒ…å«åœ¨ä¸‹ä¸€ä¸ªåŒºå—ä¸­ã€‚å¦‚æœä½ å¼€å‘çš„åˆçº¦æœ‰é¡ºåºå…³ç³»ï¼Œè¦æ³¨æ„è¿™ä¸ªç‰¹æ€§ã€‚åˆçº¦å†…çš„é€»è¾‘ï¼Œä¸èƒ½å°†æŸä¸€ä¸ªå—ä½œä¸ºä¾èµ–ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_5-å­˜å‚¨-å†…å­˜-æ ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-å­˜å‚¨-å†…å­˜-æ ˆ"}},[e._v("#")]),e._v(" 5.å­˜å‚¨/å†…å­˜/æ ˆ")]),e._v(" "),t("p",[t("strong",[e._v("å­˜å‚¨")]),e._v("ï¼šæ¯ä¸€ä¸ªåœ°å€éƒ½æœ‰ä¸€ä¸ªæŒä¹…åŒ–çš„å†…å­˜ï¼Œå­˜å‚¨æ˜¯å°† 256 ä½å­—æ˜ å°„åˆ° 256 ä½å­—çš„é”®å€¼å­˜å‚¨åŒºã€‚æ‰€ä»¥æ•°æ®ç±»å‹çš„æœ€å¤§å€¼æ˜¯ "),t("code",[e._v("uint256")]),e._v("/"),t("code",[e._v("int256")]),e._v("/"),t("code",[e._v("bytes32")]),e._v("ï¼Œåˆçº¦åªèƒ½è¯»å†™å­˜å‚¨åŒºå†…å±äºè‡ªå·±çš„éƒ¨åˆ†ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("å†…å­˜")]),e._v("ï¼šåˆçº¦ä¼šè¯•å›¾ä¸ºæ¯ä¸€æ¬¡æ¶ˆæ¯è°ƒç”¨è·å–ä¸€å—è¢«é‡æ–°æ“¦æ‹­å¹²å‡€çš„å†…å­˜å®ä¾‹ã€‚æ‰€ä»¥å‚¨å­˜åœ¨å†…å­˜ä¸­çš„æ•°æ®ï¼Œåœ¨å‡½æ•°æ‰§è¡Œå®Œä»¥åå°±ä¼šè¢«é”€æ¯ã€‚å†…å­˜æ˜¯çº¿æ€§çš„ï¼Œå¯æŒ‰å­—èŠ‚çº§å¯»å€ï¼Œä½†è¯»çš„é•¿åº¦è¢«é™åˆ¶ä¸º 256 ä½ï¼Œè€Œå†™çš„é•¿åº¦å¯ä»¥æ˜¯ 8 ä½æˆ– 256 ä½ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("æ ˆ")]),e._v("ï¼šåˆçº¦çš„æ‰€æœ‰è®¡ç®—éƒ½åœ¨ä¸€ä¸ªè¢«ç§°ä¸ºæ ˆï¼ˆstackï¼‰çš„åŒºåŸŸæ‰§è¡Œï¼Œæ ˆæœ€å¤§æœ‰ 1024 ä¸ªå…ƒç´ ï¼Œæ¯ä¸€ä¸ªå…ƒç´ é•¿åº¦æ˜¯ 256 bitï¼›æ‰€ä»¥è°ƒç”¨æ·±åº¦è¢«é™åˆ¶ä¸º 1024 ï¼Œå¯¹å¤æ‚çš„æ“ä½œï¼Œæ¨èä½¿ç”¨å¾ªç¯è€Œä¸æ˜¯é€’å½’ã€‚")]),e._v(" "),t("h2",{attrs:{id:"_2ï¸âƒ£-hello-world"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ï¸âƒ£-hello-world"}},[e._v("#")]),e._v(" 2ï¸âƒ£ Hello World")]),e._v(" "),t("p",[e._v("Solidity åˆçº¦ç±»ä¼¼äºé¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„ç±»ã€‚åˆçº¦ä¸­æœ‰ç”¨äºæ•°æ®æŒä¹…åŒ–çš„çŠ¶æ€å˜é‡ï¼Œå’Œå¯ä»¥ä¿®æ”¹çŠ¶æ€å˜é‡çš„å‡½æ•°ã€‚ è°ƒç”¨å¦ä¸€ä¸ªåˆçº¦å®ä¾‹ä¸­å‡½æ•°æ—¶ï¼Œä¼šåˆ‡æ¢æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ï¼Œæ­¤æ—¶å‰ä¸€ä¸ªåˆçº¦çš„çŠ¶æ€å˜é‡å°±ä¸èƒ½è®¿é—®äº†ã€‚åé¢ä¼šé€æ­¥å±•å¼€ä»‹ç»ï¼Œå›½é™…æƒ¯ä¾‹ï¼Œä½¿ç”¨å½“å‰è¯­è¨€çš„ Hello World ä½œä¸ºç¬¬ä¸€ä¸ªä¾‹å­ã€‚")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-2"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=2",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 2 èŠ‚: Hello World")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=MP25t3nKSZM&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=2",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 2 èŠ‚: Hello World")])])]),e._v(" "),t("h3",{attrs:{id:"_1-ä¾‹å­ä»£ç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¾‹å­ä»£ç "}},[e._v("#")]),e._v(" 1.ä¾‹å­ä»£ç ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Hello {\n    // 24509 gas\n    string public message = "Hello World!"; // çŠ¶æ€å˜é‡\n\n    // 24473\n    function fn1() public view returns (string memory) {\n        return message;\n    }\n\n    // 21801. å†…å­˜ä¸­ç›´æ¥è¿”å›\n    function fn2() public pure returns(string memory){\n        return "Hello World!";\n    }\n\n    // 21880\n    function fn3() public pure returns(string memory){\n        return fn2(); // ä½¿ç”¨æ–¹æ³•ï¼›å‡½æ•°è°ƒç”¨å‡½æ•°ï¼Œæ²¡æœ‰thisã€‚ç›´æ¥è°ƒç”¨\n    }\n}\n')])])]),t("h3",{attrs:{id:"_2-remix-ç¼–è¯‘-éƒ¨ç½²-è¿è¡Œ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-remix-ç¼–è¯‘-éƒ¨ç½²-è¿è¡Œ"}},[e._v("#")]),e._v(" 2.remix ç¼–è¯‘ï¼Œéƒ¨ç½²ï¼Œè¿è¡Œ")]),e._v(" "),t("p",[e._v("Remix IDE æ˜¯å­¦ä¹ åˆçº¦çš„å¥½å¸®æ‰‹ï¼Œå³å¼€å³ç”¨ï¼Œæ— éœ€å„ç§ä¾èµ–ï¼Œè®©æˆ‘ä»¬å¯ä»¥ä¸“æ³¨äºåˆçº¦çš„å­¦ä¹ å’Œå¼€å‘ã€‚æˆ‘ä»¬éœ€è¦äº†è§£åŸºæœ¬çš„ Remix éƒ¨ç½²å’Œä»£ç æµ‹è¯•ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("1.ç¼–å†™ä»£ç ")]),e._v("ï¼šç‚¹å‡»å·¦ä¾§ "),t("strong",[e._v("File explorer")]),e._v("ï¼Œç„¶åç‚¹å‡» "),t("em",[e._v("Create new file")]),e._v(" å›¾æ ‡ï¼Œåˆ›å»º "),t("code",[e._v("helloword.sol")]),e._v(" æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å°±æ˜¯ Hello World ä¾‹å­ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("2.ç¼–è¯‘ä»£ç ")]),e._v("ï¼šç‚¹å‡»å·¦ä¾§ "),t("strong",[e._v("Solidity compile")]),e._v("ï¼Œç„¶åç‚¹å‡» "),t("code",[e._v("Compile helloword.sol")]),e._v('ï¼Œå‡ºç°ç»¿è‰²çš„"å¯¹å·"å°±æ˜¯ compilation successful äº†ã€‚ï¼ˆå°æŠ€å·§ï¼šé€‰ä¸­æ­¤é¡µé¢çš„ '),t("em",[e._v("Auto compile")]),e._v(" å¯ä»¥è‡ªåŠ¨ç¼–è¯‘æœ€æ–°ä¿®æ”¹ä¿å­˜åçš„ä»£ç ï¼Œæ¨èé€‰ä¸­æ­¤é€‰é¡¹ã€‚ï¼‰")]),e._v(" "),t("p",[t("strong",[e._v("3.éƒ¨ç½²åˆçº¦")]),e._v("ï¼šç‚¹å‡»å·¦ä¾§ "),t("strong",[e._v("Deploy & run transactions")]),e._v(" é¡µé¢ï¼Œç‚¹å‡»é»„è‰²æŒ‰é’® ã€ŒDepolyã€ï¼Œæ­¤æ—¶æŒ‰é’®ä¸‹æ–¹åŒºåŸŸä¼šå‡ºç°"),t("strong",[e._v("Deployed Contracts")]),e._v("ï¼Œè¿™é‡Œå°±æ˜¯åˆšåˆšéƒ¨ç½²å‡ºæ¥çš„åˆçº¦åœ°å€ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("4.è¿è¡Œåˆçº¦")]),e._v("ï¼šå±•å¼€"),t("strong",[e._v("Deployed Contracts")]),e._v("ä¸­åˆšéƒ¨ç½²çš„åˆçº¦ï¼Œæ‰¾åˆ°åˆšåˆšéƒ¨ç½²çš„ Hello åˆçº¦ï¼Œç‚¹å‡» "),t("code",[e._v("message")]),e._v("/"),t("code",[e._v("fn1")]),e._v("/"),t("code",[e._v("fn2")]),e._v("/"),t("code",[e._v("fn3")]),e._v(" æŒ‰é’®éƒ½å¯ä»¥è¯»å–åˆ°"),t("code",[e._v('"Hello World!"')]),e._v("å†…å®¹ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_3-hello-world-ä¾‹å­åˆ†æ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-hello-world-ä¾‹å­åˆ†æ"}},[e._v("#")]),e._v(" 3.Hello World ä¾‹å­åˆ†æ")]),e._v(" "),t("p",[e._v("ä¸Šé¢çš„ä»£ç è·å– message å¯ä»¥å¾—åˆ° "),t("code",[e._v('"Hello World!"')]),e._v(",è°ƒç”¨ "),t("code",[e._v("fn1()")]),e._v("å‡½æ•°ï¼Œä¹Ÿå¯ä»¥å¾—åˆ° "),t("code",[e._v('"Hello World!"')]),e._v("; è¿™æ˜¯å› ä¸º "),t("code",[e._v("fn1")]),e._v(" é‡Œé¢çš„é€»è¾‘æ˜¯è¿”å› messageã€‚é€šè¿‡è¿™ä¸ªä¾‹å­å¯ä»¥å‘ç°ï¼Œåˆçº¦å†…è°ƒç”¨å˜é‡å¹¶ä¸éœ€è¦ä½¿ç”¨ "),t("code",[e._v("this")]),e._v(" ä¹‹ç±»çš„å…³é”®å­—ï¼Œç›´æ¥ä½¿ç”¨å³å¯ï¼Œè°ƒç”¨å‡½æ•°ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œç›´æ¥ "),t("code",[e._v("fnName([x])")]),e._v(" å°±å¯ä»¥ã€‚")]),e._v(" "),t("p",[e._v("é€šè¿‡ Remix è°ƒç”¨è¯¦æƒ…æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œä»–ä»¬æ¶ˆè€—çš„ gas ä¸ç›¸åŒã€‚é€šå¸¸ç›´æ¥è·å– "),t("code",[e._v("message")]),e._v(" æ›´çœé’±ï¼Œå› ä¸º"),t("code",[e._v("message")]),e._v("å‚¨å­˜åœ¨çŠ¶æ€å˜é‡ä¸­ï¼Œè€Œå‡½æ•°"),t("code",[e._v("helloWorld")]),e._v("æ˜¯è¯»å–äº†çŠ¶æ€å˜é‡ç„¶åå†è¿”å›å‡ºå»ã€‚ä½†æ˜¯åœ¨ Remix ä¸­æœ‰æ—¶å€™å¾—åˆ°çš„ç»“æœå´å¹¶ä¸ç›¸åŒï¼Œä¸ç”¨å¤ªç›¸ä¿¡ Remix å†…çš„ gasã€‚åœ¨ Remix ä¸­ï¼Œä»£ç é¡ºåºï¼Œå˜é‡å/å‡½æ•°åé•¿çŸ­çš„ä¿®æ”¹éƒ½å¯ä»¥å¤§å¤§å½±å“ gas æ¶ˆè€—ï¼Œä¸è¦å¤ªç›¸ä¿¡ Remix çš„ ga æ¶ˆè€—ã€‚")]),e._v(" "),t("p",[e._v("åœ¨ç¼–å†™ solidity ä»£ç æ—¶ï¼Œä¿è¯å®‰å…¨çš„å‰æä¸‹ï¼Œè®©åˆçº¦æ¶ˆè€—æ›´å°‘çš„ gas æ˜¯ä¸€ä¸ªé‡è¦çš„ä¼˜åŒ–æ–¹å‘ã€‚åé¢ä¼šæœ‰ä¸“é—¨çš„ä¸€ç« è¿›è¡Œ gas ä¼˜åŒ–çš„æ¢è®¨ï¼Œè¿™é‡Œä¸å†å¤šå±•å¼€ã€‚")]),e._v(" "),t("h2",{attrs:{id:"_3ï¸âƒ£-åˆçº¦ä»£ç ä¸­çš„ä¸‰ç§æ³¨é‡Š"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ï¸âƒ£-åˆçº¦ä»£ç ä¸­çš„ä¸‰ç§æ³¨é‡Š"}},[e._v("#")]),e._v(" 3ï¸âƒ£ åˆçº¦ä»£ç ä¸­çš„ä¸‰ç§æ³¨é‡Š")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬çœ‹åˆ°ç¬¬ä¸€è¡Œçš„ä»£ç æ˜¯ "),t("code",[e._v("// SPDX-License-Identifier: MIT")]),e._v(" è¿™é‡Œé¢çš„ "),t("code",[e._v("//")]),e._v(" ç¬¦å·ï¼Œæ˜¯æ³¨é‡Šç¬¦ã€‚ç”¨æ¥æ ‡è®°å’Œè®°å½•ä»£ç å¼€å‘ç›¸å…³çš„äº‹æƒ…ï¼Œæ³¨é‡Šçš„å†…å®¹æ˜¯ä¸ä¼šè¢«ç¨‹åºè¿è¡Œï¼ŒSolidity æ”¯æŒå•è¡Œæ³¨é‡Šå’Œå—æ³¨é‡Šï¼Œæ³¨é‡Šæ˜¯ä¸ºäº†æ›´å¥½çš„è§£é‡Šä»£ç ã€‚"),t("strong",[e._v("è¯·ä¸è¦ç›¸ä¿¡å¥½çš„ä»£ç ä¸éœ€è¦æ³¨é‡Šè¿™ç§é¬¼è¨€è®º")]),e._v("ã€‚ä»£ç ä¸­åŠ å…¥æ³¨é‡Šå¯ä»¥æ›´å¥½çš„å›¢é˜Ÿåä½œï¼Œè®©è‡ªå·±æ›´å¥½çš„è¿›è¡Œä»£ç å¼€å‘ï¼Œä»¥åŠè®©é˜…è¯»è€…æ›´å¿«æ·çš„ç†è§£ä»£ç é€»è¾‘ã€‚åœ¨å®é™…å·¥ä½œä¸­ç»å¸¸ä¼šå‡ºç°è‡ªå·±å†™çš„ä»£ç ä¸€å¹´åŠè½½ä¹‹åå†çœ‹ï¼Œå¤æ‚äº›çš„é€»è¾‘å¯èƒ½éœ€è¦æµªè´¹å¾ˆå¤šæ—¶é—´åœ¨ä»£ç ç†è§£ä¸Šï¼Œå¦‚æœå†æ²¡æœ‰è®¾è®¡å›¾å’Œä»£ç æ³¨é‡Šï¼Œç®€ç›´æƒ³éª‚äººã€‚")]),e._v(" "),t("p",[e._v("Solidity æ”¯æŒ 3 ç§æ³¨é‡Šæ–¹å¼ï¼›")]),e._v(" "),t("ul",[t("li",[e._v("å•è¡Œæ³¨é‡Š")]),e._v(" "),t("li",[e._v("å—æ³¨é‡Š")]),e._v(" "),t("li",[e._v("NatSpec æè¿°æ³¨é‡Š")])]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-3"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=3",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 3 èŠ‚: åˆçº¦ä»£ç ä¸­çš„ä¸‰ç§æ³¨é‡Š")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=QZ-1r4rjlyQ&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=3",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 3 èŠ‚: åˆçº¦ä»£ç ä¸­çš„ä¸‰ç§æ³¨é‡Š")])])]),e._v(" "),t("h3",{attrs:{id:"_1-å•è¡Œæ³¨é‡Š"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-å•è¡Œæ³¨é‡Š"}},[e._v("#")]),e._v(" 1.å•è¡Œæ³¨é‡Š")]),e._v(" "),t("p",[e._v("æ ¼å¼: "),t("code",[e._v("// æ³¨é‡Šå†…å®¹")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('string message = "Hello World!"; // è¿™æ˜¯å•è¡Œæ³¨é‡Š\n')])])]),t("p",[e._v("å¦‚ä¸Šï¼Œ"),t("code",[e._v("//")]),e._v(" åé¢çš„å†…å®¹éƒ½ä¼šè¢«ç¼–è¯‘å™¨å¿½ç•¥ï¼Œä¸ºäº†å¯è¯»æ€§ï¼Œä¸€èˆ¬ä¼šåœ¨"),t("code",[e._v("//")]),e._v("åé¢åŠ ä¸€ä¸ªç©ºæ ¼ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_2-å—æ³¨é‡Š"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-å—æ³¨é‡Š"}},[e._v("#")]),e._v(" 2.å—æ³¨é‡Š")]),e._v(" "),t("p",[e._v("æ ¼å¼å¦‚ä¸‹ï¼Œåœ¨ "),t("code",[e._v("/*")]),e._v(" ä¸ "),t("code",[e._v("*/")]),e._v(" ä¹‹é—´çš„å†…å®¹ï¼Œéƒ½è¢«ç¼–è¯‘å™¨å¿½ç•¥")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("    /*\n    è¿™æ˜¯å—æ³¨é‡Š\n    */\n")])])]),t("p",[e._v("ä¸ºäº†å¯è¯»æ€§ï¼Œä¸€èˆ¬å—æ³¨é‡Šçš„è¡Œé¦–éƒ½åŠ  "),t("code",[e._v("*")]),e._v(" å’Œç©ºæ ¼ï¼Œå¦‚ä¸‹")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("    /**\n     * è¿™æ˜¯å—æ³¨é‡Š\n     * è¿™æ˜¯å—æ³¨é‡Š\n     */\n")])])]),t("h3",{attrs:{id:"_3-natspec-æè¿°æ³¨é‡Š"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-natspec-æè¿°æ³¨é‡Š"}},[e._v("#")]),e._v(" 3.NatSpec æè¿°æ³¨é‡Š")]),e._v(" "),t("p",[e._v("å•è¡Œä½¿ç”¨ "),t("code",[e._v("///")]),e._v(" å¼€å§‹ï¼Œå¤šè¡Œä½¿ç”¨ "),t("code",[e._v("/**")]),e._v(" å¼€å¤´ä»¥ "),t("code",[e._v("*/")]),e._v(" ç»“å°¾ã€‚NatSpec æè¿°æ³¨é‡Šçš„ä½œç”¨éå¸¸é‡è¦ï¼Œå®ƒæ˜¯ä¸ºå‡½æ•°ã€è¿”å›å˜é‡ç­‰æä¾›ä¸°å¯Œçš„æ–‡æ¡£ã€‚åœ¨ç¼–å†™åˆçº¦çš„æ—¶å€™ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨ "),t("code",[e._v("NatSpec")]),e._v(" ä¸ºæ‰€æœ‰çš„å¼€æ”¾æ¥å£ï¼ˆåªè¦æ˜¯åœ¨ "),t("code",[e._v("ABI")]),e._v(" é‡Œå‘ˆç°çš„å†…å®¹ï¼‰è¿›è¡Œå®Œæ•´çš„æ³¨é‡Šã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“µ-ç®€å•æ¼”ç¤º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-ç®€å•æ¼”ç¤º"}},[e._v("#")]),e._v(" â“µ ç®€å•æ¼”ç¤º")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n/// @title  ä¸€ä¸ªç®€å•çš„æ•°æ®å­˜å‚¨æ¼”ç¤º\n/// @author Anbang\n/// @notice æ‚¨æ™ºèƒ½å°†æ­¤åˆçº¦ç”¨äºæœ€åŸºæœ¬çš„æ¼”ç¤º\n/// @dev    æä¾›äº†å­˜å‚¨æ–¹æ³•/è·å–æ–¹æ³•\n/// @custom:xx    è‡ªå®šä¹‰çš„æè¿°/è¿™ä¸ªæ˜¯å®éªŒçš„æµ‹è¯•åˆçº¦\ncontract  TinyStorage {\n    // data\n    uint256 storedData;\n\n    /// @notice å‚¨å­˜ x\n    /// @param _x: storedData å°†è¦ä¿®æ”¹çš„å€¼\n    /// @dev   å°†æ•°å­—å­˜å‚¨åœ¨çŠ¶æ€å˜é‡ storedData ä¸­\n    function set(uint256 _x) public{\n        storedData = _x;\n    }\n\n    /// @notice è¿”å›å­˜å‚¨çš„å€¼\n    /// @return å‚¨å­˜å€¼\n    /// @dev   æ£€ç´¢çŠ¶æ€å˜é‡ storedData çš„å€¼\n    function get() public view returns(uint256){\n        return storedData;\n    }\n\n\n    /**\n     * @notice ç¬¬äºŒç§å†™æ³•\n     * @param _x: XXXXX\n     * @dev   XXXXX\n     * @return XXXXX\n     * @inheritdoc :\n     */\n}\n")])])]),t("p",[e._v("ä¸Šé¢æ‰€æœ‰æ ‡ç­¾éƒ½æ˜¯å¯é€‰çš„ã€‚ä¸‹è¡¨è§£é‡Šäº†æ¯ä¸ª NatSpec æ ‡è®°çš„ç”¨é€”ä»¥åŠå¯ä»¥ä½¿ç”¨åœ¨å“ªäº›ä½ç½®ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©åˆé€‚çš„æ ‡è®°è¿›è¡Œè®°å½•")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("æ ‡ç­¾")]),e._v(" "),t("th",[e._v("è¯´æ˜")]),e._v(" "),t("th",[e._v("è¯­å¢ƒ")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[t("code",[e._v("@title")])]),e._v(" "),t("td",[e._v("æè¿° contract/interface çš„æ ‡é¢˜")]),e._v(" "),t("td",[e._v("contract, interface, library")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("@author")])]),e._v(" "),t("td",[e._v("ä½œè€…å§“å")]),e._v(" "),t("td",[e._v("contract, interface, library")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("@notice")])]),e._v(" "),t("td",[e._v("å‘æœ€ç»ˆç”¨æˆ·è§£é‡Šè¿™æ˜¯åšä»€ä¹ˆçš„")]),e._v(" "),t("td",[e._v("contract, interface, library,"),t("br"),e._v("function, å…¬å…±çŠ¶æ€å˜é‡"),t("br"),e._v("event")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("@dev")])]),e._v(" "),t("td",[e._v("å‘å¼€å‘äººå‘˜è§£é‡Šä»»ä½•é¢å¤–çš„ç»†èŠ‚")]),e._v(" "),t("td",[e._v("contract, interface, library,"),t("br"),e._v("function, çŠ¶æ€å˜é‡, event")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("@param")])]),e._v(" "),t("td",[e._v("è®°å½•å‚æ•°ï¼ˆåé¢å¿…é¡»è·Ÿå‚æ•°åç§°ï¼‰")]),e._v(" "),t("td",[e._v("function, event,"),t("br"),e._v("è‡ªå®šä¹‰é”™è¯¯")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("@return")])]),e._v(" "),t("td",[e._v("å‡½æ•°çš„è¿”å›å˜é‡")]),e._v(" "),t("td",[e._v("function, å…¬å…±çŠ¶æ€å˜é‡")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("@inheritdoc")])]),e._v(" "),t("td",[e._v("ä»åŸºæœ¬å‡½æ•°ä¸­å¤åˆ¶æ‰€æœ‰ç¼ºå¤±çš„æ ‡ç­¾ï¼ˆå¿…é¡»åè·Ÿåˆçº¦åç§°ï¼‰")]),e._v(" "),t("td",[e._v("function, å…¬å…±çŠ¶æ€å˜é‡")])]),e._v(" "),t("tr",[t("td",[t("code",[e._v("@custom:...")])]),e._v(" "),t("td",[e._v("è‡ªå®šä¹‰æ ‡ç­¾ï¼Œè¯­ä¹‰ç”±åº”ç”¨ç¨‹åºå®šä¹‰")]),e._v(" "),t("td",[e._v("æ‰€æœ‰ä½ç½®å‡å¯ä»¥")])])])]),e._v(" "),t("h4",{attrs:{id:"â“¶-æ–‡æ¡£è¾“å‡º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-æ–‡æ¡£è¾“å‡º"}},[e._v("#")]),e._v(" â“¶ æ–‡æ¡£è¾“å‡º")]),e._v(" "),t("p",[e._v("ä½¿ç”¨ "),t("code",[e._v("NatSpec")]),e._v(" æè¿°æ³¨é‡Šçš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå½“è¢«ç¼–è¯‘å™¨è§£ææ—¶ï¼Œä¸Šé¢ç¤ºä¾‹ä¸­çš„ä»£ç å°†ç”Ÿæˆä¸¤ä¸ªä¸åŒçš„ JSON æ–‡ä»¶ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("User Documentationï¼šä¾›æœ€ç»ˆç”¨æˆ·åœ¨æ‰§è¡ŒåŠŸèƒ½æ—¶ä½œä¸ºé€šçŸ¥ä½¿ç”¨çš„")]),e._v(" "),t("li",[e._v("Developer Documentationï¼šä¾›å¼€å‘äººå‘˜ä½¿ç”¨çš„ã€‚")])]),e._v(" "),t("p",[e._v("å¦‚æœå°†ä¸Šè¿°åˆçº¦å¦å­˜ä¸ºï¼Œ"),t("code",[e._v("a.sol")]),e._v(" åˆ™æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆæ–‡æ¡£ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("solc --userdoc --devdoc a.sol\n")])])]),t("h4",{attrs:{id:"â“·-ç»§æ‰¿è¯´æ˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-ç»§æ‰¿è¯´æ˜"}},[e._v("#")]),e._v(" â“· ç»§æ‰¿è¯´æ˜")]),e._v(" "),t("p",[e._v("TODO: åœ¨åé¢åˆçº¦ç»§æ‰¿çš„æ—¶å€™å†æ¼”ç¤ºä½¿ç”¨ã€‚")]),e._v(" "),t("p",[e._v("å¦‚æœå‡½æ•°æ˜¯ç»§æ‰¿åˆ«çš„åˆçº¦ï¼Œæ²¡æœ‰ NatSpec çš„å‡½æ•°å°†è‡ªåŠ¨ç»§æ‰¿å…¶åŸºæœ¬å‡½æ•°çš„æ–‡æ¡£ã€‚ä½†æ˜¯ä¸‹é¢ä¸‰ç§æƒ…å†µæ˜¯ä¾‹å¤–çš„ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("å½“å‚æ•°åç§°ä¸åŒæ—¶ã€‚\n"),t("ul",[t("li",[e._v("è¿™æ—¶å€™æ˜¯å‡½æ•°çš„é‡è½½ï¼Œå‡½æ•°ç­¾åå·²ç»å‘ç”Ÿäº†æ”¹å˜ã€‚")])])]),e._v(" "),t("li",[e._v("å½“æœ‰å¤šä¸ªåŸºæœ¬åŠŸèƒ½æ—¶ã€‚\n"),t("ul",[t("li",[e._v("è¿™æ—¶å€™å› ä¸ºå‘ç”Ÿäº†å†²çªï¼Œsupper ä¸­æœ‰å¤šä¸ªçˆ¶çº§")])])]),e._v(" "),t("li",[e._v("å½“æœ‰ä¸€ä¸ªæ˜ç¡®çš„ "),t("code",[e._v("@inheritdoc")]),e._v(" æ ‡ç­¾æŒ‡å®šåº”è¯¥ä½¿ç”¨å“ªä¸ªåˆçº¦æ¥ç»§æ‰¿æ—¶ã€‚")])]),e._v(" "),t("p",[e._v("æ›´å¤š NatSpec è¯·å‚è€ƒ: "),t("a",{attrs:{href:"https://github.com/aragon/radspec",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/aragon/radspec"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"_4ï¸âƒ£-åˆçº¦ç»“æ„ä»‹ç»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ï¸âƒ£-åˆçº¦ç»“æ„ä»‹ç»"}},[e._v("#")]),e._v(" 4ï¸âƒ£ åˆçº¦ç»“æ„ä»‹ç»")]),e._v(" "),t("ol",[t("li",[e._v("SPDX ç‰ˆæƒå£°æ˜\n"),t("ul",[t("li",[e._v("https://spdx.org/licenses/")])])]),e._v(" "),t("li",[e._v("pragma solidity ç‰ˆæœ¬é™åˆ¶")]),e._v(" "),t("li",[e._v("contract å…³é”®å­—")]),e._v(" "),t("li",[e._v("import å¯¼å…¥å£°æ˜")]),e._v(" "),t("li",[e._v("interface: æ¥å£")]),e._v(" "),t("li",[e._v("library:åº“åˆçº¦")])]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-4"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=4",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 4 èŠ‚: åˆçº¦ç»“æ„ä»‹ç» 1")])]),e._v(" "),t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=5",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 4 èŠ‚: åˆçº¦ç»“æ„ä»‹ç» 2")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=9qICkLTA6iA&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=4",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 4 èŠ‚: åˆçº¦ç»“æ„ä»‹ç» 1")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=n0kX_EfhobI&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=5",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 4 èŠ‚: åˆçº¦ç»“æ„ä»‹ç» 2")])])]),e._v(" "),t("h3",{attrs:{id:"_1-spdx-ç‰ˆæƒå£°æ˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-spdx-ç‰ˆæƒå£°æ˜"}},[e._v("#")]),e._v(" 1.SPDX ç‰ˆæƒå£°æ˜")]),e._v(" "),t("p",[e._v("ç¬¬ 1 è¡Œ "),t("code",[e._v("// SPDX-License-Identifier: MIT")]),e._v(" å°±æ˜¯åˆçº¦çš„ç‰ˆæƒå£°æ˜ã€‚å…¶ä¸­ "),t("strong",[e._v("SPDX-License-Identifier")]),e._v("(SPDX è®¸å¯æ ‡ç¤º) æ˜¯æ ‡æ³¨å½“å‰çš„æ™ºèƒ½åˆçº¦é‡‡ç”¨ä»€ä¹ˆæ ·çš„å¯¹å¤–å¼€æ”¾æ ‡å‡†ï¼Œè¯¥æ ‡å‡†è§„å®šäº†åˆ«äººæ˜¯å¦æ‹¥æœ‰å•†ä¸šå¼€å‘ï¼Œå­¦ä¹ ä½¿ç”¨ç­‰æƒåˆ©ã€‚ä»£ç ä¸­ä½¿ç”¨çš„ "),t("code",[e._v("MIT")]),e._v(" è§„å®šäº†å…¶ä»–äººéšä¾¿ç”¨è¯¥ä»£ç ï¼Œä½†å‡ºé—®é¢˜ä¸è´Ÿè´£ã€‚"),t("a",{attrs:{href:"https://spdx.org/licenses/MIT.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("MIT è¯¦ç»†è§£é‡Š"),t("OutboundLink")],1),e._v("ï¼›SPDX è®¸å¯æ ‡ç¤ºçš„æ³¨é‡Šåœ¨æ–‡ä»¶çš„ä»»ä½•ä½ç½®éƒ½å¯ä»¥è¢«ç¼–è¯‘å™¨è¯†åˆ«åˆ°çš„ï¼ŒæŒ‰ç…§è§„èŒƒå»ºè®®æŠŠå®ƒæ”¾åœ¨æ–‡ä»¶çš„é¡¶éƒ¨ç¬¬ä¸€è¡Œã€‚")]),e._v(" "),t("p",[e._v("å¦‚æœä¸€ä¸ªé¡¹ç›®å¼€æºäº†æ™ºèƒ½åˆçº¦çš„æºä»£ç ï¼Œå¯ä»¥æ›´å¥½åœ°å»ºç«‹ç¤¾åŒºä¿¡ä»»ã€‚ä½†æ˜¯ç”±äºæä¾›æºä»£ç å°±ä¸å¯é¿å…çš„æ¶‰åŠåˆ°ç‰ˆæƒæˆ–è€…æ³•å¾‹é—®é¢˜ã€‚æ‰€ä»¥ solidity é¼“åŠ±å¼€æºï¼Œä½†æ˜¯å¼€æºå¹¶ä¸ç­‰äºæ”¾å¼ƒç‰ˆæƒã€‚å¦‚æœä½ ä¸æƒ³æŒ‡å®šä»»ä½•è®¸å¯è¯ï¼Œæˆ–è€…ä»£ç å°±æ˜¯ä¸æƒ³å¼€æºï¼ŒSolidity æ¨èä½¿ç”¨ "),t("code",[e._v("UNLICENSED")]),e._v(" ;"),t("code",[e._v("UNLICENSED")]),e._v(" ä¸å­˜åœ¨äº SPDX è®¸å¯è¯åˆ—è¡¨ä¸­,ä¸ UNLICENSE ï¼ˆæˆäºˆæ‰€æœ‰äººæ‰€æœ‰æƒåˆ©ï¼‰ä¸åŒï¼Œå®ƒæ¯” "),t("code",[e._v("UNLICENSE")]),e._v(" å¤šä¸€ä¸ª "),t("code",[e._v("D")]),e._v(" å­—æ¯ã€‚")]),e._v(" "),t("p",[e._v("éœ€è¦æ³¨æ„: æºä»£ç è¿™é‡Œï¼Œç¼–è¯‘å™¨ä¸ä¼šéªŒè¯ SPDX è®¸å¯æ ‡ç¤ºæ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œæ¯”å¦‚æˆ‘å¯ä»¥å†™ä¸º "),t("code",[e._v("// SPDX-License-Identifier: ANBANG")]),e._v(" ï¼Œå¹¶ä¸ä¼šå½±å“ä»£ç çš„è¿è¡Œã€‚ä½†æ˜¯è¿™é‡Œçš„æ ‡ç¤ºä¼šè¢«æ‰“åŒ…åœ¨ "),t("code",[e._v("bytecode metadata")]),e._v(" é‡Œã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“µ-bytecode-metadata-ä»‹ç»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-bytecode-metadata-ä»‹ç»"}},[e._v("#")]),e._v(" â“µ bytecode metadata ä»‹ç»")]),e._v(" "),t("p",[e._v("å½“æˆ‘ä»¬ä½¿ç”¨ "),t("code",[e._v("remix")]),e._v(" ç¼–è¯‘åˆçº¦çš„æ—¶å€™ï¼Œä¼šåœ¨æ ¹ç›®å½•åˆ›å»º "),t("code",[e._v("artifacts")]),e._v(" æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å« "),t("code",[e._v("build-info")]),e._v(" è®°å½•æ„å»ºä¿¡æ¯çš„æ–‡ä»¶å¤¹ï¼Œä»¥åŠæ¯ä¸ªåˆçº¦åå­—ä½œä¸ºæ–‡ä»¶åçš„æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚ "),t("code",[e._v("contract Hello")]),e._v(" å°†ç”Ÿæˆ")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("Hello.json")]),e._v(" æ–‡ä»¶")]),e._v(" "),t("li",[t("code",[e._v("Hello_metadata.json")]),e._v(" æ–‡ä»¶")])]),e._v(" "),t("h4",{attrs:{id:"â“¶-hello-json-æ–‡ä»¶ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-hello-json-æ–‡ä»¶ç»“æ„"}},[e._v("#")]),e._v(" â“¶ "),t("code",[e._v("Hello.json")]),e._v(" æ–‡ä»¶ç»“æ„")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("{\n  deploy: {},\n  data: {\n    bytecode: {},\n    deployedBytecode: {},\n    gasEstimates: {},\n    methodIdentifiers: {},\n  },\n  abi: [],\n};\n")])])]),t("h4",{attrs:{id:"â“·-hello-metadata-json-æ–‡ä»¶ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-hello-metadata-json-æ–‡ä»¶ç»“æ„"}},[e._v("#")]),e._v(" â“· "),t("code",[e._v("Hello_metadata.json")]),e._v(" æ–‡ä»¶ç»“æ„")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n  compiler: {\n    version: "0.8.17+commit.xxx",\n  },\n  language: "Solidity",\n  output: {\n    abi: [],\n    devdoc: {},\n    userdoc: {},\n  },\n  settings: {},\n  sources: {\n    "aaa.sol": {\n      keccak256:\n        "0x637c141739144cd991b9350336a1f8c3b948811d7ed743fefb4aad99d7bb362f",\n      license: "ANBANG",\n      urls: [\n        "bzz-raw://9eea517225b90242d6e3761046f5f5a8f0a2393747c89f3af01f34ad00764dc4",\n        "dweb:/ipfs/QmXp5wap9ZNC9fihdA7aLMe7bKWBjeAuv7khEuvKrgp9Bx",\n      ],\n    },\n  },\n  version: 1,\n};\n')])])]),t("p",[t("code",[e._v("// SPDX-License-Identifier: ANBANG")]),e._v(" ä¸­çš„ "),t("code",[e._v("ANBANG")]),e._v(" å°±æ˜¯åœ¨ "),t("code",[e._v("sources -> filename.sol -> license")]),e._v(" ä¸­")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("æ€»ç»“:")]),e._v(" "),t("ol",[t("li",[e._v("æ ¹æ®è‡ªå·±çš„åˆçº¦æƒ…å†µï¼Œé€‰æ‹©åˆé€‚çš„ç‰ˆæƒå£°æ˜å¯ä»¥é¿å…å¾ˆå¤šä¸å¿…è¦çš„ç‰ˆæƒéº»çƒ¦ã€‚")])])]),e._v(" "),t("li",[t("strong",[e._v("æ‰©å±•:")]),e._v(" "),t("ol",[t("li",[e._v("æ›´å¤šçš„ SPDX-License-Identifier ç±»å‹ä»‹ç»ï¼Œå‚ç…§æ–‡ç«  "),t("a",{attrs:{href:"https://spdx.org/licenses/",target:"_blank",rel:"noopener noreferrer"}},[e._v("SPDX License List"),t("OutboundLink")],1),e._v(" è¯¦ç»†é˜…è¯»ã€‚")]),e._v(" "),t("li",[e._v("Solidity éµå¾ª "),t("a",{attrs:{href:"https://docs.npmjs.com/cli/v7/configuring-npm/package-json#license",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm çš„ license å»ºè®®"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("æ›´å¤šçš„ bytecode metadata å‚ç…§æ–‡ç«  "),t("a",{attrs:{href:"#"}},[e._v("åˆçº¦çš„ metadata")])])])])]),e._v(" "),t("h3",{attrs:{id:"_2-pragma-solidity-ç‰ˆæœ¬é™åˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-pragma-solidity-ç‰ˆæœ¬é™åˆ¶"}},[e._v("#")]),e._v(" 2.pragma solidity ç‰ˆæœ¬é™åˆ¶")]),e._v(" "),t("p",[e._v("ç¬¬ 2 è¡Œ "),t("code",[e._v("pragma solidity ^0.8.17;")]),e._v(" æŒ‡ä»¤ï¼Œå®ƒæ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæˆ‘å½“å‰çš„åˆçº¦ä»£ç é‡‡ç”¨çš„æ˜¯ Solidity 0.8.17 è¿™ä¸ªç‰ˆæœ¬ä¸ºåŸºç¡€ç¼–å†™çš„ï¼Œè§£æéƒ¨ç½²æ—¶éœ€è¦åœ¨åŒ¹é…çš„ç‰ˆæœ¬ä¸‹è¿›è¡Œï¼Œåœ¨åŒºå—é“¾æµè§ˆå™¨ä¸Šè¿›è¡Œåˆçº¦éªŒè¯æ—¶ï¼Œä¹Ÿéœ€è¦é€‰æ‹©åŒ¹é…çš„ç‰ˆæœ¬ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“µ-ä½¿ç”¨-çš„æ„ä¹‰å’Œä¼˜ç‚¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-ä½¿ç”¨-çš„æ„ä¹‰å’Œä¼˜ç‚¹"}},[e._v("#")]),e._v(" â“µ ä½¿ç”¨ "),t("code",[e._v("^")]),e._v(" çš„æ„ä¹‰å’Œä¼˜ç‚¹")]),e._v(" "),t("p",[e._v("è€Œ "),t("code",[e._v("^0.8.17")]),e._v(" ä¸­çš„ "),t("code",[e._v("^")]),e._v(" è¡¨ç¤ºå°ç‰ˆæœ¬å…¼å®¹ï¼Œå¤§ç‰ˆæœ¬ä¸å…¼å®¹ï¼Œç›¸å½“äº "),t("code",[e._v("pragma solidity >= 0.8.17 < 0.9.0;")]),e._v("ã€‚ä»–æ—¢ä¸å…è®¸ä½äº"),t("code",[e._v("0.8.17")]),e._v("çš„ç¼–è¯‘å™¨ç¼–è¯‘ï¼Œä¹Ÿä¸å…è®¸å¤§äºç­‰äº "),t("code",[e._v("0.9.0")]),e._v(" ç‰ˆæœ¬çš„ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘ã€‚ä¹‹æ‰€ä»¥è¿™ä¹ˆå†™ï¼Œä¸å†™æ­» "),t("code",[e._v("pragma solidity 0.8.17;")]),e._v(" æ˜¯ä¸ºäº†å¯ä»¥äº«å—åˆ°ç¼–è¯‘å™¨çš„è¡¥ä¸ç‰ˆï¼Œæ¯”å¦‚ä»¥åå‡ºæ¥äº† "),t("code",[e._v("0.8.40")]),e._v(" ç‰ˆæœ¬ï¼Œé‚£ä¹ˆå½“å‰åˆçº¦æ˜¯å¯ä»¥è¿è¡Œåœ¨æœªæ¥çš„ "),t("code",[e._v("0.8.40")]),e._v(" è¿™ä¸ªæ–°ç‰ˆæœ¬çš„ç¼–è¯‘å™¨ã€‚ä½†æ˜¯å¦‚æœæ˜¯å¤§ç‰ˆæœ¬å‡çº§åˆ°äº† "),t("code",[e._v("0.9.0")]),e._v("ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¸ä¼šç”¨æ–°ç‰ˆçš„"),t("code",[e._v("0.9.x")]),e._v("è§£æï¼Œä¼šä½¿ç”¨ 0.8 çš„æœ€åä¸€ä¸ªç¨³å®šç‰ˆæœ¬æ¥è¿›è¡Œè§£æç¼–è¯‘ã€‚è¿™é‡Œå¦‚æœä¸åŠ  "),t("code",[e._v("^")]),e._v(",ç›´æ¥å†™"),t("code",[e._v("pragma solidity 0.8.17;")]),e._v(",å°±æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå½“å‰åˆçº¦åªé€‰æ‹©åœ¨ "),t("code",[e._v("0.8.17")]),e._v(" ç‰ˆæœ¬æ¥ç¼–è¯‘å’Œéƒ¨ç½²ï¼›è¿™æ ·åšçš„ç¼ºç‚¹å°±æ˜¯äº«å—ä¸åˆ°ä»¥åå‡ºçš„è¡¥ä¸ç‰ˆçš„ç¼–è¯‘å™¨ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“¶-è·¨å¤§ç‰ˆæœ¬çš„åˆçº¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-è·¨å¤§ç‰ˆæœ¬çš„åˆçº¦"}},[e._v("#")]),e._v(" â“¶ è·¨å¤§ç‰ˆæœ¬çš„åˆçº¦")]),e._v(" "),t("p",[e._v("å¦‚æœä½ æ‰“ç®—è·¨å¤§ç‰ˆæœ¬çš„åˆçº¦ï¼Œå¯ä»¥ä½¿ç”¨"),t("code",[e._v(">")]),e._v(" /"),t("code",[e._v(">=")]),e._v("/"),t("code",[e._v("<")]),e._v("/"),t("code",[e._v("<=")]),e._v("æ¥æ“ä½œï¼Œæ¯”å¦‚ "),t("code",[e._v("pragma solidity >=0.7.0 <0.9.0;")]),e._v("ã€‚")]),e._v(" "),t("p",[e._v("æ³¨æ„ï¼š"),t("code",[e._v("pragma")]),e._v(" æŒ‡ä»¤åªå¯¹å½“å‰çš„æºæ–‡ä»¶èµ·ä½œç”¨ï¼Œå¦‚æœæŠŠæ–‡ä»¶ "),t("code",[e._v("B")]),e._v(" å¯¼å…¥åˆ°æ–‡ä»¶ "),t("code",[e._v("A")]),e._v("ï¼Œæ–‡ä»¶ B çš„ pragma å°†ä¸ä¼šè‡ªåŠ¨åº”ç”¨äºæ–‡ä»¶ Aã€‚")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("æ€»ç»“:")]),e._v(" "),t("ol",[t("li",[t("code",[e._v("pragma solidity ^0.8.17;")]),e._v(" æ˜¯ç”¨æ¥å‘Šè¯‰ç¼–è¯‘å™¨åº”è¯¥é€‰æ‹©ä»€ä¹ˆç‰ˆæœ¬æ¥è§£æç¼–è¯‘å½“å‰ä»£ç ã€‚")]),e._v(" "),t("li",[t("code",[e._v("pragma")]),e._v(" æŒ‡ä»¤åªå¯¹å½“å‰çš„æºæ–‡ä»¶èµ·ä½œç”¨ã€‚")])])])]),e._v(" "),t("p",[e._v("æ³¨ï¼šä¸€ä»½æºæ–‡ä»¶å¯ä»¥åŒ…å«"),t("strong",[e._v("å¤šä¸ªç‰ˆæœ¬å£°æ˜")]),e._v("ã€å¤šä¸ªå¯¼å…¥å£°æ˜å’Œå¤šä¸ªåˆçº¦å£°æ˜ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_3-contract-å…³é”®å­—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-contract-å…³é”®å­—"}},[e._v("#")]),e._v(" 3.contract å…³é”®å­—")]),e._v(" "),t("p",[e._v("ç¬¬ 3 è¡Œçš„ "),t("code",[e._v("contract Hello {}")]),e._v(" æ˜¯åˆçº¦çš„åŸºæœ¬ç»“æ„ï¼›å…¶ä¸­ "),t("code",[e._v("contract")]),e._v(" å£°æ˜äº†å½“å‰ä»£ç å—å†…æ˜¯ä¸€ä¸ªå®Œæ•´çš„åˆçº¦ã€‚è€Œ "),t("code",[e._v("Hello")]),e._v(" æ˜¯å½“å‰åˆçº¦çš„åå­—ï¼Œåˆçº¦åç§°æ˜¯å¿…é¡»çš„ï¼Œé¦–å­—æ¯ä¸€èˆ¬é‡‡ç”¨å¤§å†™å­—æ¯å¼€å¤´ã€‚")]),e._v(" "),t("p",[t("code",[e._v("contract")]),e._v(" ä»£è¡¨ç‰¹æ®Šçš„æ„ä¹‰ï¼Œè¿™ç§æœ‰ç‰¹æ®Šæ„ä¹‰çš„è¯ï¼Œåœ¨ç¼–ç¨‹ç•Œé‡Œä¸€èˆ¬è¢«ç§°ä¸º "),t("code",[e._v("ä¿ç•™å…³é”®å­—")]),e._v("ï¼›ä¿ç•™å…³é”®å­—æ˜¯ç°åœ¨æˆ–è€…å°†æ¥è¢«ç”¨åˆ°çš„ç‰¹æ®Šä»£æŒ‡ï¼Œéƒ½æœ‰å›ºå®šæ„ä¹‰ï¼Œæ‰€ä»¥ä¿ç•™å…³é”®å­—ä¸èƒ½ä½œä¸ºå˜é‡åå’Œå‡½æ•°åå­—ã€‚")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("æ€»ç»“:")]),e._v(" "),t("ol",[t("li",[e._v("contract åŸºæœ¬ç»“æ„æ˜¯ "),t("code",[e._v("contract ContractName {}")])]),e._v(" "),t("li",[e._v("Solidity åˆçº¦ä¸­ï¼Œåˆçº¦çš„åå­—æ˜¯å¿…é¡»çš„ã€‚")]),e._v(" "),t("li",[e._v("åˆçº¦çš„åç§°ï¼Œä¸€èˆ¬çº¦å®šä¸º å¤§é©¼å³°å‘½åæ–¹å¼")]),e._v(" "),t("li",[e._v("contract æ˜¯ä¿ç•™å…³é”®å­—")]),e._v(" "),t("li",[e._v("ä¿ç•™å…³é”®å­—ä¸èƒ½ä½œä¸ºå˜é‡åå’Œå‡½æ•°å")])])]),e._v(" "),t("li",[t("strong",[e._v("æ‰©å±•:")]),e._v(" "),t("ol",[t("li",[e._v("åˆçº¦çš„ç¼–å†™è§„èŒƒï¼Œå‚ç…§ "),t("RouterLink",{attrs:{to:"/forever/903.styleguide.html"}},[e._v("åˆçº¦ç¼–ç è§„èŒƒ")])],1),e._v(" "),t("li",[e._v("æ›´å¤šä¿ç•™å…³é”®å­—ï¼Œå‚ç…§ "),t("RouterLink",{attrs:{to:"/source/03.variable.html#id11"}},[e._v("å˜é‡åå‘½åè§„åˆ™")]),e._v(" è¯¦ç»†é˜…è¯»ã€‚")],1)])])]),e._v(" "),t("p",[e._v("æ³¨ï¼šä¸€ä»½æºæ–‡ä»¶å¯ä»¥åŒ…å«å¤šä¸ªç‰ˆæœ¬å£°æ˜ã€å¤šä¸ªå¯¼å…¥å£°æ˜å’Œ"),t("strong",[e._v("å¤šä¸ªåˆçº¦å£°æ˜")]),e._v("ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“µ-å˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-å˜é‡"}},[e._v("#")]),e._v(" â“µ å˜é‡")]),e._v(" "),t("p",[e._v("åˆçº¦å†…çš„ "),t("code",[e._v("message")]),e._v(" å«åšçŠ¶æ€å˜é‡ï¼ŒçŠ¶æ€å˜é‡æ˜¯æ°¸ä¹…åœ°å­˜å‚¨åœ¨åˆçº¦å­˜å‚¨ä¸­çš„å€¼ã€‚å…³äºå˜é‡çš„æ›´å¤šä¿¡æ¯ï¼Œä¼šåœ¨åç»­ "),t("RouterLink",{attrs:{to:"/source/03.variable.html"}},[e._v("å˜é‡")]),e._v(" é‚£ä¸€ç« è¯¦ç»†ä»‹ç»")],1),e._v(" "),t("h4",{attrs:{id:"â“¶-å‡½æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-å‡½æ•°"}},[e._v("#")]),e._v(" â“¶ å‡½æ•°")]),e._v(" "),t("p",[e._v("å‡½æ•°æ˜¯ä»£ç çš„å¯æ‰§è¡Œå•å…ƒï¼Œæ˜¯ä¸€ç»„é€»è¾‘çš„é›†åˆã€‚å…³äºå˜é‡çš„æ›´å¤šä¿¡æ¯ï¼Œä¼šåœ¨åç»­ "),t("RouterLink",{attrs:{to:"/source/04.function.html"}},[e._v("å‡½æ•°")]),e._v(" é‚£ä¸€ç« è¯¦ç»†ä»‹ç»")],1),e._v(" "),t("h4",{attrs:{id:"â“·-this-å…³é”®å­—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-this-å…³é”®å­—"}},[e._v("#")]),e._v(" â“· this å…³é”®å­—")]),e._v(" "),t("p",[e._v("Solidity ä¸­ "),t("code",[e._v("this")]),e._v(" ä»£è¡¨åˆçº¦å¯¹è±¡æœ¬èº«ï¼›")]),e._v(" "),t("ul",[t("li",[e._v("å¯ä»¥é€šè¿‡ "),t("code",[e._v("address(this)")]),e._v(" è·å–åˆçº¦åœ°å€ã€‚")]),e._v(" "),t("li",[e._v("å¯ä»¥é€šè¿‡ "),t("code",[e._v("this.fnName")]),e._v(" è·å– external å‡½æ•°")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    function contractAds() external view returns (address) {\n        return address(this);\n    }\n\n    function testExternal() external view returns (address) {\n        return this.contractAds();\n    }\n}\n")])])]),t("h4",{attrs:{id:"â“¸-åˆçº¦åœ°å€-åˆçº¦åˆ›å»ºè€…åœ°-åˆçº¦è°ƒç”¨è€…åœ°å€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-åˆçº¦åœ°å€-åˆçº¦åˆ›å»ºè€…åœ°-åˆçº¦è°ƒç”¨è€…åœ°å€"}},[e._v("#")]),e._v(" â“¸ åˆçº¦åœ°å€/åˆçº¦åˆ›å»ºè€…åœ°/åˆçº¦è°ƒç”¨è€…åœ°å€")]),e._v(" "),t("p",[e._v("è¿™ä¸‰ä¸ªåœ°å€æ¦‚å¿µä¸€å®šè¦å®Œå…¨ç†è§£ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// è¿™ä¸‰ä¸ªåœ°å€çš„æ¦‚å¿µä¸€å®šè¦ç†è§£æ¸…æ¥š\ncontract Demo {\n    address public owner;\n\n    constructor() {\n        // å¯ä»¥ç”¨åœ¨ constructor å†…è·å–å½“å‰åˆçº¦åœ°å€\n        owner = address(this);\n\n        // ä¸å¯ä»¥åœ¨æ„é€ å‡½æ•°å†…è°ƒç”¨å‡½æ•°ï¼Œå› ä¸ºæ­¤æ—¶åˆçº¦è¿˜æ²¡æœ‰å®Œæˆæ„å»ºå¥½ã€‚\n        // this.caller(); ç›¸å½“äºä»å¤–éƒ¨è°ƒç”¨ caller æ–¹æ³•\n        // owner = this.caller();\n    }\n\n    function caller() external view returns (address) {\n        return this.contractAds(); // å†…éƒ¨è°ƒç”¨ external å¯è§æ€§çš„å‡½æ•°\n    }\n\n    function contractAds() external view returns (address) {\n        return address(this);\n    }\n}\n")])])]),t("h4",{attrs:{id:"â“¹-åˆçº¦å±æ€§-type-å…³é”®å­—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¹-åˆçº¦å±æ€§-type-å…³é”®å­—"}},[e._v("#")]),e._v(" â“¹ åˆçº¦å±æ€§:type å…³é”®å­—")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("type(C).name")]),e._v(":è·å¾—åˆçº¦å")]),e._v(" "),t("li",[t("code",[e._v("type(C).creationCode")]),e._v(":è·å¾—åŒ…å«åˆ›å»ºåˆçº¦å­—èŠ‚ç çš„å†…å­˜å­—èŠ‚æ•°ç»„ã€‚å®ƒå¯ä»¥åœ¨å†…è”æ±‡ç¼–ä¸­æ„å»ºè‡ªå®šä¹‰åˆ›å»ºä¾‹ç¨‹ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨ create2 æ“ä½œç ã€‚ ä¸èƒ½åœ¨åˆçº¦æœ¬èº«æˆ–æ´¾ç”Ÿçš„åˆçº¦è®¿é—®æ­¤å±æ€§ã€‚ å› ä¸ºä¼šå¼•èµ·å¾ªç¯å¼•ç”¨ã€‚")]),e._v(" "),t("li",[t("code",[e._v("type(C).runtimeCode")]),e._v(":è·å¾—åˆçº¦çš„è¿è¡Œæ—¶å­—èŠ‚ç çš„å†…å­˜å­—èŠ‚æ•°ç»„ã€‚è¿™æ˜¯é€šå¸¸ç”± C çš„æ„é€ å‡½æ•°éƒ¨ç½²çš„ä»£ç ã€‚ å¦‚æœ C æœ‰ä¸€ä¸ªä½¿ç”¨å†…è”æ±‡ç¼–çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆå¯èƒ½ä¸å®é™…éƒ¨ç½²çš„å­—èŠ‚ç ä¸åŒã€‚ è¿˜è¦æ³¨æ„åº“åœ¨éƒ¨ç½²æ—¶ä¿®æ”¹å…¶è¿è¡Œæ—¶å­—èŠ‚ç ä»¥é˜²èŒƒå®šæœŸè°ƒç”¨ï¼ˆguard against regular callsï¼‰ã€‚ ä¸ .creationCode æœ‰ç›¸åŒçš„é™åˆ¶ï¼Œä¸èƒ½åœ¨åˆçº¦æœ¬èº«æˆ–æ´¾ç”Ÿçš„åˆçº¦è®¿é—®æ­¤å±æ€§ã€‚ å› ä¸ºä¼šå¼•èµ·å¾ªç¯å¼•ç”¨ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Hello {\n    string public message = "Hello World!";\n}\n\ncontract Demo {\n    function name() external pure returns (string memory) {\n        return type(Hello).name;\n    }\n\n    function creationCode() external pure returns (bytes memory) {\n        return type(Hello).creationCode;\n    }\n    function runtimeCode() external pure returns (bytes memory) {\n        return type(Hello).runtimeCode;\n    }\n}\n')])])]),t("p",[e._v("é™¤äº†ä¸Šé¢ä»‹ç»çš„ç‰ˆæƒå£°æ˜ï¼Œç‰ˆæœ¬é™åˆ¶ï¼Œcontract å¤–ï¼Œåˆçº¦æ–‡ä»¶è¿˜åŒ…æ‹¬ "),t("code",[e._v("import")]),e._v(", "),t("code",[e._v("interface")]),e._v(","),t("code",[e._v("library")]),e._v("ï¼Œä¸€èµ·å±•å¼€ä»‹ç»ä¸‹")]),e._v(" "),t("h3",{attrs:{id:"_4-import-å¯¼å…¥å£°æ˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-import-å¯¼å…¥å£°æ˜"}},[e._v("#")]),e._v(" 4.import å¯¼å…¥å£°æ˜")]),e._v(" "),t("p",[e._v("åŠŸèƒ½ï¼šä»å…¶ä»–æ–‡ä»¶å†…å€’å…¥éœ€è¦çš„å˜é‡æˆ–è€…å‡½æ•°ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“µ-å¯¼å…¥æ–¹å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-å¯¼å…¥æ–¹å¼"}},[e._v("#")]),e._v(" â“µ å¯¼å…¥æ–¹å¼")]),e._v(" "),t("p",[e._v("æ—¢å¯ä»¥å¯¼å…¥"),t("strong",[e._v("æœ¬åœ°æ–‡ä»¶")]),e._v("ï¼Œä¹Ÿå¯ä»¥å¯¼å…¥ "),t("strong",[e._v("url")]),e._v("(ç½‘ç»œä¸Šçš„ ipfsï¼Œhttp æˆ–è€… git æ–‡ä»¶)")]),e._v(" "),t("ol",[t("li",[t("strong",[e._v("å¯¼å…¥æ‰€æœ‰çš„å…¨å±€æ ‡å¿—")]),e._v(" "),t("code",[e._v('import "filename";')]),e._v(" åˆ°å½“å‰å…¨å±€èŒƒå›´\n"),t("ol",[t("li",[e._v("å¯¼å…¥æœ¬åœ°æ–‡ä»¶:"),t("code",[e._v('import "./ERC20.sol";')]),e._v("ï¼Œå…¶ä¸­"),t("code",[e._v("./")]),e._v("è¡¨ç¤ºå½“å‰ç›®å½•ï¼ŒæŸ¥æ‰¾è·¯å¾„å‚è€ƒ")]),e._v(" "),t("li",[e._v("å¯¼å…¥ç½‘ç»œæ–‡ä»¶:"),t("code",[e._v('import "https://github.com/aaa/.../tools.sol";')])]),e._v(" "),t("li",[e._v("å¯¼å…¥æœ¬åœ° NPM åº“:\n"),t("ol",[t("li",[t("code",[e._v("$ npm install @openzeppelin/contracts")])]),e._v(" "),t("li",[t("code",[e._v('import "@openzeppelin/contracts/token/ERC721/ERC721.sol";')])])])])])]),e._v(" "),t("li",[t("strong",[e._v("å¯¼å…¥æ‰€æœ‰çš„å…¨å±€æ ‡å¿—ï¼Œå¹¶åˆ›å»ºæ–°çš„å…¨å±€ç¬¦å·")]),e._v(" "),t("ol",[t("li",[e._v("æ–¹å¼ä¸€: "),t("code",[e._v('import * as symbolName from "filename";')])]),e._v(" "),t("li",[e._v("æ–¹å¼äºŒ: "),t("code",[e._v('import "filename" as symbolName;')])])])]),e._v(" "),t("li",[e._v("æŒ‰éœ€å¯¼å…¥ï¼ŒæŒ‰éœ€ä¿®æ”¹åç§°\n"),t("ol",[t("li",[t("code",[e._v('import {symbol1 as aliasName, symbol2} from "filename";')])])])])]),e._v(" "),t("p",[e._v("ä¸æ¨èå¯¼å…¥å˜é‡æ ‡ç¤ºååˆ°å½“å‰å…¨å±€èŒƒå›´çš„æ–¹å¼ï¼Œå› ä¸ºä¸å¯æ§ï¼Œå®¹æ˜“æ±¡æŸ“å½“å‰çš„å‘½åç©ºé—´ã€‚å¦‚æœå…¨å±€å¯¼å…¥ï¼Œæ¨èä½¿ç”¨ "),t("code",[e._v('import "filename" as symbolName;')])]),e._v(" "),t("p",[e._v("æ³¨ï¼šä¸€ä»½æºæ–‡ä»¶å¯ä»¥åŒ…å«å¤šä¸ªç‰ˆæœ¬å£°æ˜ã€å¤š"),t("strong",[e._v("ä¸ªå¯¼å…¥å£°æ˜")]),e._v("å’Œå¤šä¸ªåˆçº¦å£°æ˜ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“¶-å¯¼å…¥æ—¶å€™çš„æœ¬åœ°è·¯å¾„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-å¯¼å…¥æ—¶å€™çš„æœ¬åœ°è·¯å¾„"}},[e._v("#")]),e._v(" â“¶ å¯¼å…¥æ—¶å€™çš„æœ¬åœ°è·¯å¾„")]),e._v(" "),t("p",[e._v("ä¸Šæ–‡ä¸­çš„ filename æ€»æ˜¯ä¼šæŒ‰è·¯å¾„æ¥å¤„ç†ï¼Œä»¥ "),t("code",[e._v("/")]),e._v(" ä½œä¸ºç›®å½•åˆ†å‰²ç¬¦ã€ä»¥ "),t("code",[e._v(".")]),e._v(" æ ‡ç¤ºå½“å‰ç›®å½•ã€ä»¥ "),t("code",[e._v("..")]),e._v(" è¡¨ç¤ºçˆ¶ç›®å½•ã€‚ å½“ "),t("code",[e._v(".")]),e._v(" æˆ– "),t("code",[e._v("..")]),e._v(" åé¢è·Ÿéšçš„å­—ç¬¦æ˜¯ "),t("code",[e._v("/")]),e._v(" æ—¶ï¼Œå®ƒä»¬æ‰èƒ½è¢«å½“åšå½“å‰ç›®å½•æˆ–çˆ¶ç›®å½•ã€‚ åªæœ‰è·¯å¾„ä»¥å½“å‰ç›®å½• "),t("code",[e._v(".")]),e._v(" æˆ–çˆ¶ç›®å½• "),t("code",[e._v("..")]),e._v(" å¼€å¤´æ—¶ï¼Œæ‰èƒ½è¢«è§†ä¸ºç›¸å¯¹è·¯å¾„ã€‚")]),e._v(" "),t("p",[e._v("ç”¨ "),t("code",[e._v('import "./x.sol" as x;')]),e._v(" è¯­å¥å¯¼å…¥å½“å‰æºæ–‡ä»¶åŒç›®å½•ä¸‹çš„æ–‡ä»¶ "),t("code",[e._v("x.sol")]),e._v(" ã€‚ å¦‚æœç”¨"),t("code",[e._v('import "x.sol" as x;')]),e._v(" ä»£æ›¿ï¼Œå¯èƒ½ä¼šå¼•å…¥ä¸åŒçš„æ–‡ä»¶ï¼ˆåœ¨å…¨å±€ "),t("code",[e._v("include directory")]),e._v(" ä¸­ï¼‰ã€‚")]),e._v(" "),t("p",[e._v("æœ€ç»ˆå¯¼å…¥å“ªä¸ªæ–‡ä»¶å–å†³äºç¼–è¯‘å™¨ï¼ˆè§ä¸‹æ–‡ï¼‰åˆ°åº•æ˜¯æ€æ ·è§£æè·¯å¾„çš„ã€‚ é€šå¸¸ï¼Œç›®å½•å±‚æ¬¡ä¸å¿…ä¸¥æ ¼æ˜ å°„åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œ å®ƒä¹Ÿå¯ä»¥æ˜ å°„åˆ°èƒ½é€šè¿‡è¯¸å¦‚ ipfsï¼Œhttp æˆ–è€… git å‘ç°çš„èµ„æºã€‚")]),e._v(" "),t("h3",{attrs:{id:"_5-interface-æ¥å£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-interface-æ¥å£"}},[e._v("#")]),e._v(" 5.interface: æ¥å£")]),e._v(" "),t("h4",{attrs:{id:"â“µ-æ¥å£ä½¿ç”¨æ¡ˆä¾‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-æ¥å£ä½¿ç”¨æ¡ˆä¾‹"}},[e._v("#")]),e._v(" â“µ æ¥å£ä½¿ç”¨æ¡ˆä¾‹")]),e._v(" "),t("p",[e._v("åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå®šä¹‰äº† cat åˆçº¦ä»¥åŠ dog åˆçº¦ã€‚ä»–ä»¬éƒ½æœ‰ "),t("code",[e._v("eat")]),e._v(" æ–¹æ³•.ä»¥æ­¤ä»–ä»¬éƒ½å¯ä»¥è¢«ä¸Šé¢çš„ "),t("code",[e._v("animalEat")]),e._v(" æ¥å£æ‰€æ¥æ”¶ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Cat {\n    uint256 public age;\n\n    function eat() public returns (string memory) {\n        age++;\n        return "cat eat fish";\n    }\n\n    function sleep1() public pure returns (string memory) {\n        return "sleep1";\n    }\n}\n\ncontract Dog {\n    uint256 public age;\n\n    function eat() public returns (string memory) {\n        age += 2;\n        return "dog miss you";\n    }\n\n    function sleep2() public pure returns (string memory) {\n        return "sleep2";\n    }\n}\n\ninterface AnimalEat {\n    function eat() external returns (string memory);\n}\n\ncontract Animal {\n    function test(address _addr) external returns (string memory) {\n        AnimalEat general = AnimalEat(_addr);\n        return general.eat();\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“¶-type-i-interfaceid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-type-i-interfaceid"}},[e._v("#")]),e._v(" â“¶ "),t("code",[e._v("type(I).interfaceId")])]),e._v(" "),t("p",[e._v("è¿”å›æ¥å£"),t("code",[e._v("I")]),e._v(" çš„ "),t("code",[e._v("bytes4")]),e._v(" ç±»å‹çš„æ¥å£ IDï¼Œæ¥å£ ID å‚è€ƒï¼š "),t("a",{attrs:{href:"https://learnblockchain.cn/docs/eips/eip-165.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("EIP-165"),t("OutboundLink")],1),e._v(" å®šä¹‰çš„ï¼Œ æ¥å£ ID è¢«å®šä¹‰ä¸º XOR ï¼ˆå¼‚æˆ–ï¼‰ æ¥å£å†…æ‰€æœ‰çš„å‡½æ•°çš„å‡½æ•°é€‰æ‹©å™¨ï¼ˆé™¤ç»§æ‰¿çš„å‡½æ•°ã€‚")]),e._v(" "),t("p",[e._v("ä¸Šé¢çš„ä»£ç ç§ï¼Œå¯ä»¥å¢åŠ å¦‚ä¸‹çš„å‡½æ•°æ¥æŸ¥çœ‹ "),t("code",[e._v("interfaceId")]),e._v(";")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("contract Animal {\n    // ...\n    function interfaceId() external pure returns (bytes4) {\n        return type(AnimalEat).interfaceId;\n    }\n}\n")])])]),t("p",[e._v("æ›´å¤šå†…å®¹åœ¨ "),t("RouterLink",{attrs:{to:"/source/13.interface.html"}},[e._v("interface:æ¥å£")]),e._v(" é‚£ä¸€ç« è¯¦ç»†ä»‹ç»ã€‚")],1),e._v(" "),t("h3",{attrs:{id:"_6-library-åº“åˆçº¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-library-åº“åˆçº¦"}},[e._v("#")]),e._v(" 6.library:åº“åˆçº¦")]),e._v(" "),t("p",[e._v("åº“ä¸åˆçº¦ç±»ä¼¼ï¼Œä½†å®ƒçš„ç›®çš„æ˜¯åœ¨ä¸€ä¸ªæŒ‡å®šçš„åœ°å€ï¼Œä¸”ä»…éƒ¨ç½²ä¸€æ¬¡ï¼Œç„¶åé€šè¿‡ EVM çš„ç‰¹æ€§æ¥å¤ç”¨ä»£ç ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("library Set {\n    struct Data { mapping(uint => bool) flags; }\n    function test(){\n    }\n}\n")])])]),t("p",[e._v("å…¶ä»–åˆçº¦è°ƒç”¨åº“æ–‡ä»¶çš„å†…å®¹ç›´æ¥é€šè¿‡åº“æ–‡ä»¶å.æ–¹æ³•åä¾‹å¦‚ï¼š"),t("code",[e._v("Set.test()")]),e._v("ã€‚")]),e._v(" "),t("p",[e._v("æ›´å¤šå†…å®¹åœ¨ "),t("RouterLink",{attrs:{to:"/source/14.library.html"}},[e._v("Library:åº“")]),e._v(" é‚£ä¸€ç« è¯¦ç»†ä»‹ç»ã€‚")],1),e._v(" "),t("h2",{attrs:{id:"_5ï¸âƒ£-å…¨å±€çš„ä»¥å¤ªå¸å•ä½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5ï¸âƒ£-å…¨å±€çš„ä»¥å¤ªå¸å•ä½"}},[e._v("#")]),e._v(" 5ï¸âƒ£ å…¨å±€çš„ä»¥å¤ªå¸å•ä½")]),e._v(" "),t("p",[e._v("ç°å®ç”Ÿæ´»ä¸­ç»å¸¸ä¼šå¬è¯´ï¼Œæç° 1.5 ä¸ªä»¥å¤ªå¸ï¼Œæˆ–è€…æŸç¬”äº¤æ˜“æ‰‹ç»­è´¹èŠ±äº† 0.02 ä¸ªä»¥å¤ªåŠç­‰ã€‚è¿™äº›å¸¦æœ‰å°æ•°ç‚¹çš„æ•°å­—æ˜¯æ—¥å¸¸äº¤æµä½¿ç”¨çš„ã€‚ä½†æ˜¯åœ¨åˆçº¦å†…ï¼Œå´æ²¡æœ‰è¿™ç§å°æ•°æ¦‚å¿µçš„è´§å¸é‡‘é¢ã€‚æ¯”å¦‚ 1 ä¸ª ETH çš„é‡‘é¢æ˜¯ "),t("code",[e._v("10**18 wei")]),e._v("ã€‚")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-5"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=6",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 5 èŠ‚: å…¨å±€çš„ä»¥å¤ªå¸å•ä½")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=QgZfwI_fVEg&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=6",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 5 èŠ‚: å…¨å±€çš„ä»¥å¤ªå¸å•ä½")])])]),e._v(" "),t("h3",{attrs:{id:"_1-åŸºç¡€å•ä½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-åŸºç¡€å•ä½"}},[e._v("#")]),e._v(" 1.åŸºç¡€å•ä½")]),e._v(" "),t("p",[e._v("ä¸ºäº†æ–¹ä¾¿åˆçº¦å¼€å‘è€…æ“ä½œï¼Œä¹Ÿæä¾›å¦‚ä¸‹è¿™ç§ä¾¿æ·çš„æ¢ç®—æ–¹å¼ã€‚")]),e._v(" "),t("p",[e._v("ä»¥å¤ªå¸å•ä½ä¹‹é—´çš„æ¢ç®—å°±æ˜¯åœ¨æ•°å­—åè¾¹åŠ ä¸Š "),t("code",[e._v("wei")]),e._v("ã€ "),t("code",[e._v("gwei")]),e._v("ã€ "),t("code",[e._v("ether")]),e._v(" æ¥å®ç°çš„ï¼Œå¦‚æœåé¢æ²¡æœ‰å•ä½ï¼Œç¼ºçœä¸º "),t("code",[e._v("wei")]),e._v("ã€‚ä¾‹å¦‚ "),t("code",[e._v("1 ether == 1e18")]),e._v(" çš„é€»è¾‘åˆ¤æ–­å€¼ä¸º trueã€‚")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("1 ether = 1 * 10^18 wei")])]),e._v(" "),t("li",[t("code",[e._v("1 ether = 1 * 10^9 gwei")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    // è¿”å› true\n    function test() public pure returns (bool a,bool b,bool c) {\n        a = 1 wei == 1;\n        b = 1 gwei == 1e9;\n        c = 1 ether == 1e18;\n    }\n}\n")])])]),t("h3",{attrs:{id:"_2-å˜é‡ä½¿ç”¨ä»¥å¤ªå¸å•ä½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-å˜é‡ä½¿ç”¨ä»¥å¤ªå¸å•ä½"}},[e._v("#")]),e._v(" 2.å˜é‡ä½¿ç”¨ä»¥å¤ªå¸å•ä½")]),e._v(" "),t("p",[t("strong",[e._v("æ³¨æ„: è¿™äº›åç¼€ä¸èƒ½ç›´æ¥ç”¨åœ¨å˜é‡åè¾¹")]),e._v("ã€‚å¦‚æœæƒ³ç”¨ä»¥å¤ªå¸å•ä½æ¥è®¡ç®—è¾“å…¥å‚æ•°ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¹˜æ³•æ¥è½¬æ¢: "),t("code",[e._v("amountEth * 1 ether")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    uint256 public amount;\n\n    constructor() {\n        amount = 1;\n    }\n\n    function fnEth() public view returns (uint256) {\n        return amount + 1 ether; // 1000000000000000001\n    }\n\n    function fnGwei() public view returns (uint256) {\n        return amount + 1 gwei; // 1000000001\n    }\n\n    // è¿™äº›åç¼€ä¸èƒ½ç›´æ¥ç”¨åœ¨å˜é‡åè¾¹ã€‚å¦‚æœæƒ³ç”¨ä»¥å¤ªå¸å•ä½æ¥è®¡ç®—è¾“å…¥å‚æ•°ï¼Œä½ å¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼æ¥å®Œæˆï¼š\n    function testVar(uint256 amountEth) public view returns (uint256) {\n        return amount + amountEth * 1 ether;\n    }\n}\n")])])]),t("h2",{attrs:{id:"_6ï¸âƒ£-æ¥æ”¶-eth"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6ï¸âƒ£-æ¥æ”¶-eth"}},[e._v("#")]),e._v(" 6ï¸âƒ£ æ¥æ”¶ ETH")]),e._v(" "),t("p",[e._v("ä¸‰ä¸ªå…³é”®å­—")]),e._v(" "),t("ul",[t("li",[e._v("payable\n"),t("ul",[t("li",[e._v("ä½¿ç”¨ payable æ ‡è®°çš„"),t("strong",[e._v("å‡½æ•°")]),e._v("å¯ä»¥ç”¨äºå‘é€å’Œæ¥æ”¶ Ethã€‚")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ payable æ ‡è®°çš„ "),t("strong",[e._v("åœ°å€å˜é‡")]),e._v("ï¼Œå…è®¸å‘é€å’Œæ¥æ”¶ Ethã€‚")])])]),e._v(" "),t("li",[e._v("fallback\n"),t("ul",[t("li",[e._v("ä¸€ä¸ªåˆçº¦å¯ä»¥æœ€å¤šæœ‰ä¸€ä¸ªå›é€€å‡½æ•°ã€‚")])])]),e._v(" "),t("li",[e._v("receive\n"),t("ul",[t("li",[e._v("ä¸€ä¸ªåˆçº¦æœ€å¤šæœ‰ä¸€ä¸ª "),t("code",[e._v("receive")]),e._v(" å‡½æ•°")])])])]),e._v(" "),t("p",[e._v("fallback å’Œ receive ä¸æ˜¯æ™®é€šå‡½æ•°ï¼Œè€Œæ˜¯æ–°çš„å‡½æ•°ç±»å‹ï¼Œæœ‰ç‰¹åˆ«çš„å«ä¹‰ï¼Œå®ƒä»¬å‰é¢ä¸éœ€è¦åŠ  "),t("code",[e._v("function")]),e._v(" è¿™ä¸ªå…³é”®å­—ã€‚åŠ ä¸Š "),t("code",[e._v("function")]),e._v(" ä¹‹åï¼Œå®ƒä»¬å°±å˜æˆäº†ä¸€èˆ¬çš„å‡½æ•°ï¼Œåªèƒ½æŒ‰ä¸€èˆ¬å‡½æ•°æ¥å»è°ƒç”¨ã€‚åŒæ—¶ "),t("code",[e._v("receive")]),e._v(" å’Œ "),t("code",[e._v("fallback")]),e._v(" éœ€è¦æ³¨æ„ gas æ¶ˆè€—ã€‚")]),e._v(" "),t("p",[e._v("æœ¬èŠ‚ä»‹ç»çš„æ˜¯åˆçº¦å¦‚ä½•æ¥æ”¶ ETHï¼Œè‡³äºåˆçº¦å¦‚ä½•å‘é€ ETHï¼Œè¯·é˜…è¯» "),t("RouterLink",{attrs:{to:"/source/02.type-of-data.html#id24"}},[e._v("ä¸¤ç§å½¢å¼çš„åœ°å€")]),e._v(" è¿™ä¸€èŠ‚ã€‚")],1),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-6"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=7",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 6 èŠ‚: æ¥æ”¶ ETH")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=DkKdLwIL3-Y&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=7",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 6 èŠ‚: æ¥æ”¶ ETH")])])]),e._v(" "),t("h3",{attrs:{id:"_1-payable"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-payable"}},[e._v("#")]),e._v(" 1.payable")]),e._v(" "),t("ul",[t("li",[e._v("ä½¿ç”¨ payable æ ‡è®°çš„"),t("strong",[e._v("å‡½æ•°")]),e._v("å¯ä»¥ç”¨äºå‘é€å’Œæ¥æ”¶ Ethã€‚\n"),t("ul",[t("li",[e._v("payable æ„å‘³ç€åœ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ¶ˆæ¯ä¸­å¯ä»¥é™„å¸¦ Ethã€‚")])])]),e._v(" "),t("li",[e._v("ä½¿ç”¨ payable æ ‡è®°çš„ "),t("strong",[e._v("åœ°å€å˜é‡")]),e._v("ï¼Œå…è®¸å‘é€å’Œæ¥æ”¶ Ethã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Payable {\n    // payable æ ‡è®°å‡½æ•°\n    function deposit1() external payable {}\n\n    function deposit2() external {}\n\n    // payable æ ‡è®°åœ°å€\n    function withdraw() external {\n        payable(msg.sender).transfer(address(this).balance);\n    }\n\n    // é€šè¿‡ balance å±æ€§ï¼Œæ¥æŸ¥çœ‹ä½™é¢ã€‚\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n}\n")])])]),t("p",[e._v("å¯ä»¥ä½¿ç”¨ deposit å­˜æ¬¾ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨ calldata è½¬è´¦ï¼Œåˆ™ä¼šå¤±è´¥ï¼ŒæŠ¥é”™ "),t("em",[e._v("In order to receive Ether transfer the contract should have either 'receive' or payable 'fallback' function")])]),e._v(" "),t("h3",{attrs:{id:"_2-fallback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-fallback"}},[e._v("#")]),e._v(" 2.fallback")]),e._v(" "),t("p",[e._v("fallback å‡½æ•°æ˜¯è°ƒç”¨åˆçº¦æ²¡æœ‰çš„æ–¹æ³•æ—¶å€™æ‰§è¡Œï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºå…è®¸æ¥æ”¶ç½‘ç»œä¸»å¸ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("è¯­æ³•\n"),t("ul",[t("li",[e._v("ä¸å¸¦å‚æ•°: "),t("code",[e._v("fallback () external [payable]")])]),e._v(" "),t("li",[e._v("å¸¦å‚æ•°: "),t("code",[e._v("fallback (bytes calldata input) external [payable] returns (bytes memory output)")])]),e._v(" "),t("li",[e._v("æ²¡æœ‰"),t("code",[e._v("function")]),e._v("å…³é”®å­—ã€‚å¿…é¡»æ˜¯"),t("code",[e._v("external")]),e._v("å¯è§æ€§ï¼Œ")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// function fallback() external payable {}\n// æ­£ç¡®å†™æ³•ä¸å¸¦ functionï¼Œç›´æ¥å†™ fallbackï¼Œfallback å¦‚æœä½¿ç”¨ function ä¿®é¥°ï¼Œåˆ™æœ‰è­¦å‘Š\n// This function is named "fallback" but is not the fallback function of the contract.\n// If you intend this to be a fallback function, use  "fallback(...) { ... }" without\n// the "function" keyword to define it.\n')])])])]),e._v(" "),t("li",[e._v("fallback å‡½æ•°ç±»å‹å¯ä»¥æ˜¯ "),t("code",[e._v("payable")]),e._v("ï¼Œä¹Ÿå¯ä»¥ä¸æ˜¯ "),t("code",[e._v("payable")]),e._v(" çš„;\n"),t("ul",[t("li",[e._v("å¦‚æœä¸æ˜¯ "),t("code",[e._v("payable")]),e._v(" çš„ï¼Œå¯ä»¥å¾€åˆçº¦å‘é€éè½¬è´¦äº¤æ˜“ï¼Œå¦‚æœäº¤æ˜“é‡Œå¸¦æœ‰è½¬è´¦ä¿¡æ¯ï¼Œäº¤æ˜“ä¼šè¢« revertï¼›")]),e._v(" "),t("li",[e._v("å¦‚æœæ˜¯ "),t("code",[e._v("payable")]),e._v(" çš„ï¼Œè‡ªç„¶ä¹Ÿå°±å¯ä»¥æ¥å—è½¬è´¦äº†ã€‚")])])]),e._v(" "),t("li",[e._v("å°½ç®¡ "),t("code",[e._v("fallback")]),e._v(" å¯ä»¥æ˜¯ payable çš„ï¼Œä½†å¹¶ä¸å»ºè®®è¿™ä¹ˆåšï¼Œå£°æ˜ä¸º "),t("code",[e._v("payable")]),e._v(" ä¹‹åï¼Œå…¶æ‰€æ¶ˆè€—çš„ gas æœ€å¤§é‡å°±ä¼šè¢«é™å®šåœ¨ 2300ã€‚")]),e._v(" "),t("li",[e._v("å®ƒå¯ä»¥æ˜¯"),t("code",[e._v("virtual")]),e._v("çš„ï¼Œå¯ä»¥è¢«é‡è½½ä¹Ÿå¯ä»¥æœ‰ä¿®æ”¹å™¨ï¼ˆmodifierï¼‰ã€‚")])]),e._v(" "),t("p",[t("strong",[e._v("å›é€€å‡½æ•°åœ¨ä¸¤ç§æƒ…å†µè¢«è°ƒç”¨")]),e._v("ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("å‘åˆçº¦è½¬è´¦ï¼›\n"),t("ul",[t("li",[e._v("å¦‚æœä½¿ç”¨ call è½¬è´¦ï¼Œä¼šæ‰§è¡Œ fallbackã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœä½¿ç”¨åˆçº¦å†…å·²æœ‰çš„ "),t("code",[e._v("deposit")]),e._v(" è½¬è´¦ï¼Œä¸ä¼šæ‰§è¡Œ fallback")])])]),e._v(" "),t("li",[e._v("æ‰§è¡Œåˆçº¦ä¸å­˜åœ¨çš„æ–¹æ³•\n"),t("ul",[t("li",[e._v("å°±ä¼šæ‰§è¡Œ fallback å‡½æ•°ã€‚ï¼ˆæ‰§è¡Œåˆçº¦ä¸å­˜åœ¨çš„æ–¹æ³•æ—¶æ‰§è¡Œï¼‰")])])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-å‘åˆçº¦è½¬è´¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-å‘åˆçº¦è½¬è´¦"}},[e._v("#")]),e._v(" â“µ å‘åˆçº¦è½¬è´¦")]),e._v(" "),t("p",[e._v("fallback å‡½æ•°å§‹ç»ˆä¼šæ¥æ”¶æ•°æ®ï¼Œä½†ä¸ºäº†åŒæ—¶æ¥æ”¶ä»¥å¤ªæ—¶ï¼Œå¿…é¡»æ ‡è®°ä¸ºã€€"),t("code",[e._v("payable")]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Payable {\n    event Log(string funName, address from, uint256 value, bytes data);\n\n    function deposit() external payable {}\n\n    // é€šè¿‡ balance å±æ€§ï¼Œæ¥æŸ¥çœ‹ä½™é¢ã€‚\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n\n    fallback() external payable {\n        emit Log("fallback", msg.sender, msg.value, msg.data);\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“¶-æ‰§è¡Œåˆçº¦ä¸å­˜åœ¨çš„æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-æ‰§è¡Œåˆçº¦ä¸å­˜åœ¨çš„æ–¹æ³•"}},[e._v("#")]),e._v(" â“¶ æ‰§è¡Œåˆçº¦ä¸å­˜åœ¨çš„æ–¹æ³•")]),e._v(" "),t("p",[e._v("å¦‚æœåœ¨ä¸€ä¸ªå¯¹åˆçº¦è°ƒç”¨ä¸­ï¼Œæ²¡æœ‰å…¶ä»–å‡½æ•°ä¸ç»™å®šçš„å‡½æ•°æ ‡è¯†ç¬¦åŒ¹é… fallback ä¼šè¢«è°ƒç”¨ï¼æˆ–è€…åœ¨æ²¡æœ‰ receive å‡½æ•°æ—¶ï¼Œè€Œæ²¡æœ‰æä¾›é™„åŠ æ•°æ®å¯¹åˆçº¦è°ƒç”¨ï¼Œé‚£ä¹ˆ fallback å‡½æ•°ä¼šè¢«æ‰§è¡Œã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract StoneCat {\n    uint256 public age = 0;\n    event eventFallback(string);\n\n    // å‘é€åˆ°è¿™ä¸ªåˆçº¦çš„æ‰€æœ‰æ¶ˆæ¯éƒ½ä¼šè°ƒç”¨æ­¤å‡½æ•°ï¼ˆå› ä¸ºè¯¥åˆçº¦æ²¡æœ‰å…¶å®ƒå‡½æ•°ï¼‰ã€‚\n    // å‘è¿™ä¸ªåˆçº¦å‘é€ä»¥å¤ªå¸ä¼šå¯¼è‡´å¼‚å¸¸ï¼Œå› ä¸º fallback å‡½æ•°æ²¡æœ‰ `payable` ä¿®é¥°ç¬¦\n    fallback() external {\n        age++;\n        emit eventFallback("fallbak");\n    }\n}\n\ninterface AnimalEat {\n    function eat() external returns (string memory);\n}\n\ncontract Animal {\n    function test1(address _addr) external returns (string memory) {\n        AnimalEat general = AnimalEat(_addr);\n        return general.eat();\n    }\n    function test2(address _addr) external returns (bool success) {\n        AnimalEat general = AnimalEat(_addr);\n        (success,) = address(general).call(abi.encodeWithSignature("eat()"));\n        require(success);\n    }\n}\n')])])]),t("p",[e._v("ä¸Šé¢ä¾‹å­ç§ï¼Œæ‰§è¡Œ StoneCat åˆçº¦ calldataï¼Œå‚æ•° "),t("code",[e._v("0x00")]),e._v(" å¯ä»¥æˆåŠŸï¼Œä½†æ˜¯å¦‚æœå‘é€äº†ä»¥å¤ªå¸ï¼Œåˆ™ä¼šå¤±è´¥ï¼Œå› ä¸ºæ²¡æœ‰ paybaleã€‚")]),e._v(" "),t("p",[e._v("ç›´æ¥ä½¿ç”¨æ–¹æ³•æ˜¯ä¸è¡Œçš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ call è°ƒç”¨ï¼Œå› ä¸º call ä¸æ£€æŸ¥ï¼Œè¿™ä¹Ÿå®˜æ–¹æ˜¯ä¸æ¨èä½¿ç”¨ call çš„åŸå› ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“·-å¸¦å‚æ•°çš„-fallback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-å¸¦å‚æ•°çš„-fallback"}},[e._v("#")]),e._v(" â“· å¸¦å‚æ•°çš„ fallback")]),e._v(" "),t("p",[e._v("fallback å¯ä»¥æœ‰è¾“å…¥å€¼å’Œè¾“å‡ºå€¼ï¼Œéƒ½æ˜¯ "),t("code",[e._v("bytes")]),e._v(" ç±»å‹çš„æ•°æ®ã€‚å¦‚æœä½¿ç”¨äº†å¸¦å‚æ•°çš„ç‰ˆæœ¬ï¼Œ"),t("code",[e._v("input")]),e._v(" å°†åŒ…å«å‘é€åˆ°åˆçº¦çš„å®Œæ•´æ•°æ®ï¼Œå‚æ•° input ç­‰äº"),t("code",[e._v("msg.data")]),e._v("ï¼Œå¯ä»¥çœç•¥ï¼Œå¹¶ä¸”é€šè¿‡ "),t("code",[e._v("output")]),e._v(" è¿”å›æ•°æ®ã€‚ è¿”å›æ•°æ®ä¸æ˜¯ ABI ç¼–ç è¿‡çš„æ•°æ®ï¼Œç›¸åï¼Œå®ƒè¿”å›ä¸ç»è¿‡ä¿®æ”¹çš„æ•°æ®ã€‚ä¸ä»»ä½•å…¶ä»–å‡½æ•°ä¸€æ ·ï¼Œåªè¦æœ‰è¶³å¤Ÿçš„ gas ä¼ é€’ç»™å®ƒï¼Œå›é€€å‡½æ•°å°±å¯ä»¥æ‰§è¡Œå¤æ‚çš„æ“ä½œã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    bytes public inputData1;\n    bytes public inputData2;\n\n    fallback (bytes calldata input) external  returns (bytes memory output){\n        inputData1 = input;\n        inputData2 = msg.data; // input ç­‰äº msg.data\n        return input;\n    }\n}\n")])])]),t("p",[e._v("âš ï¸ å¦‚æœæƒ³è¦è§£ç è¾“å…¥æ•°æ®ï¼Œé‚£ä¹ˆå‰å››ä¸ªå­—èŠ‚ç”¨ä½œå‡½æ•°é€‰æ‹©å™¨ï¼Œç„¶åç”¨"),t("code",[e._v("abi.decode")]),e._v(" ä¸æ•°ç»„åˆ‡ç‰‡è¯­æ³•ä¸€èµ·ä½¿ç”¨æ¥è§£ç  ABI ç¼–ç çš„æ•°æ®ï¼š\n"),t("code",[e._v("(c, d) = abi.decode(_input[4:], (uint256, uint256));")]),e._v("è¯·æ³¨æ„ï¼Œè¿™ä»…åº”ä½œä¸ºæœ€åçš„æ‰‹æ®µï¼Œè€Œåº”ä½¿ç”¨å¯¹åº”çš„å‡½æ•°ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract StoneCat {\n    uint256 public age = 0;\n    bytes public inputData1;\n    bytes public inputData2;\n    uint256 public c;\n    uint256 public d;\n\n    event eventFallback(string);\n\n    fallback (bytes calldata input) external  returns (bytes memory output){\n        age++;\n        inputData1 = input;\n        inputData2 = msg.data;\n        (c, d) = abi.decode(msg.data[4:], (uint256, uint256));\n        emit eventFallback("fallbak");\n        return input;\n    }\n}\n\ninterface AnimalEat {\n    function eat() external returns (string memory);\n}\n\ncontract Animal {\n    function test2(address _addr) external returns (bool success) {\n        AnimalEat general = AnimalEat(_addr);\n        (success, ) = address(general).call(abi.encodeWithSignature("eat()",123,456));\n        require(success);\n    }\n}\n')])])]),t("h3",{attrs:{id:"_3-receive-ä»¥å¤ªå‡½æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-receive-ä»¥å¤ªå‡½æ•°"}},[e._v("#")]),e._v(" 3.receive ä»¥å¤ªå‡½æ•°")]),e._v(" "),t("p",[e._v("receive åªè´Ÿè´£æ¥æ”¶ä¸»å¸,ä¸€ä¸ªåˆçº¦æœ€å¤šæœ‰ä¸€ä¸ª "),t("code",[e._v("receive")]),e._v(" å‡½æ•°")]),e._v(" "),t("ul",[t("li",[e._v("è¯­æ³• "),t("code",[e._v("receive() external payable {}")]),e._v(" "),t("ul",[t("li",[e._v("æ²¡æœ‰ "),t("code",[e._v("function")]),e._v(" å…³é”®å­—")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('  // function receive() external payable {}\n  // receive å¦‚æœä½¿ç”¨ function ä¿®é¥°ï¼Œåˆ™æœ‰å¦‚ä¸‹è­¦å‘Š\n  // This function is named "receive" but is not the receive function of\n  // the contract. If you intend this to be a receive function,\n  // use "receive(...) { ... }" without the "function" keyword to define it.\n')])])])]),e._v(" "),t("li",[e._v("æ²¡æœ‰å‚æ•°ã€æ²¡æœ‰è¿”å›å€¼ã€‚")]),e._v(" "),t("li",[t("code",[e._v("external payable")]),e._v(" æ˜¯å¿…é¡»çš„\n"),t("ul",[t("li",[e._v("receive å‡½æ•°ç±»å‹å¿…é¡»æ˜¯ "),t("code",[e._v("payable")]),e._v(" çš„ï¼Œå¹¶ä¸”é‡Œé¢çš„è¯­å¥åªæœ‰åœ¨é€šè¿‡å¤–éƒ¨åœ°å€å¾€åˆçº¦é‡Œè½¬è´¦çš„æ—¶å€™æ‰§è¡Œã€‚")])])]),e._v(" "),t("li",[e._v("å®ƒå¯ä»¥æ˜¯ "),t("code",[e._v("virtual")]),e._v(" çš„ï¼Œå¯ä»¥è¢«é‡è½½ä¹Ÿå¯ä»¥æœ‰ ä¿®æ”¹å™¨(modifier) ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœæ²¡æœ‰å®šä¹‰ "),t("code",[e._v("æ¥æ”¶å‡½æ•° receive")]),e._v("ï¼Œå°±ä¼šæ‰§è¡Œ "),t("code",[e._v("fallback")]),e._v(" å‡½æ•°ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    event Log(string funName, address from, uint256 value, bytes data);\n\n    receive() external payable {\n        // receive è¢«è°ƒç”¨çš„æ—¶å€™ä¸å­˜åœ¨ msg.dataï¼Œæ‰€ä»¥ä¸ä½¿ç”¨è¿™ä¸ªï¼Œç›´æ¥ç”¨ç©ºå­—ç¬¦ä¸²\n        emit Log("receive", msg.sender, msg.value, "");\n    }\n\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n}\n')])])]),t("p",[e._v("ä¸Šé¢ä¾‹å­é€šè¿‡ calldata æ‰§è¡Œè½¬è´¦ï¼Œæ— å‚æ•°æ—¶å€™ä¼šè§¦å‘ receive å‡½æ•°ã€‚ä½†æ˜¯å¦‚æœæœ‰å‚æ•°ï¼Œæ¯”å¦‚"),t("code",[e._v("0x00")]),e._v(",åˆ™ä¼šæŠ¥é”™ "),t("em",[e._v("'Fallback' function is not defined")])]),e._v(" "),t("p",[e._v("åœ¨å¯¹åˆçº¦æ²¡æœ‰ä»»ä½•é™„åŠ æ•°æ®è°ƒç”¨ï¼ˆé€šå¸¸æ˜¯å¯¹åˆçº¦è½¬è´¦ï¼‰æ˜¯ä¼šæ‰§è¡Œ "),t("code",[e._v("receive")]),e._v("å‡½æ•°ï¼ä¾‹å¦‚ã€€é€šè¿‡ "),t("code",[e._v(".send()")]),e._v(" or "),t("code",[e._v(".transfer()")]),e._v("ã€‚")]),e._v(" "),t("p",[e._v("å£°æ˜ä¸º payable ä¹‹åï¼Œå…¶æ‰€æ¶ˆè€—çš„ gas æœ€å¤§é‡å°±ä¼šè¢«é™å®šåœ¨ 2300ã€‚é™¤äº†åŸºç¡€çš„æ—¥å¿—è¾“å‡ºä¹‹å¤–ï¼Œè¿›è¡Œå…¶ä»–æ“ä½œçš„ä½™åœ°å¾ˆå°ã€‚ä¸‹é¢çš„æ“ä½œæ¶ˆè€—ä¼šæ“ä½œ 2300 gas :")]),e._v(" "),t("ul",[t("li",[e._v("å†™å…¥å­˜å‚¨")]),e._v(" "),t("li",[e._v("åˆ›å»ºåˆçº¦")]),e._v(" "),t("li",[e._v("è°ƒç”¨æ¶ˆè€—å¤§é‡ gas çš„å¤–éƒ¨å‡½æ•°")]),e._v(" "),t("li",[e._v("å‘é€ä»¥å¤ªå¸")])]),e._v(" "),t("p",[e._v("æ‰©å±•é˜…è¯» âš ï¸: ä¸€ä¸ªæ²¡æœ‰ receive å‡½æ•°çš„åˆçº¦ï¼Œå¯ä»¥ä½œä¸º "),t("em",[e._v("coinbase äº¤æ˜“")]),e._v(" ï¼ˆåˆå"),t("em",[e._v("çŸ¿å·¥åŒºå—å›æŠ¥")]),e._v(" ï¼‰çš„æ¥æ”¶è€…æˆ–è€…ä½œä¸º "),t("code",[e._v("selfdestruct")]),e._v(" çš„ç›®æ ‡æ¥æ¥æ”¶ä»¥å¤ªå¸ã€‚ä¸€ä¸ªåˆçº¦ä¸èƒ½å¯¹è¿™ç§ä»¥å¤ªå¸è½¬ç§»åšå‡ºååº”ï¼Œå› æ­¤ä¹Ÿä¸èƒ½æ‹’ç»å®ƒä»¬ã€‚è¿™æ˜¯ EVM åœ¨è®¾è®¡æ—¶å°±å†³å®šå¥½çš„ï¼Œè€Œä¸” Solidity æ— æ³•ç»•è¿‡è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¹Ÿæ„å‘³ç€ "),t("code",[e._v("address(this).balance")]),e._v(" å¯ä»¥é«˜äºåˆçº¦ä¸­å®ç°çš„ä¸€äº›æ‰‹å·¥è®°å¸çš„æ€»å’Œï¼ˆä¾‹å¦‚åœ¨ receive å‡½æ•°ä¸­æ›´æ–°çš„ç´¯åŠ å™¨è®°å¸ï¼‰ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_4-receive-å’Œ-fallback-å…±å­˜çš„è°ƒç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-receive-å’Œ-fallback-å…±å­˜çš„è°ƒç”¨"}},[e._v("#")]),e._v(" 4.receive å’Œ fallback å…±å­˜çš„è°ƒç”¨")]),e._v(" "),t("p",[e._v("æ³¨æ„ï¼šè¿™é‡Œ fallback éœ€è¦æ˜¯ "),t("code",[e._v("payable")]),e._v(" ç±»å‹çš„ã€‚å¦‚ä¸‹å›¾:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/**\n\n    è°ƒç”¨æ—¶å‘é€äº†ETH\n            |\nåˆ¤æ–­ msg.data æ˜¯å¦ä¸ºç©º\n          /     \\\n        æ˜¯       å¦\næ˜¯å¦å­˜åœ¨ receive   fallbak()\n      /   \\\n    å­˜åœ¨   ä¸å­˜åœ¨\n    /        \\\nreceive()   fallbak()\n\n */\n")])])]),t("p",[t("strong",[e._v("æ€»ç»“")]),e._v(": åªæœ‰ "),t("code",[e._v("msg.data")]),e._v(" ä¸ºç©ºï¼Œå¹¶ä¸”å­˜åœ¨ "),t("code",[e._v("receive")]),e._v(" çš„æ—¶å€™ï¼Œæ‰ä¼šè¿è¡Œ "),t("code",[e._v("receive")]),e._v("ã€‚")]),e._v(" "),t("p",[e._v("å¦‚æœä¸å­˜åœ¨ "),t("code",[e._v("receive")]),e._v(" ä»¥å¤ªå‡½æ•°ï¼Œ"),t("code",[e._v("payable")]),e._v(" çš„ "),t("code",[e._v("fallback")]),e._v(" å‡½æ•°ä¹Ÿå¯ä»¥åœ¨çº¯ä»¥å¤ªè½¬è´¦çš„æ—¶å€™æ‰§è¡Œã€‚ä½†æ˜¯æ¨èæ€»æ˜¯å®šä¹‰ä¸€ä¸ª receive å‡½æ•°ï¼Œè€Œä¸æ˜¯å®šä¹‰ä¸€ä¸ª payable çš„ fallback å‡½æ•°ã€‚å¦åˆ™ä¼šæŠ¥è­¦å‘Š âš ï¸:"),t("em",[e._v("Warning: This contract has a payable fallback function, but no receive ether function. Consider adding a receive ether function.")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('\n// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// è¿™ä¸ªåˆçº¦ä¼šä¿ç•™æ‰€æœ‰å‘é€ç»™å®ƒçš„ä»¥å¤ªå¸ï¼Œæ²¡æœ‰åŠæ³•è¿”è¿˜ã€‚\ncontract Demo {\n    uint256 public x;\n    uint256 public y;\n\n    event Log(string funName, address from, uint256 value, bytes data);\n\n    // çº¯è½¬è´¦è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œä¾‹å¦‚å¯¹æ¯ä¸ªç©ºempty calldataçš„è°ƒç”¨\n    receive() external payable {\n        x = 1;\n        y = msg.value;\n        emit Log("receive", msg.sender, msg.value, "");\n    }\n\n    // é™¤äº†çº¯è½¬è´¦å¤–ï¼Œæ‰€æœ‰çš„è°ƒç”¨éƒ½ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼\n    // (å› ä¸ºé™¤äº† receive å‡½æ•°å¤–ï¼Œæ²¡æœ‰å…¶ä»–çš„å‡½æ•°).\n    // ä»»ä½•å¯¹åˆçº¦éç©ºcalldata è°ƒç”¨ä¼šæ‰§è¡Œå›é€€å‡½æ•°(å³ä½¿æ˜¯è°ƒç”¨å‡½æ•°é™„åŠ ä»¥å¤ª).\n    fallback() external payable {\n        x = 2;\n        y = msg.value;\n        emit Log("fallback", msg.sender, msg.value, msg.data);\n    }\n\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n}\n')])])]),t("ul",[t("li",[e._v("è¾“å…¥ä»¥å¤ªå¸ï¼Œç„¶åæ— å‚æ•° calldata è°ƒç”¨")]),e._v(" "),t("li",[e._v("è¾“å…¥ä»¥å¤ªå¸ï¼Œç„¶åå‚æ•°"),t("code",[e._v("0x00")]),e._v(" è¿›è¡Œ calldata è°ƒç”¨")])]),e._v(" "),t("p",[e._v("å¦‚æœ "),t("code",[e._v("receive")]),e._v("å‡½æ•°ä¸å­˜åœ¨ï¼Œä½†æ˜¯æœ‰ "),t("code",[e._v("payable")]),e._v(" çš„ fallback å›é€€å‡½æ•° é‚£ä¹ˆåœ¨è¿›è¡Œçº¯ä»¥å¤ªè½¬è´¦æ—¶ï¼Œfallback å‡½æ•°ä¼šè°ƒç”¨.å¦‚æœä¸¤ä¸ªå‡½æ•°éƒ½æ²¡æœ‰ï¼Œè¿™ä¸ªåˆçº¦å°±æ²¡æ³•é€šè¿‡å¸¸è§„çš„è½¬è´¦äº¤æ˜“æ¥æ”¶ä»¥å¤ªï¼ˆä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰ã€‚")]),e._v(" "),t("p",[e._v("æ³¨æ„ï¼š"),t("code",[e._v("receive")]),e._v(" å‡½æ•°å¯èƒ½åªæœ‰ 2300 gas å¯ä»¥ä½¿ç”¨ï¼ˆå¦‚ï¼Œå½“ä½¿ç”¨ "),t("code",[e._v("send")]),e._v(" æˆ–"),t("code",[e._v("transfer")]),e._v(" æ—¶ï¼‰ï¼Œ")]),e._v(" "),t("p",[e._v("âš ï¸: ä¸€ä¸ªæ²¡æœ‰å®šä¹‰ "),t("code",[e._v("fallback")]),e._v(" å‡½æ•°æˆ– "),t("code",[e._v("receive")]),e._v(" å‡½æ•°çš„åˆçº¦ï¼Œç›´æ¥æ¥æ”¶ä»¥å¤ªå¸ï¼ˆæ²¡æœ‰å‡½æ•°è°ƒç”¨ï¼Œä½¿ç”¨ "),t("code",[e._v("send")]),e._v(" æˆ– "),t("code",[e._v("transfer")]),e._v("ï¼‰ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œ å¹¶è¿”è¿˜ä»¥å¤ªå¸ã€‚æ‰€ä»¥å¦‚æœä½ æƒ³è®©ä½ çš„åˆçº¦åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½å¯ä»¥æ¥æ”¶ä»¥å¤ªå¸ï¼Œå¿…é¡»å®ç° "),t("code",[e._v("receive")]),e._v(" å‡½æ•°ï¼ˆä½¿ç”¨ "),t("code",[e._v("payable fallback")]),e._v(" å‡½æ•°ä¸å†æ¨èï¼Œå› ä¸ºå®ƒä¼šè®©å€Ÿå£æ··æ·†ï¼‰ã€‚")]),e._v(" "),t("h2",{attrs:{id:"_7ï¸âƒ£-selfdestruct-åˆçº¦è‡ªæ¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7ï¸âƒ£-selfdestruct-åˆçº¦è‡ªæ¯"}},[e._v("#")]),e._v(" 7ï¸âƒ£ selfdestruct:åˆçº¦è‡ªæ¯")]),e._v(" "),t("p",[e._v("åˆçº¦ä»£ç ä»åŒºå—é“¾ä¸Šç§»é™¤çš„å”¯ä¸€æ–¹å¼æ˜¯åˆçº¦åœ¨åˆçº¦åœ°å€ä¸Šçš„æ‰§è¡Œè‡ªæ¯æ“ä½œ "),t("code",[e._v("selfdestruct")]),e._v(" ã€‚"),t("code",[e._v("selfdestruct")]),e._v(" ä½œç”¨æ˜¯ "),t("strong",[e._v("é”€æ¯åˆçº¦")]),e._v("ï¼Œå¹¶"),t("strong",[e._v("æŠŠä½™é¢å‘é€åˆ°æŒ‡å®šåœ°å€ç±»å‹ Address")]),e._v("ã€‚")]),e._v(" "),t("p",[e._v("åšäº†ä¸¤ä»¶äº‹ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("é”€æ¯åˆçº¦:å®ƒä½¿åˆçº¦å˜ä¸ºæ— æ•ˆï¼Œåˆ é™¤è¯¥åœ°å€åœ°å­—èŠ‚ç ã€‚")]),e._v(" "),t("li",[e._v("å®ƒæŠŠåˆçº¦çš„æ‰€æœ‰èµ„é‡‘å¼ºåˆ¶å‘é€åˆ°ç›®æ ‡åœ°å€ã€‚\n"),t("ul",[t("li",[e._v("å¦‚æœæ¥å—çš„åœ°å€æ˜¯åˆçº¦ï¼Œå³ä½¿é‡Œé¢æ²¡æœ‰ "),t("code",[e._v("fallback")]),e._v(" å’Œ "),t("code",[e._v("receive")]),e._v(" ä¹Ÿä¼šå‘é€è¿‡å»")])])]),e._v(" "),t("li",[e._v("é™¤éå¿…è¦ï¼Œä¸å»ºè®®é”€æ¯åˆçº¦ã€‚\n"),t("ul",[t("li",[e._v("å¦‚æœæœ‰äººå‘é€ä»¥å¤ªå¸åˆ°ç§»é™¤çš„åˆçº¦ï¼Œè¿™äº›ä»¥å¤ªå¸å¯èƒ½å°†æ°¸è¿œä¸¢å¤±")]),e._v(" "),t("li",[e._v("å¦‚æœè¦ç¦ç”¨åˆçº¦ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹æŸä¸ªå†…éƒ¨çŠ¶æ€è®©æ‰€æœ‰å‡½æ•°æ— æ³•æ‰§è¡Œï¼Œè¿™æ ·ä¹Ÿå¯ä»¥è¾¾åˆ°ç›®çš„ã€‚")])])]),e._v(" "),t("li",[e._v("å³ä¾¿ä¸€ä¸ªåˆçº¦çš„ä»£ç ä¸­æ²¡æœ‰æ˜¾å¼åœ°è°ƒç”¨ "),t("code",[e._v("selfdestruct")]),e._v("ï¼Œå®ƒä»ç„¶æœ‰å¯èƒ½é€šè¿‡ "),t("code",[e._v("delegatecall")]),e._v(" æˆ– "),t("code",[e._v("callcode")]),e._v(" æ‰§è¡Œè‡ªæ¯æ“ä½œã€‚")])]),e._v(" "),t("p",[e._v("âš ï¸ï¼šå³ä½¿ä¸€ä¸ªåˆçº¦è¢« "),t("code",[e._v("selfdestruct")]),e._v(" åˆ é™¤ï¼Œå®ƒä»ç„¶æ˜¯åŒºå—é“¾å†å²çš„ä¸€éƒ¨åˆ†ï¼ŒåŒºå—é“¾çš„é“¾æ¡ä¸­ä¸å¯èƒ½æ— ç¼˜æ— æ•…æ¶ˆå¤±ä¸€ä¸ªå—ï¼Œè¿™æ ·ä»–ä»¬å°±æ²¡åŠæ³•åšæ ¡éªŒäº†ã€‚ å› æ­¤ï¼Œä½¿ç”¨ "),t("code",[e._v("selfdestruct")]),e._v(" ä¸ä»ç¡¬ç›˜ä¸Šåˆ é™¤æ•°æ®æ˜¯ä¸åŒçš„ã€‚")]),e._v(" "),t("p",[e._v("è¯·æ³¨æ„ "),t("code",[e._v("selfdestruct")]),e._v(" å…·æœ‰ä» EVM ç»§æ‰¿çš„ä¸€äº›ç‰¹æ€§ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("æ¥æ”¶åˆçº¦çš„ "),t("code",[e._v("receive")]),e._v(" å‡½æ•° ä¸ä¼šæ‰§è¡Œã€‚")]),e._v(" "),t("li",[e._v("åˆçº¦ä»…åœ¨äº¤æ˜“ç»“æŸæ—¶æ‰çœŸæ­£è¢«é”€æ¯ï¼Œå¹¶ä¸” "),t("code",[e._v("revert")]),e._v(" å¯èƒ½ä¼šâ€œæ’¤æ¶ˆâ€é”€æ¯ã€‚æ­¤å¤–ï¼Œå½“å‰åˆçº¦å†…çš„æ‰€æœ‰å‡½æ•°éƒ½å¯ä»¥è¢«ç›´æ¥è°ƒç”¨ï¼ŒåŒ…æ‹¬å½“å‰å‡½æ•°ã€‚")])]),e._v(" "),t("blockquote",[t("p",[e._v("åœ¨ 0.5.0 ä¹‹å‰, è¿˜æœ‰ä¸€ä¸ª "),t("code",[e._v("suicide")]),e._v(" ï¼Œå®ƒå’Œ "),t("code",[e._v("selfdestruct")]),e._v(" è¯­ä¹‰æ˜¯ä¸€æ ·çš„ã€‚")])]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-7"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=8",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 7 èŠ‚: selfdestruct:åˆçº¦è‡ªæ¯")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=YgUdGXM-tcw&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=8",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« ç¬¬ 7 èŠ‚: selfdestruct:åˆçº¦è‡ªæ¯")])])]),e._v(" "),t("h3",{attrs:{id:"â“µ-è‡ªæˆ‘æ¯ç­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-è‡ªæˆ‘æ¯ç­"}},[e._v("#")]),e._v(" â“µ è‡ªæˆ‘æ¯ç­")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Kill {\n    uint256 public aaa = 123;\n\n    constructor() payable {}\n\n    function kill() external{\n        selfdestruct(payable(msg.sender));\n    }\n\n    function bbb() external pure returns(uint256){\n        return 1;\n    }\n\n    fallback() external {}\n\n    receive() external payable {}\n}\n")])])]),t("ol",[t("li",[e._v("å…ˆè°ƒç”¨ "),t("code",[e._v("aaa")]),e._v("/"),t("code",[e._v("bbb")]),e._v("ï¼ŒæŸ¥çœ‹è¾“å‡ºå€¼")]),e._v(" "),t("li",[e._v("calldata å½¢å¼è¿›è¡Œè½¬è´¦")]),e._v(" "),t("li",[e._v("kill é”€æ¯åˆçº¦")]),e._v(" "),t("li",[e._v("æŸ¥çœ‹æ”¶åˆ°çš„é‡‘é¢")]),e._v(" "),t("li",[e._v("æŸ¥çœ‹ aaa çš„å€¼")])]),e._v(" "),t("h3",{attrs:{id:"â“¶-é€šè¿‡åˆçº¦è°ƒç”¨æ¯ç­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-é€šè¿‡åˆçº¦è°ƒç”¨æ¯ç­"}},[e._v("#")]),e._v(" â“¶ é€šè¿‡åˆçº¦è°ƒç”¨æ¯ç­")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Kill {\n    uint256 public aaa = 123;\n\n    constructor() payable {}\n\n    function kill() external {\n        selfdestruct(payable(msg.sender));\n    }\n\n    function bbb() external pure returns(uint256){\n        return 1;\n    }\n\n    fallback() external {}\n\n    receive() external payable {}\n}\n\ncontract Helper {\n    // æ²¡æœ‰ `fallback` å’Œ `receive`ï¼Œæ­£å¸¸æ²¡åŠæ³•æ¥å—ETHä¸»å¸\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n\n    // kill åï¼Œæ­¤æ—¶ Helper ä½™é¢å°±ä¼šå¼ºåˆ¶æ”¶åˆ°ETHä¸»å¸\n    function kill(Kill _kill) external {\n        _kill.kill();\n    }\n}\n")])])]),t("ol",[t("li",[e._v("éƒ¨ç½² Kill")]),e._v(" "),t("li",[e._v("å…ˆè°ƒç”¨ "),t("code",[e._v("Kill.aaa")]),e._v("ï¼ŒæŸ¥çœ‹è¾“å‡ºå€¼")]),e._v(" "),t("li",[e._v("calldata å½¢å¼è¿›è¡Œè½¬è´¦ï¼ŒæŸ¥çœ‹ä½™é¢")]),e._v(" "),t("li",[e._v("éƒ¨ç½² Helper")]),e._v(" "),t("li",[e._v("æŸ¥çœ‹ "),t("code",[e._v("Helper.getBalance")]),e._v(" è¿”å›å€¼")]),e._v(" "),t("li",[e._v("calldata å½¢å¼è¿›è¡Œè½¬è´¦ï¼Œæ­¤æ—¶ä¼šå¤±è´¥")]),e._v(" "),t("li",[e._v("è°ƒç”¨ "),t("code",[e._v("Helper.kill")])]),e._v(" "),t("li",[e._v("æŸ¥çœ‹ "),t("code",[e._v("Helper.getBalance")]),e._v(" è¿”å›å€¼")]),e._v(" "),t("li",[e._v("æŸ¥çœ‹ "),t("code",[e._v("Kill.aaa")]),e._v(" çš„å€¼")])]),e._v(" "),t("h2",{attrs:{id:"ğŸ†—-å®æˆ˜-1-åŒå¿—ä»¬å¥½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ†—-å®æˆ˜-1-åŒå¿—ä»¬å¥½"}},[e._v("#")]),e._v(" ğŸ†— å®æˆ˜ 1: åŒå¿—ä»¬å¥½")]),e._v(" "),t("p",[e._v("ä¸ºäº†è®©å­¦ä¹ çš„å†…å®¹ï¼Œå¯ä»¥æ›´å¥½çš„ä½¿ç”¨ï¼Œæ¯ä¸€ç« åé¢éƒ½ä¼šæœ€å°‘æœ‰ä¸€ä¸ªå®æˆ˜ç»ƒä¹ ã€‚å½“å‰æ˜¯ç¬¬ä¸€ç« ï¼Œå­¦ä¹ çš„å†…å®¹æ¯”è¾ƒç®€å•å’Œæµ…æ˜¾ï¼Œæ‰€ä»¥åšä¸€ä¸ªç®€å•çš„å°è”ç³»å°±å¯ä»¥äº†ã€‚")]),e._v(" "),t("p",[e._v("ä¸ºæ­¤æˆ‘å†™äº†è¿™ä¸ªé˜…å…µå¼é‡Œ"),t("code",[e._v("åŒå¿—ä»¬å¥½")]),e._v("çš„åœºæ™¯åˆçº¦ï¼Œç”¨äºèƒ½åŠ›è‡ªæ£€ï¼Œç›¸å½“äºåŠ å¼ºç‰ˆçš„ Hello Worldã€‚å†æ¬¡æé†’ï¼Œæœ¬æ•™ç¨‹é»˜è®¤è¯»è€…å·²ç»æŒæ¡äº† Solidity åŸºæœ¬è¯­è¨€çš„ä½¿ç”¨æ–¹æ³•ã€‚è¿™å¹¶ä¸æ˜¯é’ˆå¯¹åˆæ¬¡å­¦ä¹  Solidity çš„æ•™ç¨‹ã€‚")]),e._v(" "),t("p",[e._v("åŒå¿—ä»¬å¥½çš„åœºæ™¯ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("é¢†å¯¼è¯´â€œåŒå¿—ä»¬å¥½â€ï¼Œå›å¤â€œé¢†å¯¼å¥½â€")]),e._v(" "),t("li",[e._v("é¢†å¯¼è¯´â€œåŒå¿—ä»¬è¾›è‹¦äº†â€ï¼Œå›å¤â€œä¸ºäººæ°‘æœåŠ¡â€")])]),e._v(" "),t("h3",{attrs:{id:"_1-åˆçº¦ä»£ç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-åˆçº¦ä»£ç "}},[e._v("#")]),e._v(" 1.åˆçº¦ä»£ç ")]),e._v(" "),t("p",[e._v("ä¸ªäººä¹ æƒ¯æ˜¯å°†ä»£ç æŒ‰ç…§åŠŸèƒ½è¿›è¡ŒåŒºåŸŸåˆ’åˆ†ï¼Œæ¯ä¸€ä¸ªåŒºåŸŸä½¿ç”¨å¦‚ä¸‹æ³¨é‡Šæ ‡è®°ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/*\n * ========================================\n * State Variables\n * ========================================\n */\n")])])]),t("p",[e._v("åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n/// @title ä¸€ä¸ªæ¨¡æ‹ŸåŒå¿—ä»¬å¥½çš„ç®€å•æ¼”ç¤º\n/// @author Anbang\n/// @notice æ‚¨åªèƒ½å°†æ­¤åˆçº¦ç”¨äºæœ€åŸºæœ¬çš„æ¨¡æ‹Ÿæ¼”ç¤º\n/// @dev æœ¬ç« ä¸»è¦å†…å®¹çš„å®æˆ˜ç»ƒä¹ \n/// @custom:experimental è¿™æ˜¯å®éªŒçš„åˆçº¦ã€‚\ncontract HelloComrades {\n    /*\n     * ========================================\n     * State Variables\n     * ========================================\n     */\n\n    /// @notice ç”¨äºæ ‡è®°å½“å‰è¿›åº¦\n    /// @dev 0:ç­‰å¾…é¢†å¯¼è¯´"åŒå¿—ä»¬å¥½"ï¼Œ\n    /// @dev 1:ç­‰å¾…åŒå¿—ä»¬è¯´"é¢†å¯¼å¥½"ï¼Œ\n    /// @dev 2:ç­‰å¾…é¢†å¯¼è¯´"åŒå¿—ä»¬è¾›è‹¦äº†"\n    /// @dev 3:ç­‰å¾…åŒå¿—ä»¬è¯´"ä¸ºäººæ°‘æœåŠ¡"\n    /// @dev 4:ç­‰å¾…é”€æ¯ã€‚\n    /// @return å½“å‰è¿›åº¦\n    uint8 public step = 0;\n\n    /// @notice ç”¨äºæ ‡è®°é¢†å¯¼åœ°å€\n    /// @dev ä¸å¯å˜é‡ï¼Œéœ€è¦åœ¨æ„é€ å‡½æ•°å†…æŒ‡å®šï¼Œä»¥åå°±ä¸èƒ½ä¿®æ”¹äº†\n    /// @return å½“å‰é¢†å¯¼çš„åœ°å€\n    address public immutable leader;\n\n    /// @notice ç”¨äºé‡åˆ°é”™è¯¯æ—¶çš„æ— è„‘å¤è¯»æœºå¼å›å¤\n    string internal constant UNKNOWN =\n        unicode"æˆ‘ä¸çŸ¥é“å¦‚ä½•å¤„ç†å®ƒ,ä½ æ‰¾ç›¸å…³éƒ¨é—¨å§!";\n\n    /*\n     * ========================================\n     * Events\n     * ========================================\n     */\n\n    /// @notice ç”¨äºå¯¹å½“å‰ step è¢«ä¿®æ”¹æ—¶çš„ä¿¡æ¯é€šçŸ¥\n    /// @dev åªè¦å‘ç”Ÿ step ä¿®æ”¹ï¼Œéƒ½éœ€è¦æŠ›å‡ºæ­¤äº‹ä»¶\n    /// @param å½“å‰ä¿®æ”¹çš„æœ€æ–° step\n    event Step(uint8);\n\n    /// @notice ç”¨äºå¯¹å½“å‰åˆçº¦çš„é‡‘é¢å˜åŠ¨é€šçŸ¥\n    /// @dev åªè¦å‘ç”Ÿé‡‘é¢ä¿®æ”¹ï¼Œéƒ½éœ€è¦æŠ›å‡ºæ­¤äº‹ä»¶\n    /// @param tag: æ ‡è®°å†…å®¹\n    /// @param from: å½“å‰åœ°å€\n    /// @param value: å½“å‰å‘é€é‡‘é¢\n    /// @param data: å½“å‰è°ƒç”¨çš„dataå†…å®¹\n    event Log(string tag, address from, uint256 value, bytes data);\n\n    /*\n     * ========================================\n     * Modifier\n     * ========================================\n     */\n\n    /// @notice æ£€æŸ¥åªèƒ½é¢†å¯¼è°ƒç”¨\n    /// @dev ç”¨äºé¢†å¯¼ä¸“ç”¨å‡½æ•°\n    modifier onlyLeader() {\n        require(msg.sender == leader, unicode"å¿…é¡»é¢†å¯¼æ‰èƒ½è¯´");\n        _;\n    }\n\n    /// @notice æ£€æŸ¥åªèƒ½éé¢†å¯¼è°ƒç”¨\n    /// @dev ç”¨äºéé¢†å¯¼åœ°å€æ£€æµ‹\n    modifier notLeader() {\n        require(\n            msg.sender != leader,\n            unicode"ä¸éœ€è¦é¢†å¯¼å›ç­”ï¼Œéœ€è¦åŒå¿—ä»¬æ¥å›ç­”"\n        );\n        _;\n    }\n\n    /*\n     * ========================================\n     * Errors\n     * ========================================\n     */\n\n    /// @notice è‡ªå®šä¹‰çš„é”™è¯¯ï¼Œè¿™ç§æ³¨é‡Šå†…å®¹ä¼šåœ¨é”™è¯¯æ—¶æ˜¾ç¤ºå‡ºæ¥\n    /// @dev ç”¨äºæ‰€æœ‰æœªçŸ¥é”™è¯¯\n    /// This is a message des info.éœ€è¦ä¸Šæ–¹ç©ºä¸€è¡Œï¼Œæ‰å¯ä»¥æ˜¾ç¤ºå‡ºæ¥\n    error MyError(string msg);\n\n    /*\n     * ========================================\n     * Constructor\n     * ========================================\n     */\n\n    /// @dev ç”¨äºé¢†å¯¼åœ°å€çš„æŒ‡å®šï¼Œåç»­ä¸å¯ä¿®æ”¹\n    constructor(address _leader) {\n        require(_leader != address(0), "invalid address");\n        leader = _leader;\n    }\n\n    /*\n     * ========================================\n     * Functions\n     * ========================================\n     */\n\n    /// @notice ç”¨äºé¢†å¯¼è¯´"åŒå¿—ä»¬å¥½"\n    /// @dev åªèƒ½åœ¨ step ä¸º 0 æ—¶è°ƒç”¨ï¼Œåªèƒ½é¢†å¯¼è°ƒç”¨ï¼Œå¹¶ä¸”åªèƒ½è¯´"åŒå¿—ä»¬å¥½"\n    /// @param content: å½“å‰é¢†å¯¼è¯´çš„å†…å®¹\n    /// @return å½“å‰è°ƒç”¨çš„çŠ¶æ€ï¼Œtrue ä»£è¡¨æˆåŠŸ\n    function hello(string calldata content) external onlyLeader returns (bool) {\n        if (step != 0) {\n            revert(UNKNOWN);\n        }\n        if (!review(content, unicode"åŒå¿—ä»¬å¥½")) {\n            revert MyError(unicode"å¿…é¡»è¯´:åŒå¿—ä»¬å¥½");\n        }\n        step = 1;\n        emit Step(step);\n        return true;\n    }\n\n    /// @notice ç”¨äºåŒå¿—ä»¬è¯´"é¢†å¯¼å¥½"\n    /// @dev åªèƒ½åœ¨ step ä¸º 1 æ—¶è°ƒç”¨ï¼Œåªèƒ½éé¢†å¯¼è°ƒç”¨ï¼Œå¹¶ä¸”åªèƒ½è¯´"é¢†å¯¼å¥½"\n    /// @param content: å½“å‰åŒå¿—ä»¬è¯´çš„å†…å®¹\n    /// @return å½“å‰è°ƒç”¨çš„çŠ¶æ€ï¼Œtrue ä»£è¡¨æˆåŠŸ\n    function helloRes(string calldata content)\n        external\n        notLeader\n        returns (bool)\n    {\n        if (step != 1) {\n            revert(UNKNOWN);\n        }\n        if (!review(content, unicode"é¢†å¯¼å¥½")) {\n            revert MyError(unicode"å¿…é¡»è¯´:é¢†å¯¼å¥½");\n        }\n        step = 2;\n        emit Step(step);\n        return true;\n    }\n\n    /// @notice ç”¨äºé¢†å¯¼è¯´"åŒå¿—ä»¬è¾›è‹¦äº†"\n    /// @dev åªèƒ½åœ¨ step ä¸º 2 æ—¶è°ƒç”¨ï¼Œåªèƒ½é¢†å¯¼è°ƒç”¨ï¼Œå¹¶ä¸”åªèƒ½è¯´"åŒå¿—ä»¬è¾›è‹¦äº†",è¿˜éœ€ç»™é’±\n    /// @param content: å½“å‰é¢†å¯¼è¯´çš„å†…å®¹\n    /// @return å½“å‰è°ƒç”¨çš„çŠ¶æ€ï¼Œtrue ä»£è¡¨æˆåŠŸ\n    function comfort(string calldata content)\n        external\n        payable\n        onlyLeader\n        returns (bool)\n    {\n        if (step != 2) {\n            revert(UNKNOWN);\n        }\n        if (!review(content, unicode"åŒå¿—ä»¬è¾›è‹¦äº†")) {\n            revert MyError(unicode"å¿…é¡»è¯´:åŒå¿—ä»¬è¾›è‹¦äº†");\n        }\n        if (msg.value < 2 ether) {\n            revert MyError(unicode"ç»™é’±ï¼ï¼ï¼æœ€å°‘2ä¸ªä»¥å¤ªå¸");\n        }\n        step = 3;\n        emit Step(step);\n        emit Log("comfort", msg.sender, msg.value, msg.data);\n        return true;\n    }\n\n    /// @notice ç”¨äºåŒå¿—ä»¬è¯´"ä¸ºäººæ°‘æœåŠ¡"\n    /// @dev åªèƒ½åœ¨ step ä¸º 3 æ—¶è°ƒç”¨ï¼Œåªèƒ½éé¢†å¯¼è°ƒç”¨ï¼Œå¹¶ä¸”åªèƒ½è¯´"ä¸ºäººæ°‘æœåŠ¡"\n    /// @param content: å½“å‰åŒå¿—ä»¬è¯´çš„å†…å®¹\n    /// @return å½“å‰è°ƒç”¨çš„çŠ¶æ€ï¼Œtrue ä»£è¡¨æˆåŠŸ\n    function comfortRes(string calldata content)\n        external\n        notLeader\n        returns (bool)\n    {\n        if (step != 3) {\n            revert(UNKNOWN);\n        }\n        if (!review(content, unicode"ä¸ºäººæ°‘æœåŠ¡")) {\n            revert MyError(unicode"å¿…é¡»è¯´:ä¸ºäººæ°‘æœåŠ¡");\n        }\n        step = 4;\n        emit Step(step);\n        return true;\n    }\n\n    /// @notice ç”¨äºé¢†å¯¼å¯¹\n    /// @dev åªèƒ½åœ¨ step ä¸º 4 æ—¶è°ƒç”¨ï¼Œåªèƒ½é¢†å¯¼è°ƒç”¨\n    /// @return å½“å‰è°ƒç”¨çš„çŠ¶æ€ï¼Œtrue ä»£è¡¨æˆåŠŸ\n    function destruct() external onlyLeader returns (bool) {\n        if (step != 4) {\n            revert(UNKNOWN);\n        }\n        emit Log("selfdestruct", msg.sender, address(this).balance, "");\n        selfdestruct(payable(msg.sender));\n        return true;\n    }\n\n    /*\n     * ========================================\n     * Helper\n     * ========================================\n     */\n\n    /// @notice ç”¨äºæ£€æŸ¥è°ƒç”¨è€…è¯´çš„è¯\n    /// @dev é‡å¤æ£€æµ‹å†…å®¹çš„ä»£ç æŠ½å‡º\n    /// @param content: å½“å‰å†…å®¹\n    /// @param correctContent: æ­£ç¡®å†…å®¹\n    /// @return å½“å‰è°ƒç”¨çš„çŠ¶æ€ï¼Œtrue ä»£è¡¨å†…å®¹ç›¸åŒï¼Œé€šè¿‡æ£€æµ‹\n     function review(string calldata content, string memory correctContent)\n     private\n     pure\n     returns(bool){\n         return keccak256(abi.encodePacked(content)) == keccak256(abi.encodePacked(correctContent));\n     }\n\n    receive() external payable {\n        emit Log("receive", msg.sender, msg.value, "");\n    }\n\n    fallback() external payable {\n        emit Log("fallback", msg.sender, msg.value, msg.data);\n    }\n\n    /// @notice ç”¨äºè·å–å½“å‰åˆçº¦å†…çš„ä½™é¢\n    /// @dev ä¸€ä¸ªè·å–å½“å‰åˆçº¦é‡‘é¢çš„è¾…åŠ©å‡½æ•°\n    /// @return å½“å‰åˆçº¦çš„ä½™é¢\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n}\n')])])]),t("h3",{attrs:{id:"_2-remix-éƒ¨ç½²æµ‹è¯•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-remix-éƒ¨ç½²æµ‹è¯•"}},[e._v("#")]),e._v(" 2.Remix éƒ¨ç½²æµ‹è¯•")]),e._v(" "),t("ul",[t("li",[e._v("éƒ¨ç½²åˆçº¦\n"),t("ul",[t("li",[e._v("éœ€è¦è¾“å…¥ Leader åœ°å€ä½œä¸ºå‚æ•°")])])]),e._v(" "),t("li",[e._v("ç‚¹å‡» ã€leaderã€‘ æŸ¥çœ‹ä¿¡æ¯")]),e._v(" "),t("li",[e._v("ç‚¹å‡» ã€destructã€‘ è¿›è¡Œé”€æ¯\n"),t("ul",[t("li",[e._v("æ­¤æ—¶æŠ¥é”™ï¼Œå› ä¸ºæ­¥éª¤ä¸å¯¹")])])]),e._v(" "),t("li",[e._v("ã€helloã€‘\n"),t("ul",[t("li",[e._v("è¾“å…¥é”™çš„å†…å®¹")]),e._v(" "),t("li",[e._v("è¾“å…¥"),t("em",[e._v("åŒå¿—ä»¬å¥½")])]),e._v(" "),t("li",[e._v("æŸ¥çœ‹ step å€¼")])])]),e._v(" "),t("li",[e._v("ã€helloResã€‘\n"),t("ul",[t("li",[e._v("è¾“å…¥é”™çš„å†…å®¹ï¼Œæ­¤æ—¶æç¤ºï¼Œè´¦å·ä¸å¯¹ã€‚")]),e._v(" "),t("li",[e._v("åˆ‡æ¢è´¦å·åè¾“å…¥é”™çš„å†…å®¹ï¼Œæç¤º"),t("em",[e._v("å¿…é¡»è¯´:é¢†å¯¼å¥½")])]),e._v(" "),t("li",[e._v("è¾“å…¥"),t("em",[e._v("é¢†å¯¼å¥½")])]),e._v(" "),t("li",[e._v("æŸ¥çœ‹ step å€¼")])])]),e._v(" "),t("li",[e._v("ã€comfortã€‘\n"),t("ul",[t("li",[e._v("è¾“å…¥é”™çš„å†…å®¹ï¼Œæ­¤æ—¶æç¤ºè´¦å·æƒé™ä¸å¯¹")]),e._v(" "),t("li",[e._v("åˆ‡æ¢è´¦å·åï¼Œè¾“å…¥é”™çš„å†…å®¹ï¼Œæç¤º"),t("em",[e._v("å¿…é¡»è¯´:åŒå¿—ä»¬è¾›è‹¦äº†")])]),e._v(" "),t("li",[e._v("ç‚¹å‡»ã€helloã€‘ï¼Œæ­¤æ—¶è¯´æç¤º"),t("em",[e._v("æˆ‘ä¸çŸ¥é“å¦‚ä½•å¤„ç†å®ƒ,ä½ æ‰¾ç›¸å…³éƒ¨é—¨å§!")]),e._v("ï¼Œå› ä¸º step ä¸å¯¹ã€‚")]),e._v(" "),t("li",[e._v("è¾“å…¥"),t("em",[e._v("åŒå¿—ä»¬è¾›è‹¦äº†")]),e._v("ï¼Œæ­¤æ—¶æç¤ºå¿…é¡»ç»™é’±ï¼›ï¼ˆåªæœ‰ç»™äº† 2 ä¸ªä»¥ä¸Šçš„ä»¥å¤ªå¸ï¼Œæ‰èƒ½è¯´åŒå¿—ä»¬è¾›è‹¦äº†ã€‚ï¼‰")]),e._v(" "),t("li",[e._v("æˆ‘ä»¬ç»™ 2 ä¸ª weiï¼Œå‡è£…æ˜¯ 2 ä¸ª ETHï¼Œçœ‹èƒ½å¦é€šè¿‡ã€‚ï¼ˆç»“æœè¿˜æ˜¯ä¸èƒ½é€šè¿‡ï¼‰")]),e._v(" "),t("li",[e._v("ç»™ 2 ä¸ªä»¥å¤ªï¼Œå¹¶è¾“å…¥"),t("em",[e._v("åŒå¿—ä»¬è¾›è‹¦äº†")]),e._v("ã€‚æ­¤æ—¶å¯ä»¥é€šè¿‡äº†")]),e._v(" "),t("li",[e._v("ç‚¹å‡»ã€getBalanceã€‘æŸ¥çœ‹åˆçº¦çš„ä½™é¢")]),e._v(" "),t("li",[e._v("æŸ¥çœ‹ step å€¼")])])]),e._v(" "),t("li",[e._v("ã€comfortResã€‘\n"),t("ul",[t("li",[e._v("ç‚¹å‡»ã€helloResã€‘ï¼Œæ­¤æ—¶è¯´æç¤º"),t("em",[e._v("æˆ‘ä¸çŸ¥é“å¦‚ä½•å¤„ç†å®ƒ,ä½ æ‰¾ç›¸å…³éƒ¨é—¨å§!")]),e._v("ï¼Œå› ä¸º step ä¸å¯¹ã€‚")]),e._v(" "),t("li",[e._v("åˆ‡æ¢è´¦å·åï¼Œè¾“å…¥é”™çš„å†…å®¹ï¼Œæç¤º"),t("em",[e._v("å¿…é¡»è¯´:ä¸ºäººæ°‘æœåŠ¡")])]),e._v(" "),t("li",[e._v("è¾“å…¥"),t("em",[e._v("ä¸ºäººæ°‘æœåŠ¡")])])])]),e._v(" "),t("li",[e._v("ã€calldataã€‘è°ƒç”¨\n"),t("ul",[t("li",[e._v("è¾“å…¥ 1wei ï¼Œæ— å‚æ•°ç›´æ¥è°ƒç”¨ï¼›æŸ¥çœ‹äº¤æ˜“è¯¦æƒ…å†…çš„ logsï¼Œæ­¤æ—¶æ˜¯ "),t("strong",[e._v("receive")]),e._v("ï¼Œä½™é¢å˜åŒ–å¤š 1wei")]),e._v(" "),t("li",[e._v("è¾“å…¥ 2weiï¼Œå‚æ•°ä½¿ç”¨"),t("code",[e._v("0x00")]),e._v("è°ƒç”¨ï¼ŒæŸ¥çœ‹äº¤æ˜“è¯¦æƒ…å†…çš„ logsï¼Œæ­¤æ—¶æ˜¯ "),t("strong",[e._v("fallback")]),e._v("ï¼Œä½™é¢å˜åŒ–å¤š 2wei")])])]),e._v(" "),t("li",[e._v("ã€destructã€‘è°ƒç”¨ï¼Œæ³¨æ„æŸ¥çœ‹ä½™é¢å˜åŒ–ã€‚\n"),t("ul",[t("li",[e._v("æ³¨æ„æŸ¥çœ‹å½“å‰ leader åœ°å€çš„ä½™é¢")]),e._v(" "),t("li",[e._v("å…ˆä½¿ç”¨é leader åœ°å€è§¦å‘ã€destructã€‘ï¼Œæç¤ºé”™è¯¯")]),e._v(" "),t("li",[e._v("ç„¶åæ˜¯ leader åœ°å€è§¦å‘ã€‚æŸ¥çœ‹äº¤æ˜“è¯¦æƒ…ç§çš„ logs")]),e._v(" "),t("li",[e._v("æŸ¥çœ‹ leader åœ°å€/ balance/stepï¼Œéƒ½å·²ç»æ˜¯é»˜è®¤å€¼")]),e._v(" "),t("li",[e._v("è§¦å‘æ‰€æœ‰å‡½æ•°ï¼Œæ­¤æ—¶å‡½æ•°éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯éƒ½æ˜¯é»˜è®¤å€¼ã€‚")])])])]),e._v(" "),t("h3",{attrs:{id:"_3-æ¡ˆä¾‹çŸ¥è¯†ç‚¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ¡ˆä¾‹çŸ¥è¯†ç‚¹"}},[e._v("#")]),e._v(" 3.æ¡ˆä¾‹çŸ¥è¯†ç‚¹")]),e._v(" "),t("ul",[t("li",[e._v("åˆçº¦çš„åŸºæœ¬ç”¨æ³•")]),e._v(" "),t("li",[e._v("åˆçº¦çš„æ„é€ å‡½æ•°ä½¿ç”¨")]),e._v(" "),t("li",[e._v("å‡½æ•°çš„åŸºæœ¬ç”¨æ³•\n"),t("ul",[t("li",[e._v("å‡½æ•°ä¸­æ¡ä»¶åˆ¤æ–­å’Œé”™è¯¯è¾“å‡º")])])]),e._v(" "),t("li",[e._v("äº‹ä»¶å’Œäº‹ä»¶è§¦å‘")]),e._v(" "),t("li",[e._v("NatSpec ç”¨æ³•æ¼”ç¤º\n"),t("ul",[t("li",[e._v("è‡ªå®šé”™è¯¯ä½¿ç”¨å’Œè§¦å‘ï¼Œä»¥åŠç»“åˆ "),t("code",[e._v("NatSpec")]),e._v(" æŠ›å‡ºé”™è¯¯")])])]),e._v(" "),t("li",[t("code",[e._v("fallback")]),e._v(" å’Œ "),t("code",[e._v("receive")]),e._v(" çš„ä½¿ç”¨å’Œä¸åŒä¹‹å¤„")]),e._v(" "),t("li",[t("code",[e._v("immutable")]),e._v(" ä¸å¯å˜é‡çš„ä½¿ç”¨")]),e._v(" "),t("li",[t("code",[e._v("constant")]),e._v(" å¸¸é‡çš„ä½¿ç”¨")]),e._v(" "),t("li",[e._v("unicode å­—é¢å¸¸é‡")]),e._v(" "),t("li",[e._v("modifier ä½¿ç”¨")]),e._v(" "),t("li",[t("code",[e._v("keccak256")]),e._v(" ç»“åˆ "),t("code",[e._v("abi.encodePacked")]),e._v(" åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç›¸åŒ")])]),e._v(" "),t("h3",{attrs:{id:"_4-ç”Ÿæˆæ–‡æ¡£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-ç”Ÿæˆæ–‡æ¡£"}},[e._v("#")]),e._v(" 4.ç”Ÿæˆæ–‡æ¡£")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("solc --userdoc --devdoc a.sol\n")])])]),t("h3",{attrs:{id:"_5-å®æˆ˜ä½œä¸š"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-å®æˆ˜ä½œä¸š"}},[e._v("#")]),e._v(" 5.å®æˆ˜ä½œä¸š")]),e._v(" "),t("p",[e._v("è¿™ä¸ªä¾‹å­ä¸­ stepï¼Œå› ä¸ºåªæœ‰å‡ ä¸ªé€‰æ‹©ï¼Œå°è¯•å°† step æ”¹ä¸º enum ç±»å‹ã€‚")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-8"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=9",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« : å®æˆ˜ 1: åŒå¿—ä»¬å¥½")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=wJpmy1umX-k&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=9",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« : å®æˆ˜ 1: åŒå¿—ä»¬å¥½")])])]),e._v(" "),t("h2",{attrs:{id:"ğŸ†—-å®æˆ˜-2-å­˜é’±ç½åˆçº¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ†—-å®æˆ˜-2-å­˜é’±ç½åˆçº¦"}},[e._v("#")]),e._v(" ğŸ†— å®æˆ˜ 2: å­˜é’±ç½åˆçº¦")]),e._v(" "),t("ul",[t("li",[e._v("æ‰€æœ‰äººéƒ½å¯ä»¥å­˜é’±\n"),t("ul",[t("li",[e._v("ETH")])])]),e._v(" "),t("li",[e._v("åªæœ‰åˆçº¦ owner æ‰å¯ä»¥å–é’±")]),e._v(" "),t("li",[e._v("åªè¦å–é’±ï¼Œåˆçº¦å°±é”€æ¯æ‰ "),t("code",[e._v("selfdestruct")])]),e._v(" "),t("li",[e._v("æ‰©å±•ï¼šæ”¯æŒä¸»å¸ä»¥å¤–çš„èµ„äº§\n"),t("ul",[t("li",[e._v("ERC20")]),e._v(" "),t("li",[e._v("ERC721")])])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Bank {\n    // çŠ¶æ€å˜é‡\n    address public immutable owner;\n\n    // äº‹ä»¶\n    event Deposit(address _ads, uint256 amount);\n    event Withdraw(uint256 amount);\n\n    // receive\n    receive() external payable {\n        emit Deposit(msg.sender, msg.value);\n    }\n\n    // æ„é€ å‡½æ•°\n    constructor() payable {\n        owner = msg.sender;\n    }\n\n    // æ–¹æ³•\n    function withdraw() external {\n        require(msg.sender == owner, "Not Owner");\n        emit Withdraw(address(this).balance);\n        selfdestruct(payable(msg.sender));\n    }\n\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n}\n')])])]),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-9"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=10",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« : å®æˆ˜ 2: å­˜é’±ç½åˆçº¦")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=yA8IMHdLq54&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=10",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« : å®æˆ˜ 2: å­˜é’±ç½åˆçº¦")])])]),e._v(" "),t("h2",{attrs:{id:"ğŸ†—-å®æˆ˜-3-weth-åˆçº¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ†—-å®æˆ˜-3-weth-åˆçº¦"}},[e._v("#")]),e._v(" ğŸ†— å®æˆ˜ 3: WETH åˆçº¦")]),e._v(" "),t("p",[e._v("WETH æ˜¯åŒ…è£… ETH ä¸»å¸ï¼Œä½œä¸º ERC20 çš„åˆçº¦ã€‚")]),e._v(" "),t("p",[e._v("æ ‡å‡†çš„ ERC20 åˆçº¦åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ª")]),e._v(" "),t("ul",[t("li",[e._v("3 ä¸ªæŸ¥è¯¢\n"),t("ul",[t("li",[t("code",[e._v("balanceOf")]),e._v(": æŸ¥è¯¢æŒ‡å®šåœ°å€çš„ Token æ•°é‡")]),e._v(" "),t("li",[t("code",[e._v("allowance")]),e._v(": æŸ¥è¯¢æŒ‡å®šåœ°å€å¯¹å¦å¤–ä¸€ä¸ªåœ°å€çš„å‰©ä½™æˆæƒé¢åº¦")]),e._v(" "),t("li",[t("code",[e._v("totalSupply")]),e._v(": æŸ¥è¯¢å½“å‰åˆçº¦çš„ Token æ€»é‡")])])]),e._v(" "),t("li",[e._v("2 ä¸ªäº¤æ˜“\n"),t("ul",[t("li",[t("code",[e._v("transfer")]),e._v(": ä»å½“å‰è°ƒç”¨è€…åœ°å€å‘é€æŒ‡å®šæ•°é‡çš„ Token åˆ°æŒ‡å®šåœ°å€ã€‚\n"),t("ul",[t("li",[e._v("è¿™æ˜¯ä¸€ä¸ªå†™å…¥æ–¹æ³•ï¼Œæ‰€ä»¥è¿˜ä¼šæŠ›å‡ºä¸€ä¸ª "),t("code",[e._v("Transfer")]),e._v(" äº‹ä»¶ã€‚")])])]),e._v(" "),t("li",[t("code",[e._v("transferFrom")]),e._v(": å½“å‘å¦å¤–ä¸€ä¸ªåˆçº¦åœ°å€å­˜æ¬¾æ—¶ï¼Œå¯¹æ–¹åˆçº¦å¿…é¡»è°ƒç”¨ transferFrom æ‰å¯ä»¥æŠŠ Token æ‹¿åˆ°å®ƒè‡ªå·±çš„åˆçº¦ä¸­ã€‚")])])]),e._v(" "),t("li",[e._v("2 ä¸ªäº‹ä»¶\n"),t("ul",[t("li",[t("code",[e._v("Transfer")])]),e._v(" "),t("li",[t("code",[e._v("Approval")])])])]),e._v(" "),t("li",[e._v("1 ä¸ªæˆæƒ\n"),t("ul",[t("li",[t("code",[e._v("approve")]),e._v(": æˆæƒæŒ‡å®šåœ°å€å¯ä»¥æ“ä½œè°ƒç”¨è€…çš„æœ€å¤§ Token æ•°é‡ã€‚")])])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract WETH {\n    string public name = "Wrapped Ether";\n    string public symbol = "WETH";\n    uint8 public decimals = 18;\n\n    event Approval(address indexed src, address indexed delegateAds, uint256 amount);\n    event Transfer(address indexed src, address indexed toAds, uint256 amount);\n    event Deposit(address indexed toAds, uint256 amount);\n    event Withdraw(address indexed src, uint256 amount);\n\n    mapping(address => uint256) public balanceOf;\n    mapping(address => mapping(address => uint256)) public allowance;\n\n\n    function deposit() public payable {\n        balanceOf[msg.sender] += msg.value;\n        emit Deposit(msg.sender, msg.value);\n    }\n\n    function withdraw(uint256 amount) public {\n        require(balanceOf[msg.sender] >= amount);\n        balanceOf[msg.sender] -= amount;\n        payable(msg.sender).transfer(amount);\n        emit Withdraw(msg.sender, amount);\n    }\n\n    function totalSupply() public view returns (uint256) {\n        return address(this).balance;\n    }\n\n    function approve(address delegateAds, uint256 amount) public returns (bool) {\n        allowance[msg.sender][delegateAds] = amount;\n        emit Approval(msg.sender, delegateAds, amount);\n        return true;\n    }\n\n    function transfer(address toAds, uint256 amount) public returns (bool) {\n        return transferFrom(msg.sender, toAds, amount);\n    }\n\n    function transferFrom(\n        address src,\n        address toAds,\n        uint256 amount\n    ) public returns (bool) {\n        require(balanceOf[src] >= amount);\n\n        if (src != msg.sender) {\n            require(allowance[src][msg.sender] >= amount);\n            allowance[src][msg.sender] -= amount;\n        }\n\n        balanceOf[src] -= amount;\n        balanceOf[toAds] += amount;\n\n        emit Transfer(src, toAds, amount);\n\n        return true;\n    }\n\n    fallback() external payable {\n        deposit();\n    }\n\n    receive() external payable {\n        deposit();\n    }\n\n}\n')])])]),t("p",[e._v("ETH ä¸Šçš„ WETH åˆçº¦å‚è€ƒ:\nhttps://cn.etherscan.com/address/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2#code")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-10"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=11",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« : å®æˆ˜ 3: WETH åˆçº¦")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=qXkC3VIFyp0&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=11",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬ä¸€ç« : å®æˆ˜ 3: WETH åˆçº¦")])])]),e._v(" "),t("h2",{attrs:{id:"ï¸âƒ£-é—®ç­”é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ï¸âƒ£-é—®ç­”é¢˜"}},[e._v("#")]),e._v(" #ï¸âƒ£ é—®ç­”é¢˜")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("å› ä¸ºåŒºå—å¯ä»¥è¢«æ’¤å›ï¼Œç¼–ç æ—¶å€™æœ‰äº›éœ€è¦æ³¨æ„çš„ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("ä¼šå‡ºç°ä½ å‘èµ·çš„äº¤æ˜“è¢«å›æ»šç”šè‡³ä»åŒºå—é“¾ä¸­æŠ¹é™¤æ‰çš„å¯èƒ½ã€‚åŒºå—é“¾ä¸èƒ½ä¿è¯å½“å‰çš„äº¤æ˜“ä¸€å®šåŒ…å«åœ¨ä¸‹ä¸€ä¸ªåŒºå—ä¸­ã€‚å¦‚æœä½ å¼€å‘çš„åˆçº¦æœ‰é¡ºåºå…³ç³»ï¼Œè¦æ³¨æ„è¿™ä¸ªç‰¹æ€§ã€‚åˆçº¦å†…çš„é€»è¾‘ï¼Œä¸èƒ½å°†æŸä¸€ä¸ªå—ä½œä¸ºä¾èµ–ã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("æ ‡è®°ç‰ˆæœ¬å·æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("^0.8.17")])]),e._v(" "),t("li",[t("code",[e._v("0.8.17")])]),e._v(" "),t("li",[t("code",[e._v("pragma solidity >=0.7.0 <0.9.0;")])])])]),e._v(" "),t("li",[t("p",[e._v("å¸¸ç”¨çš„ç‰ˆæƒå£°æ˜æœ‰å“ªäº›ï¼Œåˆ†åˆ«ä»€ä¹ˆåŒºåˆ«ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("MIT")]),e._v("/"),t("code",[e._v("BUSL")])])])]),e._v(" "),t("li",[t("p",[e._v("èŠä¸€èŠ NatSpec æ³¨é‡Š")]),e._v(" "),t("ul",[t("li",[e._v("å•è¡Œä½¿ç”¨ "),t("code",[e._v("///")]),e._v(" å¼€å§‹ï¼Œå¤šè¡Œä½¿ç”¨ "),t("code",[e._v("/**")]),e._v(" å¼€å¤´ä»¥ "),t("code",[e._v("*/")]),e._v(" ç»“å°¾ã€‚NatSpec æè¿°æ³¨é‡Šçš„ä½œç”¨éå¸¸é‡è¦ï¼Œå®ƒæ˜¯ä¸ºå‡½æ•°ã€è¿”å›å˜é‡ç­‰æä¾›ä¸°å¯Œçš„æ–‡æ¡£ã€‚åœ¨ç¼–å†™åˆçº¦çš„æ—¶å€™ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨ "),t("code",[e._v("NatSpec")]),e._v(" ä¸ºæ‰€æœ‰çš„å¼€æ”¾æ¥å£ï¼ˆåªè¦æ˜¯åœ¨ "),t("code",[e._v("ABI")]),e._v(" é‡Œå‘ˆç°çš„å†…å®¹ï¼‰è¿›è¡Œå®Œæ•´çš„æ³¨é‡Šã€‚")]),e._v(" "),t("li",[e._v("å¯ä»¥è¾“å‡ºé”™è¯¯ï¼Œè€Œä¸æ¶ˆè€— gas")])])]),e._v(" "),t("li",[t("p",[e._v("èŠä¸€èŠå­˜å‚¨ï¼Œå†…å­˜ï¼Œæ ˆçš„å†…å®¹")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("å­˜å‚¨")]),e._v("ï¼šæ¯ä¸€ä¸ªåœ°å€éƒ½æœ‰ä¸€ä¸ªæŒä¹…åŒ–çš„å†…å­˜ï¼Œå­˜å‚¨æ˜¯å°† 256 ä½å­—æ˜ å°„åˆ° 256 ä½å­—çš„é”®å€¼å­˜å‚¨åŒºã€‚æ‰€ä»¥æ•°æ®ç±»å‹çš„æœ€å¤§å€¼æ˜¯ "),t("code",[e._v("uint256")]),e._v("/"),t("code",[e._v("int256")]),e._v("/"),t("code",[e._v("bytes32")]),e._v("ï¼Œåˆçº¦åªèƒ½è¯»å†™å­˜å‚¨åŒºå†…å±äºè‡ªå·±çš„éƒ¨åˆ†ã€‚")]),e._v(" "),t("li",[t("strong",[e._v("å†…å­˜")]),e._v("ï¼šåˆçº¦ä¼šè¯•å›¾ä¸ºæ¯ä¸€æ¬¡æ¶ˆæ¯è°ƒç”¨è·å–ä¸€å—è¢«é‡æ–°æ“¦æ‹­å¹²å‡€çš„å†…å­˜å®ä¾‹ã€‚æ‰€ä»¥å‚¨å­˜åœ¨å†…å­˜ä¸­çš„æ•°æ®ï¼Œåœ¨å‡½æ•°æ‰§è¡Œå®Œä»¥åå°±ä¼šè¢«é”€æ¯ã€‚å†…å­˜æ˜¯çº¿æ€§çš„ï¼Œå¯æŒ‰å­—èŠ‚çº§å¯»å€ï¼Œä½†è¯»çš„é•¿åº¦è¢«é™åˆ¶ä¸º 256 ä½ï¼Œè€Œå†™çš„é•¿åº¦å¯ä»¥æ˜¯ 8 ä½æˆ– 256 ä½ã€‚")]),e._v(" "),t("li",[t("strong",[e._v("æ ˆ")]),e._v("ï¼šåˆçº¦çš„æ‰€æœ‰è®¡ç®—éƒ½åœ¨ä¸€ä¸ªè¢«ç§°ä¸ºæ ˆï¼ˆstackï¼‰çš„åŒºåŸŸæ‰§è¡Œï¼Œæ ˆæœ€å¤§æœ‰ 1024 ä¸ªå…ƒç´ ï¼Œæ¯ä¸€ä¸ªå…ƒç´ é•¿åº¦æ˜¯ 256 bitï¼›æ‰€ä»¥è°ƒç”¨æ·±åº¦è¢«é™åˆ¶ä¸º 1024 ï¼Œå¯¹å¤æ‚çš„æ“ä½œï¼Œæ¨èä½¿ç”¨å¾ªç¯è€Œä¸æ˜¯é€’å½’ã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("interface å¦‚ä½•ä½¿ç”¨")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("å®šä¹‰ä¸€ä¸ªæ‹¥æœ‰æŸä¸ªæ–¹æ³•çš„æ¥å£ï¼Œä¼ å…¥åœ°å€åï¼Œè°ƒç”¨åœ°å€ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("interface AnimalEat {\n    function eat() external returns (string memory);\n}\n\ncontract Animal {\n    function test(address _addr) external returns (string memory) {\n        AnimalEat general = AnimalEat(_addr);\n        return general.eat();\n    }\n}\n")])])])])])]),e._v(" "),t("li",[t("p",[t("code",[e._v('string message = "Hello World!";')]),e._v(" è¿™ç§æ²¡æœ‰æ˜ç¡®æ ‡æ³¨å¯è§†èŒƒå›´çš„æƒ…å†µä¸‹ï¼Œ"),t("code",[e._v("message")]),e._v(" çš„å¯è§†èŒƒå›´æ˜¯ä»€ä¹ˆ? æ˜¯ "),t("code",[e._v("internal")]),e._v(" è¿˜æ˜¯ "),t("code",[e._v("private")]),e._v("?")]),e._v(" "),t("ul",[t("li",[e._v("private")])])]),e._v(" "),t("li",[t("p",[e._v("å˜é‡å¦‚ä½•ä½¿ç”¨ä»¥å¤ªå¸å•ä½ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("å¦‚æœæƒ³ç”¨ä»¥å¤ªå¸å•ä½æ¥è®¡ç®—è¾“å…¥å‚æ•°ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¹˜æ³•æ¥è½¬æ¢: "),t("code",[e._v("amountEth * 1 ether")])])])]),e._v(" "),t("li",[t("p",[e._v("receive å’Œ fallback å…±å­˜çš„è°ƒç”¨ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("åªæœ‰ msg.data ä¸ºç©ºï¼Œå¹¶ä¸”å­˜åœ¨ receive çš„æ—¶å€™ï¼Œæ‰ä¼šè¿è¡Œ receiveã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("receive å’Œ fallback åŒºåˆ«ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("receive åªè´Ÿè´£æ¥æ”¶ä¸»å¸")]),e._v(" "),t("li",[e._v("è°ƒç”¨æ²¡æœ‰çš„æ–¹æ³•æ—¶å€™æ‰§è¡Œ,å› ä¸ºå¯ä»¥è®¾ç½® payableï¼Œå¯ä»¥æ¥æ”¶ç½‘ç»œä¸»å¸ã€‚å°½ç®¡ fallback å¯ä»¥æ˜¯ payable çš„ï¼Œä½†å¹¶ä¸å»ºè®®è¿™ä¹ˆåšï¼Œå£°æ˜ä¸º payable ä¹‹åï¼Œå…¶æ‰€æ¶ˆè€—çš„ gas æœ€å¤§é‡å°±ä¼šè¢«é™å®šåœ¨ 2300ã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("åˆçº¦æ²¡æœ‰ receive å’Œ fallback å¯ä»¥æ¥å—ä»¥å¤ªå¸ä¹ˆï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("å¯ä»¥æ¥å—ï¼Œå¯ä»¥æ–¹æ³•æ ‡è®° payable è¿›è¡Œè½¬è´¦")])])]),e._v(" "),t("li",[t("p",[e._v("èŠä¸€èŠåˆçº¦è‡ªæ¯ "),t("code",[e._v("selfdestruct")]),e._v("ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("åˆçº¦ä»£ç ä»åŒºå—é“¾ä¸Šç§»é™¤çš„å”¯ä¸€æ–¹å¼æ˜¯åˆçº¦åœ¨åˆçº¦åœ°å€ä¸Šçš„æ‰§è¡Œè‡ªæ¯æ“ä½œ selfdestruct ã€‚selfdestruct ä½œç”¨æ˜¯ é”€æ¯åˆçº¦ï¼Œå¹¶æŠŠä½™é¢å‘é€åˆ°æŒ‡å®šåœ°å€ç±»å‹ Addressã€‚")]),e._v(" "),t("li",[e._v("é”€æ¯åˆçº¦:å®ƒä½¿åˆçº¦å˜ä¸ºæ— æ•ˆï¼Œåˆ é™¤è¯¥åœ°å€åœ°å­—èŠ‚ç ã€‚")]),e._v(" "),t("li",[e._v("å®ƒæŠŠåˆçº¦çš„æ‰€æœ‰èµ„é‡‘å¼ºåˆ¶å‘é€åˆ°ç›®æ ‡åœ°å€ã€‚\n"),t("ul",[t("li",[e._v("å¦‚æœæ¥å—çš„åœ°å€æ˜¯åˆçº¦ï¼Œå³ä½¿é‡Œé¢æ²¡æœ‰ "),t("code",[e._v("fallback")]),e._v(" å’Œ "),t("code",[e._v("receive")]),e._v(" ä¹Ÿä¼šå‘é€è¿‡å»")])])]),e._v(" "),t("li",[e._v("é™¤éå¿…è¦ï¼Œä¸å»ºè®®é”€æ¯åˆçº¦ã€‚\n"),t("ul",[t("li",[e._v("å¦‚æœæœ‰äººå‘é€ä»¥å¤ªå¸åˆ°ç§»é™¤çš„åˆçº¦ï¼Œè¿™äº›ä»¥å¤ªå¸å¯èƒ½å°†æ°¸è¿œä¸¢å¤±")]),e._v(" "),t("li",[e._v("å¦‚æœè¦ç¦ç”¨åˆçº¦ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹æŸä¸ªå†…éƒ¨çŠ¶æ€è®©æ‰€æœ‰å‡½æ•°æ— æ³•æ‰§è¡Œï¼Œè¿™æ ·ä¹Ÿå¯ä»¥è¾¾åˆ°ç›®çš„ã€‚")])])]),e._v(" "),t("li",[e._v("å³ä¾¿ä¸€ä¸ªåˆçº¦çš„ä»£ç ä¸­æ²¡æœ‰æ˜¾å¼åœ°è°ƒç”¨ "),t("code",[e._v("selfdestruct")]),e._v("ï¼Œå®ƒä»ç„¶æœ‰å¯èƒ½é€šè¿‡ "),t("code",[e._v("delegatecall")]),e._v(" æˆ– "),t("code",[e._v("callcode")]),e._v(" æ‰§è¡Œè‡ªæ¯æ“ä½œã€‚")]),e._v(" "),t("li",[e._v("å³ä½¿ä¸€ä¸ªåˆçº¦è¢« "),t("code",[e._v("selfdestruct")]),e._v(" åˆ é™¤ï¼Œå®ƒä»ç„¶æ˜¯åŒºå—é“¾å†å²çš„ä¸€éƒ¨åˆ†ï¼ŒåŒºå—é“¾çš„é“¾æ¡ä¸­ä¸å¯èƒ½æ— ç¼˜æ— æ•…æ¶ˆå¤±ä¸€ä¸ªå—ï¼Œè¿™æ ·ä»–ä»¬å°±æ²¡åŠæ³•åšæ ¡éªŒäº†ã€‚ å› æ­¤ï¼Œä½¿ç”¨ "),t("code",[e._v("selfdestruct")]),e._v(" ä¸ä»ç¡¬ç›˜ä¸Šåˆ é™¤æ•°æ®æ˜¯ä¸åŒçš„ã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("åˆçº¦è¿›è¡Œ"),t("code",[e._v("selfdestruct")]),e._v("åï¼Œè¿˜å¯ä»¥è°ƒç”¨çŠ¶æ€å˜é‡å’Œå‡½æ•°ä¹ˆï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("å¯ä»¥è°ƒç”¨ï¼Œä½†æ˜¯è¿”å›é»˜è®¤å€¼ã€‚å¦‚æœæƒ³è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨å­˜æ¡£èŠ‚ç‚¹é‡ŒæŒ‡å®šæœªåˆ é™¤çš„é«˜åº¦è¿›è¡Œè°ƒç”¨ã€‚")])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);