(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{443:function(t,n,s){"use strict";s.r(n);var a=s(2),e=Object(a.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"_09-äº‹ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_09-äº‹ä»¶"}},[t._v("#")]),t._v(" 09.äº‹ä»¶")]),t._v(" "),n("p",[t._v("äº‹ä»¶æ˜¯èƒ½æ–¹ä¾¿åœ°è°ƒç”¨ä»¥å¤ªåŠè™šæ‹Ÿæœºæ—¥å¿—åŠŸèƒ½çš„æ¥å£ã€‚åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡ä»¥å¤ªåŠå®¢æˆ·ç«¯çš„ RPC æ¥å£è®¢é˜…å’Œç›‘å¬è¿™äº›äº‹ä»¶ã€‚")]),t._v(" "),n("p",[n("strong",[t._v("é‡ç‚¹:è®°å½•åŒºå—é“¾çš„æ—¥å¿—ï¼Œå¯ä»¥ä½¿ç”¨çŠ¶æ€å˜é‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨äº‹ä»¶ Eventï¼Œä½† Event ä½¿ç”¨çš„ gas è´¹æ¯”çŠ¶æ€å˜é‡ä½ã€‚")])]),t._v(" "),n("p",[t._v("åŸåˆ™ï¼šæ”¹å˜çŠ¶æ€å˜é‡æ—¶ï¼Œä¸€å®šè¦è§¦å‘äº‹ä»¶ã€‚")]),t._v(" "),n("p",[t._v("Soliddity Event äº‹ä»¶æ˜¯ä»¥å¤ªåŠè™šæ‹Ÿæœº(EVM)æ—¥å¿—åŸºç¡€è®¾æ–½æä¾›çš„ä¸€ä¸ªä¾¿åˆ©æ¥å£ã€‚å½“è¢«å‘é€äº‹ä»¶ï¼ˆè°ƒç”¨ï¼‰æ—¶ï¼Œä¼šè§¦å‘å‚æ•°å­˜å‚¨åˆ°äº¤æ˜“çš„æ—¥å¿—ä¸­ã€‚è¿™äº›æ—¥å¿—ä¸åˆçº¦çš„åœ°å€å…³è”ï¼Œå¹¶è®°å½•åˆ°åŒºå—é“¾ä¸­ã€‚æ¯ä¸ªäº¤æ˜“æ”¶æ®åŒ…å« 0 åˆ°å¤šä¸ª log è®°å½•ï¼Œlog è¡¨æ˜ç€æ™ºèƒ½åˆçº¦æ‰€è§¦å‘çš„äº‹ä»¶ã€‚")]),t._v(" "),n("h2",{attrs:{id:"_1ï¸âƒ£-event-è¯­æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1ï¸âƒ£-event-è¯­æ³•"}},[t._v("#")]),t._v(" 1ï¸âƒ£ Event è¯­æ³•")]),t._v(" "),n("p",[n("strong",[t._v("äº‹ä»¶çš„å®šä¹‰")]),t._v(":ä½¿ç”¨ "),n("code",[t._v("event")]),t._v(" å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªäº‹ä»¶ Eventï¼Œè¯­æ³•å¦‚ä¸‹ï¼š")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("event EventName(<parameter list>);\n")])])]),n("p",[n("strong",[t._v("äº‹ä»¶çš„è§¦å‘")]),t._v(":åªèƒ½ä½¿ç”¨ "),n("code",[t._v("emit")]),t._v(" å…³é”®å­—æ¥è§¦å‘äº‹ä»¶ Eventï¼Œè¯­æ³•å¦‚ä¸‹ï¼š")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("emit EventName(<parameter list>);\n")])])]),n("h2",{attrs:{id:"_2ï¸âƒ£-å››ç§äº‹ä»¶å®šä¹‰æ–¹å¼"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2ï¸âƒ£-å››ç§äº‹ä»¶å®šä¹‰æ–¹å¼"}},[t._v("#")]),t._v(" 2ï¸âƒ£ å››ç§äº‹ä»¶å®šä¹‰æ–¹å¼")]),t._v(" "),n("ol",[n("li",[t._v("ä¸å¸¦å‚æ•°çš„ event")]),t._v(" "),n("li",[t._v("å¸¦å‚æ•°çš„ event")]),t._v(" "),n("li",[t._v("å¸¦å‚æ•°åçš„ event")]),t._v(" "),n("li",[t._v("å¸¦ indexed å‚æ•°åçš„ event\n"),n("ol",[n("li",[t._v("è¿™ç§äº‹ä»¶ä¹Ÿè¢«ç§°ä¸º"),n("strong",[t._v("ç´¢å¼•äº‹ä»¶")])]),t._v(" "),n("li",[t._v("è¯­æ³•:"),n("code",[t._v("event EventName(TypeName indexed varibleName....);")])]),t._v(" "),n("li",[t._v("äº‹ä»¶ä¸­ indexed æ ‡è®°è¿‡çš„å‚æ•°ï¼Œå¯ä»¥åœ¨é“¾å¤–è¿›è¡Œæœç´¢æŸ¥è¯¢ã€‚")]),t._v(" "),n("li",[t._v("ä¸€ä¸ªäº‹ä»¶ä¸­ indexed æ ‡è®°è¿‡çš„å‚æ•°æœ€å¤šæœ‰ 3 ä¸ªã€‚")])])])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Event {\n    // æ™®é€š event\n    event Log1(address, string);\n\n    // å¸¦åå­—çš„ event\n    event Log2(address ads, string msg);\n\n    // å¸¦ indexed çš„event\n    event Log3(address indexed ads, string msg);\n\n    // indexed åœ¨ä¸€ä¸ªäº‹ä»¶å†…ä½¿ç”¨æ¬¡æ•°ä¸èƒ½è¶…è¿‡3æ¬¡\n    event Transfer(\n        address indexed from,\n        address indexed to,\n        uint256 indexed amount\n    );\n\n    function log1() external {\n        emit Log1(msg.sender, "Log111");\n    }\n\n    function log2() external {\n        emit Log2(msg.sender, "Log222");\n    }\n\n    function log3() external {\n        emit Log3(msg.sender, "Log333");\n    }\n\n    function transfer(address _to, uint256 amount) external {\n        emit Transfer(msg.sender, _to, amount);\n    }\n}\n')])])]),n("h3",{attrs:{id:"_1-ä¸å¸¦å‚æ•°çš„-event"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¸å¸¦å‚æ•°çš„-event"}},[t._v("#")]),t._v(" 1 ä¸å¸¦å‚æ•°çš„ event")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x7874d94b8f9E2a28FCceCE404666C984f33a82b8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x1732d0c17008d342618e7f03069177d8d39391d79811bb4e706d7c6c84108c0f"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"event"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Log1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"args"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("h3",{attrs:{id:"_2-å¸¦å‚æ•°çš„-event"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¸¦å‚æ•°çš„-event"}},[t._v("#")]),t._v(" 2 å¸¦å‚æ•°çš„ event")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x7874d94b8f9E2a28FCceCE404666C984f33a82b8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x54010eb0426bdddd13273086604fca7ba750a84093c6839732d954056646e81b"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"event"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Log2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"args"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"0"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"1"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Log222"')]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("h3",{attrs:{id:"_3-å¸¦å‚æ•°åçš„-event"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¸¦å‚æ•°åçš„-event"}},[t._v("#")]),t._v(" 3 å¸¦å‚æ•°åçš„ event")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x7874d94b8f9E2a28FCceCE404666C984f33a82b8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x940879bf2d29cdfe8084f2f033d2168f5859a6e10530b61fb84dc1c5ddc9ca40"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"event"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Log3"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"args"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"0"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"1"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Log333"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ads"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Log333"')]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("h3",{attrs:{id:"_4-å¸¦-indexed-å‚æ•°åçš„-event"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-å¸¦-indexed-å‚æ•°åçš„-event"}},[t._v("#")]),t._v(" 4 å¸¦ indexed å‚æ•°åçš„ event")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xfB72aAdB17a855D27A68B565ee0a84CB30A387e4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xf485c071883274befba21423da7f60203f9df753bf614bca26c4763ed4b240fb"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"event"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Log4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"args"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"0"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"1"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Log444"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ads"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Log444"')]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xfB72aAdB17a855D27A68B565ee0a84CB30A387e4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"event"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Transfer"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"args"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"0"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"1"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"2"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"to"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"amount"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("h2",{attrs:{id:"_3ï¸âƒ£-indexed-çš„ä½œç”¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3ï¸âƒ£-indexed-çš„ä½œç”¨"}},[t._v("#")]),t._v(" 3ï¸âƒ£ indexed çš„ä½œç”¨")]),t._v(" "),n("p",[t._v("indexed æ•°æ®ä¼šè¢«è®°å½•åˆ° "),n("code",[t._v("topics")]),t._v(" ä¸­ï¼Œå¯ä»¥ç”¨äºæ£€ç´¢ã€‚å·²ç´¢å¼•çš„éƒ¨åˆ†ï¼Œæœ€å¤šæœ‰ 3 ä¸ªï¼ˆå¯¹äºéåŒ¿åäº‹ä»¶ï¼‰æˆ– 4 ä¸ªï¼ˆå¯¹äºåŒ¿åäº‹ä»¶ï¼‰")]),t._v(" "),n("p",[t._v("å¯¹äºéåŒ¿åäº‹ä»¶ï¼Œæœ€å¤šä¸‰ä¸ªå‚æ•°å¯ä»¥æ¥æ”¶ "),n("code",[t._v("indexed")]),t._v('å±æ€§ï¼ˆå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„åä¸º: "ä¸»é¢˜" çš„æ•°æ®ç»“æ„ï¼Œè€Œä¸ä½œä¸ºæ—¥å¿—çš„æ•°æ®éƒ¨åˆ†ï¼‰ã€‚ä¸»é¢˜ä»…æœ‰ 32 å­—èŠ‚ï¼Œ å› æ­¤å¦‚æœ:å¼•ç”¨ç±»å‹ æ ‡è®°ä¸ºç´¢å¼•é¡¹ï¼Œåˆ™å®ƒä»¬çš„ keccak-256 å“ˆå¸Œå€¼ä¼šè¢«ä½œä¸º ä¸»é¢˜ï¼ˆtopicï¼‰ ä¿å­˜ã€‚')]),t._v(" "),n("p",[t._v("ä¸»é¢˜ï¼ˆtopicï¼‰è®©æˆ‘ä»¬å¯ä»¥å¯ä»¥æœç´¢äº‹ä»¶ï¼Œæ¯”å¦‚åœ¨ä¸ºæŸäº›äº‹ä»¶è¿‡æ»¤ä¸€äº›åŒºå—ï¼Œè¿˜å¯ä»¥æŒ‰å‘èµ·äº‹ä»¶çš„åˆåŒåœ°å€æ¥è¿‡æ»¤äº‹ä»¶ã€‚")]),t._v(" "),n("p",[t._v("ä¾‹å¦‚, ä½¿ç”¨å¦‚ä¸‹çš„ web3.js "),n("code",[t._v('subscribe("logs")æ–¹æ³•')]),t._v(" å»è¿‡æ»¤ç¬¦åˆç‰¹å®šåœ°å€çš„ ä¸»é¢˜ï¼ˆtopicï¼‰ ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" options "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("fromBlock")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("address")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" web3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("topics")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x0000000000000000000000000000000000000000000000000000000000000000"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nweb3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"logs"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"changed"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("ä¸»è¦ç”¨åœ¨é“¾ä¸‹æœåŠ¡ï¼Œå¯ä»¥é€šè¿‡ RPC è·å–ï¼Œæ¯”å¦‚ web3 çš„ä»¥ä¸‹æ–¹æ³•:")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("myContract.once")]),t._v(" "),n("ul",[n("li",[t._v("https://web3js.readthedocs.io/en/v1.7.5/web3-eth-contract.html")])])]),t._v(" "),n("li",[n("code",[t._v("myContract.events.MyEvent")]),t._v(" "),n("ul",[n("li",[t._v("https://web3js.readthedocs.io/en/v1.7.5/web3-eth-contract.html#contract-events")])])]),t._v(" "),n("li",[n("code",[t._v("myContract.getPastEvents")]),t._v(" "),n("ul",[n("li",[t._v("https://web3js.readthedocs.io/en/v1.7.5/web3-eth-contract.html#getpastevents")])])])]),t._v(" "),n("h2",{attrs:{id:"_4ï¸âƒ£-log-çš„ä½¿ç”¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4ï¸âƒ£-log-çš„ä½¿ç”¨"}},[t._v("#")]),t._v(" 4ï¸âƒ£ log çš„ä½¿ç”¨")]),t._v(" "),n("p",[t._v("é™¤éä½ ç”¨ "),n("code",[t._v("anonymous")]),t._v(" å£°æ˜äº‹ä»¶ï¼Œå¦åˆ™äº‹ä»¶ç­¾åçš„å“ˆå¸Œå€¼æ˜¯ä¸€ä¸ª ä¸»é¢˜ï¼ˆtopicï¼‰ã€‚åŒæ—¶ä¹Ÿæ„å‘³ç€å¯¹äºåŒ¿åäº‹ä»¶æ— æ³•é€šè¿‡åå­—æ¥è¿‡æ»¤ï¼Œä»…èƒ½æŒ‰åˆçº¦åœ°å€è¿‡æ»¤ã€‚åŒ¿åäº‹ä»¶çš„ä¼˜åŠ¿æ˜¯ä»–ä»¬éƒ¨ç½²å’Œè°ƒç”¨çš„æˆæœ¬æ›´ä½ã€‚å®ƒä¹Ÿå…è®¸ä½ å£°æ˜ 4 ä¸ªç´¢å¼•å‚ä¸è€Œä¸æ˜¯ 3 ä¸ªã€‚")]),t._v(" "),n("p",[t._v('âš ï¸ï¼šç”±äºäº¤æ˜“æ—¥å¿—åªå­˜å‚¨äº‹ä»¶æ•°æ®è€Œä¸å­˜å‚¨ç±»å‹ã€‚ä½ å¿…é¡»çŸ¥é“äº‹ä»¶çš„ç±»å‹ï¼ŒåŒ…æ‹¬å“ªä¸ªå‚æ•°è¢«ç´¢å¼•ï¼Œä»¥åŠè¯¥äº‹ä»¶æ˜¯å¦æ˜¯åŒ¿åçš„ï¼Œä»¥ä¾¿æ­£ç¡®è§£é‡Šæ•°æ®ã€‚å°¤å…¶æ˜¯ï¼Œæœ‰å¯èƒ½ä½¿ç”¨ä¸€ä¸ªåŒ¿åäº‹ä»¶æ¥"ä¼ªé€ "å¦ä¸€ä¸ªäº‹ä»¶çš„ç­¾åã€‚')]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("pragma solidity  >=0.4.21 <0.9.0;\n\ncontract ClientReceipt {\n    event Deposit(\n        address indexed from,\n        bytes32 indexed id,\n        uint value\n    );\n\n    function deposit(bytes32 id) public payable {\n        // äº‹ä»¶ä½¿ç”¨ emit è§¦å‘äº‹ä»¶ã€‚\n        // æˆ‘ä»¬å¯ä»¥è¿‡æ»¤å¯¹ `Deposit` çš„è°ƒç”¨ï¼Œä»è€Œç”¨ Javascript API æ¥æŸ¥æ˜å¯¹è¿™ä¸ªå‡½æ•°çš„ä»»ä½•è°ƒç”¨ï¼ˆç”šè‡³æ˜¯æ·±åº¦åµŒå¥—è°ƒç”¨ï¼‰ã€‚\n        emit Deposit(msg.sender, id, msg.value);\n    }\n}\n")])])]),n("p",[t._v("ä½¿ç”¨ JavaScript API è°ƒç”¨äº‹ä»¶çš„ç”¨æ³•å¦‚ä¸‹ï¼š")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" abi "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* abi ç”±ç¼–è¯‘å™¨äº§ç”Ÿ */")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ClientReceipt "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" web3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("contract")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("abi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" clientReceipt "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ClientReceipt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("at")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x1234...xlb67"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* åœ°å€ */")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" depositEvent "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" clientReceipt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Deposit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›‘å¬å˜åŒ–")]),t._v("\ndepositEvent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»“æœåŒ…å« éç´¢å¼•å‚æ•° ä»¥åŠ ä¸»é¢˜ topic")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ–è€…é€šè¿‡ä¼ å…¥å›è°ƒå‡½æ•°ï¼Œç«‹å³å¼€å§‹å¬ç›‘")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" depositEvent "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" clientReceipt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Deposit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("ä¸Šé¢çš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼ˆæœ‰åˆ å‡ï¼‰ï¼š")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"returnValues"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x1111â€¦FFFFCCCC"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x50â€¦sd5adb20"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x420042"')]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"raw"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x7fâ€¦91385"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topics"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xfd4â€¦b4ead7"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x7fâ€¦1a91385"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"_5ï¸âƒ£-log-é‡è½½"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5ï¸âƒ£-log-é‡è½½"}},[t._v("#")]),t._v(" 5ï¸âƒ£ Log é‡è½½")]),t._v(" "),n("p",[t._v("Log å¯ä»¥åƒå‡½æ•°ä¸€æ ·é‡è½½")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Event {\n    event Log(address ads);\n    event Log(address indexed ads, string msg); // é‡è½½\n\n    function log1() external {\n        emit Log(msg.sender);\n    }\n\n    function log2() external {\n        emit Log(msg.sender, "Log111");\n    }\n}\n')])])]),n("h2",{attrs:{id:"ğŸ†—-å®æˆ˜-ä¼—ç­¹åˆçº¦"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ†—-å®æˆ˜-ä¼—ç­¹åˆçº¦"}},[t._v("#")]),t._v(" ğŸ†— å®æˆ˜: ä¼—ç­¹åˆçº¦")]),t._v(" "),n("h3",{attrs:{id:"åˆçº¦ä»£ç "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åˆçº¦ä»£ç "}},[t._v("#")]),t._v(" åˆçº¦ä»£ç ")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Croedfund {\n    /* ============ Type Declaration ============ */\n    // å‡ºèµ„äººè§’è‰²\n    // * ä»…éœ€è®°å½•åœ°å€/é‡‘é¢å³å¯\n    struct Donor {\n        address addr; //å‡ºèµ„äººåœ°å€\n        uint256 amount; //å‡ºèµ„äººé‡‘é¢\n    }\n\n    // å‹Ÿèµ„äººè§’è‰²\n    // * ç”¨äºè¡¨ç¤ºä¸€ä¸ªå‹Ÿèµ„é¡¹ç›®ï¼Œå…¶ä¸­åŒ…æ‹¬å‹Ÿèµ„äººåœ°å€ã€ç›®æ ‡é‡‘é¢ã€\n    // å·²ç­¹é›†é‡‘é¢ã€æèµ è€…äººæ•°ã€é¡¹ç›®çŠ¶æ€ä»¥åŠæ‰€æœ‰çš„å‡ºèµ„äººã€‚\n    struct Donee {\n        address creator; // å‹Ÿèµ„äººåœ°å€\n        uint256 goal; // ä¼—ç­¹ç›®æ ‡æ•°é‡\n        uint32 startAt; // å¼€å§‹æ—¶é—´\n        uint32 endAt; // ç»“æŸæ—¶é—´\n        bool claimed; // æ˜¯å¦è¢«é¢†å–\n        uint256 amount; // å·²ç­¹é›†é‡‘é¢\n        uint256 donorCount; // * æèµ è€…äººæ•°\n        mapping(uint256 => Donor) donorMap; // * å‡ºèµ„äººå­—å…¸\n    }\n\n    /* ============ State Variables ============ */\n    address payable owner; //åˆçº¦æ‹¥æœ‰è€…\n    uint256 public doneeCount; // å‹Ÿèµ„äººæ•°é‡\n    mapping(uint256 => Donee) public doneeMap; //å‹Ÿèµ„äººå­—å…¸\n\n    /* ============ Events ============ */\n    event Launch(\n        uint256 id,\n        address indexed creator,\n        uint256 goal,\n        uint32 startAt,\n        uint32 endAt\n    );\n    event Cancel(uint256 id);\n    event Donate(uint256 indexed id, address indexed caller, uint256 amount);\n    event Unpledge(uint256 indexed id, address indexed caller, uint256 amount);\n    event Claim(uint256 id, address creator, uint256 amount);\n    event Refund(uint256 indexed id, address indexed caller, uint256 amount);\n\n    /* ============ Modifier ============ */\n    modifier onlyOwner() {\n        require(msg.sender == owner, "only owner");\n        _;\n    }\n    // éªŒè¯å‹Ÿææ´»åŠ¨IDæ˜¯å¦æœ‰æ•ˆ\n    modifier validDonee(uint256 doneeID) {\n        require(doneeID > 0 && doneeID <= doneeCount);\n        _;\n    }\n\n    /* ============ Errors ============ */\n    error MyError(string);\n\n    /* ============ Constructor ============ */\n    constructor() {\n        owner = payable(msg.sender);\n    }\n\n    /* ============ Functions ============ */\n    // å¯åŠ¨æ–°ä¼—ç­¹\n    function launch(\n        address _addr,\n        uint256 _goal,\n        uint32 _startAt,\n        uint32 _endAt\n    ) external onlyOwner {\n        require(_startAt >= block.timestamp, "start at < now");\n        require(_startAt <= _endAt, "start at > end at");\n        require(_endAt <= block.timestamp + 30 days, "end at > max duration");\n\n        doneeCount++;\n\n        Donee storage donee = doneeMap[doneeCount];\n        donee.creator = _addr;\n        donee.goal = _goal;\n        donee.startAt = _startAt;\n        donee.endAt = _endAt;\n        emit Launch(doneeCount, msg.sender, _goal, _startAt, _endAt);\n    }\n\n    // å–æ¶ˆæŒ‡å®šIDçš„ä¼—ç­¹\n    function cancel(uint256 _id) external onlyOwner {\n        // ä¸éœ€è¦ä¿®æ”¹ï¼Œéœ€ç”¨ memeory ,ä½†æ˜¯åŒ…å«mappingç±»å‹ï¼Œæ‰€ä»¥éœ€è¦ç”¨ storage\n        Donee storage campaign = doneeMap[_id];\n        require(block.timestamp < campaign.startAt, "started"); // å¿…é¡»è¿˜æ²¡æœ‰å¼€å§‹\n        delete doneeMap[_id];\n        emit Cancel(_id);\n    }\n\n    // å‡ºèµ„äººæèµ \n    function donate(uint256 _id) external payable validDonee(_id) {\n        Donee storage donee = doneeMap[_id]; // éœ€è¦ä¿®æ”¹ï¼Œæ‰€ä»¥ä½¿ç”¨ storage\n        require(block.timestamp >= donee.startAt, "not start"); //\n        require(block.timestamp <= donee.endAt, "ended"); //\n\n        donee.donorCount++;\n        donee.amount += msg.value;\n\n        Donor storage donor = donee.donorMap[donee.donorCount];\n        donor.addr = msg.sender;\n        donor.amount = msg.value;\n\n        emit Donate(_id, msg.sender, msg.value);\n    }\n\n    // å®Œæˆç›®æ ‡ç»™å‹Ÿèµ„äººè½¬è´¦\n    function transfer(uint256 doneeID) public onlyOwner validDonee(doneeID) {\n        Donee storage donee = doneeMap[doneeID];\n\n        require(!donee.claimed, "is claimed");\n        require(block.timestamp >= donee.endAt, "not ended");\n        require(donee.amount >= donee.goal, "amount < goal");\n\n        // è®¾ç½®å·²ç»æ”¯ä»˜çš„çŠ¶æ€\n        donee.claimed = true;\n\n        // ç»™å‹Ÿèµ„äººè½¬è´¦\n        payable(donee.creator).transfer(donee.goal);\n        emit Claim(doneeID, msg.sender, donee.amount);\n    }\n\n    /* ============ Helper ============ */\n    fallback() external {}\n\n    receive() external payable {}\n\n    // è·å–å½“å‰åˆçº¦çš„ä½™é¢\n    function getBalance() public view returns (uint256) {\n        return address(this).balance;\n    }\n\n    // åˆçº¦çš„ä½™é¢è½¬è´¦åˆ°æ‹¥æœ‰è€…\n    function withdraw(uint256 doneeID) public onlyOwner {\n        Donee storage donee = doneeMap[doneeID];\n        require(donee.claimed, "not claimed");\n        require(block.timestamp >= donee.endAt, "not ended");\n\n        payable(msg.sender).transfer(address(this).balance);\n    }\n\n    // è·å–é¡¹ç›®çŠ¶æ€\n    function getStatus(uint256 doneeID)\n        public\n        view\n        validDonee(doneeID)\n        returns (bool)\n    {\n        Donee storage donee = doneeMap[doneeID];\n        return (block.timestamp >= donee.startAt &&\n            block.timestamp <= donee.endAt);\n    }\n}\n')])])]),n("h3",{attrs:{id:"æµ‹è¯•åˆçº¦"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æµ‹è¯•åˆçº¦"}},[t._v("#")]),t._v(" æµ‹è¯•åˆçº¦")]),t._v(" "),n("ul",[n("li",[t._v("address1 launch ä¸€æ¬¡æ´»åŠ¨\n"),n("ul",[n("li",[t._v("goal ä¸º 10")]),t._v(" "),n("li",[t._v("æ—¶é—´æˆ³è·å–: "),n("a",{attrs:{href:"https://tool.chinaz.com/tools/unixtime.aspx",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://tool.chinaz.com/tools/unixtime.aspx"),n("OutboundLink")],1)])])]),t._v(" "),n("li",[t._v("doneeMap æŸ¥è¯¢ id 1 ä¿¡æ¯")]),t._v(" "),n("li",[t._v("getStatus æŸ¥è¯¢ id 1 æ˜¯å¦å¼€å§‹")]),t._v(" "),n("li",[t._v("address2 donate 6")]),t._v(" "),n("li",[t._v("address3 donate 7")]),t._v(" "),n("li",[t._v("doneeMap æŸ¥è¯¢ id 1 ä¿¡æ¯")])])])}),[],!1,null,null,null);n.default=e.exports}}]);