(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{439:function(e,t,n){"use strict";n.r(t);var a=n(2),s=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_02-æ•°æ®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_02-æ•°æ®"}},[e._v("#")]),e._v(" 02.æ•°æ®")]),e._v(" "),t("p",[e._v("æ•°æ®æ˜¯ä»»ä½•ç¼–ç¨‹è¯­è¨€çš„ç”Ÿäº§ç”Ÿæ´»èµ„æ–™ï¼Œç¦»å¼€äº†æ•°æ®ï¼Œç¼–ç¨‹è¯­è¨€å°†ä¼šå˜å¾—æ¯«æ— æ„ä¹‰ã€‚ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸èƒ½æŠŠæ‰€æœ‰çš„æ•°æ®éƒ½ç§°ä¸ºä¸€ä¸ªæ•°æ®ï¼Œå°±å¥½åƒæˆ‘ä»¬ç°å®ç”Ÿæ´»ä¸­ä¼šåˆ†ä¸ºäººç±»ï¼ŒåŠ¨ç‰©ç±»ï¼Œæ¤ç‰©ç±»ç­‰ã€‚Solidity æ™ºèƒ½åˆçº¦çš„å«ä¹‰å°±æ˜¯ä¸€äº›åŠŸèƒ½å’Œæ•°æ®çš„é›†åˆï¼Œå®ƒä»¬æ˜¯ä½äºä»¥å¤ªåŠåŒºå—é“¾çš„ç‰¹å®šåœ°å€ä¸Šã€‚")]),e._v(" "),t("p",[e._v("Solidity æä¾›äº†å‡ ç§åŸºæœ¬ç±»å‹ï¼Œå¹¶ä¸”åŸºæœ¬ç±»å‹å¯ä»¥ç”¨æ¥ç»„åˆå‡ºå¤æ‚ç±»å‹ã€‚")]),e._v(" "),t("p",[e._v("æœ¬ç« ç›®å½•")]),e._v(" "),t("ul",[t("li",[e._v("1ï¸âƒ£ æ•°æ®ä¸å˜é‡")]),e._v(" "),t("li",[e._v("2ï¸âƒ£ ä¸¤ç§ç±»å‹çš„æ•°æ®")]),e._v(" "),t("li",[e._v("3ï¸âƒ£ å€¼ç±»å‹")]),e._v(" "),t("li",[e._v("4ï¸âƒ£ å€¼ç±»å‹:åœ°å€ç±»å‹")]),e._v(" "),t("li",[e._v("5ï¸âƒ£ å€¼ç±»å‹:åˆçº¦ç±»å‹")]),e._v(" "),t("li",[e._v("6ï¸âƒ£ å¼•ç”¨ç±»å‹çš„é¢å¤–æ³¨è§£:æ•°æ®ä½ç½®")]),e._v(" "),t("li",[e._v("7ï¸âƒ£ å¼•ç”¨ç±»å‹")]),e._v(" "),t("li",[e._v("8ï¸âƒ£ ç±»å‹è½¬æ¢")]),e._v(" "),t("li",[e._v("9ï¸âƒ£ å­—é¢å¸¸é‡ä¸åŸºæœ¬ç±»å‹çš„è½¬æ¢")]),e._v(" "),t("li",[e._v("ğŸ†— å®æˆ˜ 1: åŒå¿—ä»¬å¥½å¢åŠ æç¤º")]),e._v(" "),t("li",[e._v("ğŸ†— å®æˆ˜ 2: ETH é’±åŒ…")]),e._v(" "),t("li",[e._v("ğŸ†— å®æˆ˜ 3: å¤šç­¾é’±åŒ…")]),e._v(" "),t("li",[e._v("#ï¸âƒ£ é—®ç­”é¢˜")])]),e._v(" "),t("h2",{attrs:{id:"_1ï¸âƒ£-æ•°æ®ä¸å˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ï¸âƒ£-æ•°æ®ä¸å˜é‡"}},[e._v("#")]),e._v(" 1ï¸âƒ£ æ•°æ®ä¸å˜é‡")]),e._v(" "),t("p",[e._v("æåˆ°æ•°æ®ï¼Œå°±ä¸å¯é¿å…çš„éœ€è¦ç‰µæ‰¯åˆ°å˜é‡ã€‚å˜é‡åæ˜¯æ•°æ®çš„åœ¨è®¡ç®—ä¸­çš„å¼•ç”¨ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("uint256 u = 123;\n")])])]),t("p",[e._v("å¦‚ä¸Šæ˜¯å°†"),t("code",[e._v("123")]),e._v("è¿™ä¸ª "),t("code",[e._v("uint8")]),e._v("ç±»å‹æ•°æ®ï¼Œèµ‹å€¼ç»™ "),t("code",[e._v("u")]),e._v(" è¿™ä¸ªåªèƒ½èµ‹å€¼"),t("code",[e._v("uint256")]),e._v("ç±»å‹æ•°æ®çš„å˜é‡åï¼ˆ"),t("code",[e._v("uint8")]),e._v(" å¯ä»¥éšå¼è½¬ä¸º"),t("code",[e._v("uint256")]),e._v("ï¼‰ã€‚åç»­æˆ‘ä»¬éœ€è¦ä½¿ç”¨"),t("code",[e._v("123")]),e._v("è¿™ä¸ªæ•°æ®æ—¶ï¼Œå†™ "),t("code",[e._v("u")]),e._v(" å°±å¯ä»¥ä»£è¡¨ã€‚")]),e._v(" "),t("p",[t("code",[e._v("uint256 u")]),e._v(" ä¸­çš„ "),t("code",[e._v("uint256")]),e._v("å…³é”®å­—ï¼Œé™åˆ¶äº† "),t("code",[e._v("u")]),e._v(" è¿™ä¸ªå˜é‡ååªèƒ½èµ‹å€¼"),t("code",[e._v("uint256")]),e._v("ç±»å‹æ•°æ®ï¼›åœ¨å…¶ä»–å¼±ç±»å‹è¯­è¨€ä¸­å¯èƒ½å­˜åœ¨å˜é‡ç±»å‹å–å†³äºæ•°æ®çš„æƒ…å†µã€‚ä½†æ˜¯ "),t("code",[e._v("Solidity")]),e._v(" ä¸­ä¸å­˜åœ¨è¿™ç§æƒ…å†µï¼Œåœ¨å˜é‡å£°æ˜æ—¶å¿…é¡»æŒ‡å®šå˜é‡ç±»å‹ã€‚"),t("strong",[e._v("Solidity æ˜¯ä¸€ç§é™æ€å¼ºç±»å‹çš„è¯­è¨€ï¼Œå¯¹äºå¸¸è§é”™è¯¯ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ç¼–è¯‘è¿…é€Ÿæ•æ‰åˆ°")]),e._v("ï¼Œä»»ä½•çš„ Solidity åˆçº¦éƒ½éœ€è¦"),t("strong",[e._v("ç¼–è¯‘")]),e._v("å’Œ"),t("strong",[e._v("éƒ¨ç½²")]),e._v("çš„é˜¶æ®µã€‚")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=13",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 1 èŠ‚: æ•°æ®ä¸å˜é‡")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=h5x4cZdthgE&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=13",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 1 èŠ‚: æ•°æ®ä¸å˜é‡")])])]),e._v(" "),t("h3",{attrs:{id:"_1-éšå¼è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-éšå¼è½¬æ¢"}},[e._v("#")]),e._v(" 1.éšå¼è½¬æ¢")]),e._v(" "),t("p",[e._v("å¦‚æœä¸Šé¢ "),t("code",[e._v("uint256 u = 123;")]),e._v(" æ”¹ä¸º "),t("code",[e._v('uint256 u = "Hello";')]),e._v("ï¼Œå°†ä¼šæ”¶åˆ°é”™è¯¯ "),t("code",[e._v('Type literal_string "Hello" is not implicitly convertible to expected type uint256.')]),e._v("ï¼Œå› ä¸ºè¿™ä¸¤ç§ç±»å‹ä¸èƒ½éšå¼è½¬æ¢çš„ï¼›")]),e._v(" "),t("p",[e._v("å¦‚æœä¸Šé¢ "),t("code",[e._v("uint256 u = 123;")]),e._v(" æ”¹ä¸º "),t("code",[e._v("uint256 u = uint8(123);")]),e._v("ï¼Œå°±ä¸ä¼šæœ‰é—®é¢˜ï¼Œå› ä¸º"),t("code",[e._v("uint8")]),e._v("ç±»å‹å¯ä»¥éšå¼è½¬æ¢ä¸º"),t("code",[e._v("uint256")]),e._v("ç±»å‹ã€‚åé¢ä»‹ç»ç±»å‹è½¬æ¢çš„æ—¶å€™ä¼šè¯¦ç»†çš„ä»‹ç»ã€‚")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("æ€»ç»“:")]),e._v(" "),t("ol",[t("li",[e._v("Solidity æ˜¯ä¸€ç§é™æ€å¼ºç±»å‹çš„è¯­è¨€ã€‚")]),e._v(" "),t("li",[e._v("å˜é‡ç±»å‹å’Œéœ€è¦èµ‹å€¼çš„æ•°æ®ç±»å‹å¿…é¡»å¿…é…ï¼Œæˆ–è€…æ‰€èµ‹å€¼çš„æ•°æ®å¯ä»¥éšå¼è½¬æ¢ä¸ºå˜é‡ç±»å‹ã€‚")])])])]),e._v(" "),t("h2",{attrs:{id:"_2ï¸âƒ£-ä¸¤ç§ç±»å‹çš„æ•°æ®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ï¸âƒ£-ä¸¤ç§ç±»å‹çš„æ•°æ®"}},[e._v("#")]),e._v(" 2ï¸âƒ£ ä¸¤ç§ç±»å‹çš„æ•°æ®")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-2"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=14",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 2 èŠ‚: ä¸¤ç§ç±»å‹çš„æ•°æ®")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=JKiT4L0QveI&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=14",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 1 èŠ‚: ä¸¤ç§ç±»å‹çš„æ•°æ®")])])]),e._v(" "),t("h3",{attrs:{id:"å†…å®¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å†…å®¹"}},[e._v("#")]),e._v(" å†…å®¹")]),e._v(" "),t("p",[e._v("Solidity æŒ‰ç…§æ•°æ®ç±»å‹å¯ä»¥åˆ†ä¸º"),t("strong",[e._v("å€¼ç±»å‹")]),e._v("å’Œ"),t("strong",[e._v("å¼•ç”¨ç±»å‹")]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    uint256 public u = 123; // æ— å˜åŒ–\n    string public welcome1 = "Hello";\n    string public welcome2 = "Hello";\n\n    function test() external returns(uint256,string memory,string memory){\n        // ä¿®æ”¹å€¼ç±»å‹\n        uint256 x = u; // èµ‹å€¼\n        x = 1; // ä¿®æ”¹\n\n        // ä¿®æ”¹å¼•ç”¨ç±»å‹\n        string storage hi1 =  welcome1; // èµ‹å€¼\n        bytes(hi1)[0] = bytes1("2");\n\n        string memory hi2 =  welcome2; // èµ‹å€¼\n        bytes(hi2)[0] = bytes1("2");\n\n        // è¿”å›å€¼\n        return(x,hi1,hi2);\n    }\n}\n')])])]),t("ul",[t("li",[e._v("å€¼ç±»å‹: å€¼ç±»å‹ä¼ å€¼æ—¶ä¼šå°†å€¼æ‹·è´ä¸€ä»½ï¼Œä¼ é€’çš„æ˜¯å€¼æœ¬èº«ï¼Œå¯¹å…¶ä¿®æ”¹æ—¶å¹¶ä¸ä¼šå¯¹åŸæ¥å€¼æœ‰å½±å“ã€‚\n"),t("ul",[t("li",[e._v("å§‹ç»ˆæŒ‰å€¼æ¥ä¼ é€’ï¼Œå½“è¢«ç”¨ä½œå‡½æ•°å‚æ•°æˆ–è€…ç”¨åœ¨èµ‹å€¼è¯­å¥ä¸­æ—¶ï¼Œæ€»ä¼šè¿›è¡Œå€¼æ‹·è´ã€‚")]),e._v(" "),t("li",[e._v("å€¼ç±»å‹é‡Œæœ‰ä¸¤ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ç±»å‹æ˜¯å‡½æ•°å’Œåœ°å€ï¼ˆåŒ…æ‹¬åˆçº¦ï¼‰ï¼Œä¼šåˆ†ä¸ºå•ç‹¬çš„éƒ¨åˆ†ä»‹ç»ã€‚")])])]),e._v(" "),t("li",[e._v("å¼•ç”¨ç±»å‹: å¼•ç”¨ç±»å‹è¿›è¡Œä¼ é€’æ—¶ï¼Œä¼ é€’çš„æ˜¯å…¶æŒ‡é’ˆï¼Œè€Œå¼•ç”¨ç±»å‹è¿›è¡Œä¼ é€’æ—¶"),t("strong",[e._v("å¯ä»¥ä¸ºå€¼ä¼ é€’")]),e._v("ï¼Œ"),t("strong",[e._v("ä¹Ÿå¯ä»¥ä¸ºå¼•ç”¨ä¼ é€’")]),e._v("ã€‚")])]),e._v(" "),t("h2",{attrs:{id:"_3ï¸âƒ£-å€¼ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ï¸âƒ£-å€¼ç±»å‹"}},[e._v("#")]),e._v(" 3ï¸âƒ£ å€¼ç±»å‹")]),e._v(" "),t("ol",[t("li",[e._v("Boolean")]),e._v(" "),t("li",[e._v("Integer\n"),t("ol",[t("li",[e._v("uint")]),e._v(" "),t("li",[e._v("int")])])]),e._v(" "),t("li",[e._v("å®šé•¿å­—èŠ‚æ•°ç»„ï¼ˆå›ºå®šå¤§å°å­—èŠ‚æ•°ç»„ï¼‰\n"),t("ol",[t("li",[t("code",[e._v("bytes1")]),e._v(" - "),t("code",[e._v("bytes32")])])])]),e._v(" "),t("li",[e._v("Enum:æšä¸¾")]),e._v(" "),t("li",[e._v("åœ°å€ï¼ˆAddressï¼‰")]),e._v(" "),t("li",[e._v("åˆçº¦ç±»å‹")]),e._v(" "),t("li",[e._v("å‡½æ•°ï¼ˆFunction Typesï¼‰\n"),t("ol",[t("li",[e._v("æ¯”è¾ƒç‰¹æ®Šï¼Œå•ç‹¬å¼€äº†ä¸€ç« è¯´æ˜")])])])]),e._v(" "),t("h3",{attrs:{id:"_1-boolean-å¸ƒå°”ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-boolean-å¸ƒå°”ç±»å‹"}},[e._v("#")]),e._v(" 1.Boolean å¸ƒå°”ç±»å‹")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-3"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=15",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: Boolean å¸ƒå°”ç±»å‹")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=yZzxfnmH-Yw&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=15",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: Boolean å¸ƒå°”ç±»å‹")])])]),e._v(" "),t("p",[e._v("å¸ƒå°”å‹ä½¿ç”¨ "),t("code",[e._v("bool")]),e._v("è¡¨ç¤ºï¼Œè¯¥ç±»å‹åªæœ‰ä¸¤ä¸ªå€¼ï¼Œåˆ†åˆ«æ˜¯ "),t("code",[e._v("true")]),e._v("/"),t("code",[e._v("false")]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo1 {\n    bool public t = true;\n    bool public f = false;\n}\n")])])]),t("p",[e._v("å¸ƒå°”å€¼é™¤äº†èµ‹å€¼å¾—åˆ°å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡"),t("strong",[e._v("è¿ç®—ç¬¦")]),e._v("çš„è®¡ç®—ç»“æœå¾—åˆ°ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“µ-æ”¯æŒçš„è¿ç®—ç¬¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-æ”¯æŒçš„è¿ç®—ç¬¦"}},[e._v("#")]),e._v(" â“µ æ”¯æŒçš„è¿ç®—ç¬¦")]),e._v(" "),t("ul",[t("li",[e._v("åŒ…æ‹¬ï¼š"),t("code",[e._v("!")]),e._v("é€»è¾‘éï¼Œ")]),e._v(" "),t("li",[t("code",[e._v("==")]),e._v("ç­‰äºï¼Œ"),t("code",[e._v("!=")]),e._v(" ä¸ç­‰äº;")]),e._v(" "),t("li",[t("code",[e._v("&&")]),e._v("é€»è¾‘ä¸ï¼Œ"),t("code",[e._v("||")]),e._v("é€»è¾‘æˆ–ï¼Œ\n"),t("ul",[t("li",[t("code",[e._v("&&")]),e._v("ï¼Œ"),t("code",[e._v("||")]),e._v(" ä¸ºçŸ­è·¯è¿ç®—ç¬¦ã€‚")])])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo2 {\n    bool public a = false;\n    bool public b = !a; // ä»…ç”¨äºå¸ƒå°”å€¼\n    bool public c = a == b;\n    bool public d = a != b;\n    bool public e = a && b;\n    bool public f = a || b;\n}\n")])])]),t("p",[e._v("è¿ç®—ç¬¦ "),t("code",[e._v("||")]),e._v(" å’Œ "),t("code",[e._v("&&")]),e._v(" éƒ½éµå¾ªåŒæ ·çš„çŸ­è·¯ï¼ˆ short-circuiting ï¼‰è§„åˆ™ã€‚å°±æ˜¯è¯´åœ¨è¡¨è¾¾å¼ "),t("code",[e._v("f(x) || g(y)")]),e._v(" ä¸­ï¼Œ å¦‚æœ "),t("code",[e._v("f(x)")]),e._v(" çš„å€¼ä¸º true ï¼Œé‚£ä¹ˆ "),t("code",[e._v("g(y)")]),e._v(" å°±ä¸ä¼šè¢«æ‰§è¡Œï¼Œ")]),e._v(" "),t("h4",{attrs:{id:"â“¶-ä½¿ç”¨çŸ­è·¯è§„åˆ™èŠ‚çœ-gas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-ä½¿ç”¨çŸ­è·¯è§„åˆ™èŠ‚çœ-gas"}},[e._v("#")]),e._v(" â“¶ ä½¿ç”¨çŸ­è·¯è§„åˆ™èŠ‚çœ gas")]),e._v(" "),t("p",[e._v("å€ŸåŠ©çŸ­è·¯è§„åˆ™ï¼Œå¯ä»¥è®©åˆçº¦å°‘æ‰§è¡Œä¸€äº›é€»è¾‘ã€‚")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("||")]),e._v(" å¦‚æœç¬¬ä¸€ä¸ªè¡¨è¾¾å¼æ˜¯"),t("code",[e._v("true")]),e._v("ï¼Œåˆ™ç¬¬äºŒä¸ªè¡¨è¾¾å¼ä¸å†æ‰§è¡Œã€‚ï¼ˆå› ä¸ºä¸¤ä¸ªè¡¨è¾¾å¼æœ‰ä¸€ä¸ªä¸º trueï¼Œç»“æœå°±ä¸º trueï¼Œä¸éœ€è¦è®¡ç®—ç¬¬äºŒä¸ªè¡¨è¾¾å¼å°±çŸ¥é“ç»“æœäº†ï¼‰")]),e._v(" "),t("li",[t("code",[e._v("&&")]),e._v(" å¦‚æœç¬¬ä¸€ä¸ªè¡¨è¾¾å¼æ˜¯"),t("code",[e._v("false")]),e._v("ï¼Œåˆ™ç¬¬äºŒä¸ªè¡¨è¾¾å¼ä¸å†æ‰§è¡Œã€‚ï¼ˆä¸¤ä¸ªè¡¨è¾¾å¼å¿…é¡»éƒ½ä¸º trueï¼Œç»“æœæ‰èƒ½ trueï¼Œå¦‚æœç¬¬ä¸€ä¸ªä¸º falseï¼Œä¸éœ€è¦è®¡ç®—ç¬¬äºŒä¸ªè¡¨è¾¾å¼å°±çŸ¥é“ç»“æœäº†ï¼‰")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.16;\n\ncontract Demo3 {\n    // 21488 gas\n    function testA1() external pure returns (bool) {\n        uint256 a = 100 - 99;\n        uint256 b = 100 - 1;\n        if (a > 50 || b < 50) {\n            return true;\n        }\n        return false;\n    }\n\n    // 21440 gas\n    function testA2() external pure returns (bool) {\n        if ((100 - 99) > 50 || (100 - 10) < 50) {\n            return true;\n        }\n        return false;\n    }\n}\n")])])]),t("p",[t("span",{staticStyle:{color:"red"}},[e._v("æœ¬ç« ä¸»è¦ä»‹ç»æ•°æ®ç±»å‹ï¼Œåç»­ä»‹ç»æ•°æ®ç±»å‹çš„æ—¶ä¸å†ä»‹ç»æ“ä½œç¬¦ï¼Œä¼šä¸“é—¨æœ‰ä¸€ç« æ¥æ€»ç»“æ“ä½œç¬¦ã€‚")])]),e._v(" "),t("h3",{attrs:{id:"_2-integer-æ•´æ•°ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-integer-æ•´æ•°ç±»å‹"}},[e._v("#")]),e._v(" 2.Integer æ•´æ•°ç±»å‹")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-4"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=16",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: Integer æ•´æ•°ç±»å‹")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=_VpKWN_NdnU&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=16",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: Integer æ•´æ•°ç±»å‹")])])]),e._v(" "),t("p",[e._v("æ•´æ•°ç±»å‹åˆ†ä¸ºæœ‰ç¬¦å·æ•´å‹ï¼Œç”¨ int æ ‡ç¤ºï¼›å’Œæ— ç¬¦å·æ•´å‹ï¼Œç”¨ uint æ ‡ç¤ºï¼›")]),e._v(" "),t("p",[t("strong",[e._v("int å’Œ uint")]),e._v(":")]),e._v(" "),t("table",{staticClass:"docutils",attrs:{border:"1"}},[t("thead",[t("tr",[t("th",[e._v("ç±»å‹")]),e._v(" "),t("th",[e._v("ç¬¦å·å")]),e._v(" "),t("th",[e._v("å–å€¼")])])]),e._v(" "),t("tbody",[t("tr",[t("td",{attrs:{rowspan:"4"}},[e._v("æ•´å‹")]),e._v(" "),t("td",[e._v("int8 to int256")]),e._v(" "),t("td",[e._v("8 ä½åˆ° 256 ä½çš„å¸¦ç¬¦å·æ•´å‹æ•°ã€‚")])]),e._v(" "),t("tr",[t("td",[e._v("uint8 to uint256")]),e._v(" "),t("td",[e._v("8 ä½åˆ° 256 ä½çš„æ— ç¬¦å·æ•´å‹ã€‚")])]),e._v(" "),t("tr",[t("td",[e._v("int")]),e._v(" "),t("td",[e._v("æœ‰ç¬¦å·æ•´æ•°ï¼Œint ä¸  int256 ç›¸åŒã€‚")])]),e._v(" "),t("tr",[t("td",[e._v("uint")]),e._v(" "),t("td",[e._v("æ— ç¬¦å·æ•´æ•°ï¼Œuint å’Œ uint256 æ˜¯ä¸€æ ·çš„ã€‚")])]),e._v(" "),t("tr",[t("td",{attrs:{rowspan:"4"}},[e._v("å®šé•¿æµ®ç‚¹å‹")]),e._v(" "),t("td",[e._v("fixed")]),e._v(" "),t("td",[e._v("æœ‰ç¬¦å·çš„å®šé•¿æµ®ç‚¹å‹")])]),e._v(" "),t("tr",[t("td",[e._v("unfixed")]),e._v(" "),t("td",[e._v("æ— ç¬¦å·çš„å®šé•¿æµ®ç‚¹å‹")])]),e._v(" "),t("tr")])]),e._v(" "),t("ul",[t("li",[e._v("int æ˜¯æœ‰ç¬¦å·æ•´å‹ï¼Œæ”¯æŒ int8 åˆ° int256ã€‚")]),e._v(" "),t("li",[e._v("uint æ˜¯æ— ç¬¦å·æ•´å‹ï¼Œæ”¯æŒä» uint8 åˆ° uint256ã€‚")]),e._v(" "),t("li",[t("code",[e._v("uint")]),e._v(" å’Œ "),t("code",[e._v("int")]),e._v(" åˆ†åˆ«æ˜¯ "),t("code",[e._v("uint256")]),e._v(" å’Œ "),t("code",[e._v("int256")]),e._v(" çš„åˆ«åã€‚")])]),e._v(" "),t("h4",{attrs:{id:"â“µ-å±æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-å±æ€§"}},[e._v("#")]),e._v(" â“µ å±æ€§")]),e._v(" "),t("p",[e._v("å¯¹äºæ•´å‹ T æœ‰ä¸‹é¢çš„å…¨å±€å±æ€§å¯è®¿é—®ï¼š")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("type(T).min")]),e._v(" "),t("ul",[t("li",[e._v("è·å–æ•´å‹ T çš„æœ€å°å€¼ã€‚")])])]),e._v(" "),t("li",[t("code",[e._v("type(T).max")]),e._v(" "),t("ul",[t("li",[e._v("è·å–æ•´å‹ T çš„æœ€å¤§å€¼ã€‚")])])])]),e._v(" "),t("h4",{attrs:{id:"â“¶-uint-ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-uint-ç±»å‹"}},[e._v("#")]),e._v(" â“¶ uint ç±»å‹")]),e._v(" "),t("p",[e._v("uint æ— ç¬¦å·æ•´æ•°ï¼Œåªèƒ½è¡¨ç¤ºéè´Ÿæ•°ï¼›"),t("code",[e._v("åŒ…æ‹¬æ•°å­—0")]),e._v("ï¼›å…¶ä¸­ uint256 ä¸ uint ç›¸åŒï¼Œæ¨èä½¿ç”¨ uint256ï¼›æ”¯æŒ int8 åˆ° int256ï¼Œåé¢çš„æ•°å­—æ˜¯ 8 çš„å€æ•°ã€‚")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("uint8")]),e._v(": æœ€å°å€¼æ˜¯ 0ï¼Œæœ€å¤§å€¼æ˜¯ "),t("code",[e._v("2**8-1")])]),e._v(" "),t("li",[t("code",[e._v("uint256")]),e._v(":æœ€å°å€¼æ˜¯ 0ï¼Œæœ€å¤§å€¼æ˜¯ "),t("code",[e._v("2**256-1")])]),e._v(" "),t("li",[e._v("å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("type(uint8).max")]),e._v(" è·å–è¯¥ç±»å‹çš„æœ€å¤§å€¼")]),e._v(" "),t("li",[e._v("å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("type(uint8).min")]),e._v(" è·å–è¯¥ç±»å‹çš„æœ€å°å€¼")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Data {\n    // uint\n    uint256 public u1 = 123;\n    uint8 public u8Max = type(uint8).max; // 255 => (2**8-1)\n    uint8 public u8Min = type(uint8).min; // 0\n\n    // 115792089237316195423570985008687907853269984665640564039457584007913129639935\n    uint256 public u256Max = type(uint256).max;\n    uint256 public u256Min = type(uint256).min; // 0\n}\n")])])]),t("p",[t("strong",[e._v("é€šè¿‡ä»£ç è·å–æ‰€æœ‰ "),t("code",[e._v("uint")]),e._v(" ç±»å‹å’Œå–å€¼èŒƒå›´")])]),e._v(" "),t("p",[e._v("é€šè¿‡åˆçº¦è·å–å…·ä½“çš„æœ€å¤§å€¼èŒƒå›´ï¼Œæœ€å°å€¼ç±»ä¼¼ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Data {\n    // uint\n    uint8 public u008Max = type(uint8).max;\n    uint16 public u016Max = type(uint16).max;\n    uint24 public u024Max = type(uint24).max;\n    uint32 public u032Max = type(uint32).max;\n    uint40 public u040Max = type(uint40).max;\n    uint48 public u048Max = type(uint48).max;\n    uint56 public u056Max = type(uint56).max;\n    uint64 public u064Max = type(uint64).max;\n    uint72 public u072Max = type(uint72).max;\n    uint80 public u080Max = type(uint80).max;\n    uint88 public u088Max = type(uint88).max;\n    uint96 public u096Max = type(uint96).max;\n    uint104 public u104Max = type(uint104).max;\n    uint112 public u112Max = type(uint112).max;\n    uint120 public u120Max = type(uint120).max;\n    uint128 public u128Max = type(uint128).max;\n    uint136 public u136Max = type(uint136).max;\n    uint144 public u144Max = type(uint144).max;\n    uint152 public u152Max = type(uint152).max;\n    uint160 public u160Max = type(uint160).max;\n    uint168 public u168Max = type(uint168).max;\n    uint176 public u176Max = type(uint176).max;\n    uint184 public u184Max = type(uint184).max;\n    uint192 public u192Max = type(uint192).max;\n    uint200 public u200Max = type(uint200).max;\n    uint208 public u208Max = type(uint208).max;\n    uint216 public u216Max = type(uint216).max;\n    uint224 public u224Max = type(uint224).max;\n    uint232 public u232Max = type(uint232).max;\n    uint240 public u240Max = type(uint240).max;\n    uint248 public u248Max = type(uint248).max;\n    uint256 public u256Max = type(uint256).max;\n}\n")])])]),t("p",[e._v("æ‰€æœ‰ uint ç»“æœå¦‚ä¸‹ï¼š")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("uintN")]),e._v(" "),t("th",[e._v("å°")]),e._v(" "),t("th",[e._v("æœ€å¤§å€¼")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("uint8")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("255")])]),e._v(" "),t("tr",[t("td",[e._v("uint16")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("65535")])]),e._v(" "),t("tr",[t("td",[e._v("uint24")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("16777215")])]),e._v(" "),t("tr",[t("td",[e._v("uint32")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("4294967295")])]),e._v(" "),t("tr",[t("td",[e._v("uint40")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("1099511627775")])]),e._v(" "),t("tr",[t("td",[e._v("uint48")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("281474976710655")])]),e._v(" "),t("tr",[t("td",[e._v("uint56")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("72057594037927935")])]),e._v(" "),t("tr",[t("td",[e._v("uint64")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("18446744073709551615")])]),e._v(" "),t("tr",[t("td",[e._v("uint72")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("4722366482869645213695")])]),e._v(" "),t("tr",[t("td",[e._v("uint80")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("1208925819614629174706175")])]),e._v(" "),t("tr",[t("td",[e._v("uint88")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("309485009821345068724781055")])]),e._v(" "),t("tr",[t("td",[e._v("uint96")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("79228162514264337593543950335")])]),e._v(" "),t("tr",[t("td",[e._v("uint104")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("20282409603651670423947251286015")])]),e._v(" "),t("tr",[t("td",[e._v("uint112")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("5192296858534827628530496329220095")])]),e._v(" "),t("tr",[t("td",[e._v("uint120")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("1329227995784915872903807060280344575")])]),e._v(" "),t("tr",[t("td",[e._v("uint128")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("340282366920938463463374607431768211455")])]),e._v(" "),t("tr",[t("td",[e._v("uint136")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("87112285931760246646623899502532662132735")])]),e._v(" "),t("tr",[t("td",[e._v("uint144")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("22300745198530623141535718272648361505980415")])]),e._v(" "),t("tr",[t("td",[e._v("uint152")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("5708990770823839524233143877797980545530986495")])]),e._v(" "),t("tr",[t("td",[e._v("uint160")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("1461501637330902918203684832716283019655932542975")])]),e._v(" "),t("tr",[t("td",[e._v("uint168")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("374144419156711147060143317175368453031918731001855")])]),e._v(" "),t("tr",[t("td",[e._v("uint176")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("95780971304118053647396689196894323976171195136475135")])]),e._v(" "),t("tr",[t("td",[e._v("uint184")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("24519928653854221733733552434404946937899825954937634815")])]),e._v(" "),t("tr",[t("td",[e._v("uint192")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("6277101735386680763835789423207666416102355444464034512895")])]),e._v(" "),t("tr",[t("td",[e._v("uint200")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("1606938044258990275541962092341162602522202993782792835301375")])]),e._v(" "),t("tr",[t("td",[e._v("uint208")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("411376139330301510538742295639337626245683966408394965837152255")])]),e._v(" "),t("tr",[t("td",[e._v("uint216")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("105312291668557186697918027683670432318895095400549111254310977535")])]),e._v(" "),t("tr",[t("td",[e._v("uint224")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("26959946667150639794667015087019630673637144422540572481103610249215")])]),e._v(" "),t("tr",[t("td",[e._v("uint232")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("6901746346790563787434755862277025452451108972170386555162524223799295")])]),e._v(" "),t("tr",[t("td",[e._v("uint240")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("1766847064778384329583297500742918515827483896875618958121606201292619775")])]),e._v(" "),t("tr",[t("td",[e._v("uint248")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("452312848583266388373324160190187140051835877600158453279131187530910662655")])]),e._v(" "),t("tr",[t("td",[e._v("uint256")]),e._v(" "),t("td",[e._v("0")]),e._v(" "),t("td",[e._v("115792089237316195423570985008687907853269984665640564039457584007913129639935")])])])]),e._v(" "),t("h4",{attrs:{id:"â“·-int-ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-int-ç±»å‹"}},[e._v("#")]),e._v(" â“· int ç±»å‹")]),e._v(" "),t("p",[e._v("int æ˜¯æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶ä¸­ int256 ä¸ int ç›¸åŒï¼Œæ¨èä½¿ç”¨ int256ï¼› 8 ä½åˆ° 256 ä½çš„å¸¦ç¬¦å·æ•´å‹æ•°ã€‚8 çš„å€æ•°ã€‚")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("int8")]),e._v(": æœ€å°å€¼æ˜¯ "),t("code",[e._v("-(2**8/2)")]),e._v("ï¼Œæœ€å¤§å€¼æ˜¯ "),t("code",[e._v("(2**8/2)-1")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("int8")]),e._v(": æœ€å°å€¼æ˜¯ "),t("code",[e._v("-128")]),e._v("ï¼Œæœ€å¤§å€¼æ˜¯ "),t("code",[e._v("127")])])])]),e._v(" "),t("li",[t("code",[e._v("int256")]),e._v(": æœ€å°å€¼æ˜¯ "),t("code",[e._v("-(2**256/2)")]),e._v("ï¼Œæœ€å¤§å€¼æ˜¯ "),t("code",[e._v("(2**256/2)-1")])]),e._v(" "),t("li",[e._v("å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("type(int8).max")]),e._v(" è·å–è¯¥ç±»å‹çš„æœ€å¤§å€¼")]),e._v(" "),t("li",[e._v("å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("type(int8).min")]),e._v(" è·å–è¯¥ç±»å‹çš„æœ€å°å€¼")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Data {\n    // int\n    int256 public i1 = 123;\n    int256 public i2 = -123;\n    int8 public i8Max = type(int8).max; // 127 => (2**8/2)-1\n    int8 public i8Min = type(int8).min; // -128  => - 2**8/2\n    //  57896044618658097711785492504343953926634992332820282019728792003956564819967\n    int256 public i256Max = type(int256).max;\n    // -57896044618658097711785492504343953926634992332820282019728792003956564819968\n    int256 public i256Min = type(int256).min;\n}\n")])])]),t("p",[t("strong",[e._v("è®¡ç®— int çš„æœ€å¤§å€¼å’Œæœ€å°å€¼")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Data {\n    int8 public i008Max = type(int8).max;\n    int16 public i016Max = type(int16).max;\n    int24 public i024Max = type(int24).max;\n    int32 public i032Max = type(int32).max;\n    int40 public i040Max = type(int40).max;\n    int48 public i048Max = type(int48).max;\n    int56 public i056Max = type(int56).max;\n    int64 public i064Max = type(int64).max;\n    int72 public i072Max = type(int72).max;\n    int80 public i080Max = type(int80).max;\n    int88 public i088Max = type(int88).max;\n    int96 public i096Max = type(int96).max;\n    int104 public i104Max = type(int104).max;\n    int112 public i112Max = type(int112).max;\n    int120 public i120Max = type(int120).max;\n    int128 public i128Max = type(int128).max;\n    int136 public i136Max = type(int136).max;\n    int144 public i144Max = type(int144).max;\n    int152 public i152Max = type(int152).max;\n    int160 public i160Max = type(int160).max;\n    int168 public i168Max = type(int168).max;\n    int176 public i176Max = type(int176).max;\n    int184 public i184Max = type(int184).max;\n    int192 public i192Max = type(int192).max;\n    int200 public i200Max = type(int200).max;\n    int208 public i208Max = type(int208).max;\n    int216 public i216Max = type(int216).max;\n    int224 public i224Max = type(int224).max;\n    int232 public i232Max = type(int232).max;\n    int240 public i240Max = type(int240).max;\n    int248 public i248Max = type(int248).max;\n    int256 public i256Max = type(int256).max;\n}\n")])])]),t("p",[e._v("æ‰€æœ‰ int ç»“æœå¦‚ä¸‹ï¼š")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("intN")]),e._v(" "),t("th",[e._v("æœ€å°å€¼")]),e._v(" "),t("th",[e._v("æœ€å¤§å€¼")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("int8")]),e._v(" "),t("td",[e._v("-128")]),e._v(" "),t("td",[e._v("127")])]),e._v(" "),t("tr",[t("td",[e._v("int16")]),e._v(" "),t("td",[e._v("-32768")]),e._v(" "),t("td",[e._v("32767")])]),e._v(" "),t("tr",[t("td",[e._v("int24")]),e._v(" "),t("td",[e._v("-8388608")]),e._v(" "),t("td",[e._v("8388607")])]),e._v(" "),t("tr",[t("td",[e._v("int32")]),e._v(" "),t("td",[e._v("-2147483648")]),e._v(" "),t("td",[e._v("2147483647")])]),e._v(" "),t("tr",[t("td",[e._v("int40")]),e._v(" "),t("td",[e._v("-549755813888")]),e._v(" "),t("td",[e._v("549755813887")])]),e._v(" "),t("tr",[t("td",[e._v("int48")]),e._v(" "),t("td",[e._v("-140737488355328")]),e._v(" "),t("td",[e._v("140737488355327")])]),e._v(" "),t("tr",[t("td",[e._v("int56")]),e._v(" "),t("td",[e._v("-36028797018963968")]),e._v(" "),t("td",[e._v("36028797018963967")])]),e._v(" "),t("tr",[t("td",[e._v("int64")]),e._v(" "),t("td",[e._v("-9223372036854775808")]),e._v(" "),t("td",[e._v("9223372036854775807")])]),e._v(" "),t("tr",[t("td",[e._v("int72")]),e._v(" "),t("td",[e._v("-2361183241434822606848")]),e._v(" "),t("td",[e._v("2361183241434822606847")])]),e._v(" "),t("tr",[t("td",[e._v("int80")]),e._v(" "),t("td",[e._v("-604462909807314587353088")]),e._v(" "),t("td",[e._v("604462909807314587353087")])]),e._v(" "),t("tr",[t("td",[e._v("int88")]),e._v(" "),t("td",[e._v("-154742504910672534362390528")]),e._v(" "),t("td",[e._v("154742504910672534362390527")])]),e._v(" "),t("tr",[t("td",[e._v("int96")]),e._v(" "),t("td",[e._v("-39614081257132168796771975168")]),e._v(" "),t("td",[e._v("39614081257132168796771975167")])]),e._v(" "),t("tr",[t("td",[e._v("int104")]),e._v(" "),t("td",[e._v("-10141204801825835211973625643008")]),e._v(" "),t("td",[e._v("10141204801825835211973625643007")])]),e._v(" "),t("tr",[t("td",[e._v("int112")]),e._v(" "),t("td",[e._v("-2596148429267413814265248164610048")]),e._v(" "),t("td",[e._v("2596148429267413814265248164610047")])]),e._v(" "),t("tr",[t("td",[e._v("int120")]),e._v(" "),t("td",[e._v("-664613997892457936451903530140172288")]),e._v(" "),t("td",[e._v("664613997892457936451903530140172287")])]),e._v(" "),t("tr",[t("td",[e._v("int128")]),e._v(" "),t("td",[e._v("-170141183460469231731687303715884105728")]),e._v(" "),t("td",[e._v("170141183460469231731687303715884105727")])]),e._v(" "),t("tr",[t("td",[e._v("int136")]),e._v(" "),t("td",[e._v("-43556142965880123323311949751266331066368")]),e._v(" "),t("td",[e._v("43556142965880123323311949751266331066367")])]),e._v(" "),t("tr",[t("td",[e._v("int144")]),e._v(" "),t("td",[e._v("-11150372599265311570767859136324180752990208")]),e._v(" "),t("td",[e._v("11150372599265311570767859136324180752990207")])]),e._v(" "),t("tr",[t("td",[e._v("int152")]),e._v(" "),t("td",[e._v("-2854495385411919762116571938898990272765493248")]),e._v(" "),t("td",[e._v("2854495385411919762116571938898990272765493247")])]),e._v(" "),t("tr",[t("td",[e._v("int160")]),e._v(" "),t("td",[e._v("-730750818665451459101842416358141509827966271488")]),e._v(" "),t("td",[e._v("730750818665451459101842416358141509827966271487")])]),e._v(" "),t("tr",[t("td",[e._v("int168")]),e._v(" "),t("td",[e._v("-187072209578355573530071658587684226515959365500928")]),e._v(" "),t("td",[e._v("187072209578355573530071658587684226515959365500927")])]),e._v(" "),t("tr",[t("td",[e._v("int176")]),e._v(" "),t("td",[e._v("-47890485652059026823698344598447161988085597568237568")]),e._v(" "),t("td",[e._v("47890485652059026823698344598447161988085597568237567")])]),e._v(" "),t("tr",[t("td",[e._v("int184")]),e._v(" "),t("td",[e._v("-12259964326927110866866776217202473468949912977468817408")]),e._v(" "),t("td",[e._v("12259964326927110866866776217202473468949912977468817407")])]),e._v(" "),t("tr",[t("td",[e._v("int192")]),e._v(" "),t("td",[e._v("-3138550867693340381917894711603833208051177722232017256448")]),e._v(" "),t("td",[e._v("3138550867693340381917894711603833208051177722232017256447")])]),e._v(" "),t("tr",[t("td",[e._v("int200")]),e._v(" "),t("td",[e._v("-803469022129495137770981046170581301261101496891396417650688")]),e._v(" "),t("td",[e._v("803469022129495137770981046170581301261101496891396417650687")])]),e._v(" "),t("tr",[t("td",[e._v("int208")]),e._v(" "),t("td",[e._v("-205688069665150755269371147819668813122841983204197482918576128")]),e._v(" "),t("td",[e._v("205688069665150755269371147819668813122841983204197482918576127")])]),e._v(" "),t("tr",[t("td",[e._v("int216")]),e._v(" "),t("td",[e._v("-52656145834278593348959013841835216159447547700274555627155488768")]),e._v(" "),t("td",[e._v("52656145834278593348959013841835216159447547700274555627155488767")])]),e._v(" "),t("tr",[t("td",[e._v("int224")]),e._v(" "),t("td",[e._v("-13479973333575319897333507543509815336818572211270286240551805124608")]),e._v(" "),t("td",[e._v("13479973333575319897333507543509815336818572211270286240551805124607")])]),e._v(" "),t("tr",[t("td",[e._v("int232")]),e._v(" "),t("td",[e._v("-3450873173395281893717377931138512726225554486085193277581262111899648")]),e._v(" "),t("td",[e._v("3450873173395281893717377931138512726225554486085193277581262111899647")])]),e._v(" "),t("tr",[t("td",[e._v("int240")]),e._v(" "),t("td",[e._v("-883423532389192164791648750371459257913741948437809479060803100646309888")]),e._v(" "),t("td",[e._v("883423532389192164791648750371459257913741948437809479060803100646309887")])]),e._v(" "),t("tr",[t("td",[e._v("int248")]),e._v(" "),t("td",[e._v("-226156424291633194186662080095093570025917938800079226639565593765455331328")]),e._v(" "),t("td",[e._v("226156424291633194186662080095093570025917938800079226639565593765455331327")])]),e._v(" "),t("tr",[t("td",[e._v("int256")]),e._v(" "),t("td",[e._v("-57896044618658097711785492504343953926634992332820282019728792003956564819968")]),e._v(" "),t("td",[e._v("57896044618658097711785492504343953926634992332820282019728792003956564819967")])])])]),e._v(" "),t("p",[t("strong",[e._v("é—®é¢˜")]),e._v(": ä¸ºä»€ä¹ˆ "),t("code",[e._v("uint8/int8")]),e._v("è‡³ "),t("code",[e._v("uint256/uint256")]),e._v(" éƒ½æ˜¯ä»¥ 8 çš„å€æ•°é€’å¢ï¼Œä¸”æœ€å¤§å€¼æ˜¯ 256ã€‚\n1 å­—èŠ‚æ˜¯ 8 ä½ï¼Œæ‰€ä»¥åé¢ 8,16,éƒ½éœ€è¦æ˜¯ 8 çš„æ•´æ•°å€ï¼Œint8 æ˜¯ 8 ä½ã€‚EVM ä¸ºåœ°å€è®¾ç½®çš„æœ€å¤§é•¿åº¦æ˜¯ 256 ä½ï¼Œæ‰€ä»¥æœ€å¤§å€¼æ˜¯"),t("code",[e._v("uint256/uint256")]),e._v("ã€‚")]),e._v(" "),t("p",[e._v("è®¡ç®—ä¸­æœ€å°ä¸€çº§çš„ä¿¡æ¯å•ä½æ˜¯ byte å’Œ bit: "),t("strong",[e._v("å…¶ä¸­å­—èŠ‚(Byte)ä¸ºæœ€å°å­˜å‚¨å®¹é‡å•ä½")]),e._v("ï¼Œ"),t("strong",[e._v("ä½(bit)æ˜¯æœ€å°å‚¨å­˜ä¿¡æ¯çš„å•ä½,ä¹Ÿè¢«ç§°ä¸ºæœ€å°çš„æ•°æ®ä¼ è¾“å•ä½")]),e._v("ï¼›ä¸€ä¸ªä½å°±ä»£è¡¨ä¸€ä¸ª 0 æˆ– 1ï¼ˆå³äºŒè¿›åˆ¶ï¼‰ï¼›æ¯ 8 ä¸ª bit(ç®€å†™ä¸º bï¼‰ç»„æˆä¸€ä¸ªå­—èŠ‚ Byteï¼ˆç®€å†™ä¸º Bï¼‰ï¼›æ‰€ä»¥ "),t("code",[e._v("uint256")]),e._v(" å’Œ "),t("code",[e._v("bytes32")]),e._v(" å¯ä»¥è½¬æ¢")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("bytes1 å¯¹åº” uint8")])]),e._v(" "),t("li",[t("code",[e._v("bytes2 å¯¹åº” uint16")])]),e._v(" "),t("li",[e._v("...")]),e._v(" "),t("li",[t("code",[e._v("bytes32 å¯¹åº” uint256")])])]),e._v(" "),t("p",[t("strong",[e._v("é—®é¢˜")]),e._v(": ä¸ºä»€ä¹ˆ int8 çš„å–å€¼èŒƒå›´æ˜¯-128~127 å‘¢ï¼Ÿä¸ºä»€ä¹ˆ "),t("code",[e._v("uint256")]),e._v(" çš„æœ€å¤§å€¼æ˜¯ "),t("code",[e._v("2**256 -1")]),e._v("ï¼Œè€Œä¸æ˜¯ "),t("code",[e._v("2**256")]),e._v(" å‘¢ï¼Ÿ")]),e._v(" "),t("p",[e._v("1 å­—èŠ‚æ˜¯ 8 ä½ï¼Œint8 æ˜¯ 8 ä½ï¼ŒäºŒè¿›åˆ¶è¡¨ç¤ºä¸º"),t("code",[e._v("0000 0000")]),e._v("è‡³"),t("code",[e._v("1000 0000")]),e._v("ï¼Œç¬¬ä¸€ä½æ˜¯ç¬¦å·ä½;ç¬¬ä¸€ä½ä¸º 0 æ˜¯æ­£å€¼ï¼Œç¬¬ä¸€ä½ä¸º 1 æ˜¯è´Ÿå€¼ï¼›å› ä¸º int8 æ€»å…±èƒ½å¤Ÿè¡¨ç¤º 2 çš„ 8 æ¬¡æ–¹ï¼Œæ‰€ä»¥å¸¦ç¬¦å·çš„æ­£å€¼ä¸º 128 ä¸ªæ•°ï¼Œè´Ÿå€¼ä¸º 128 ä¸ªæ•°ï¼›")]),e._v(" "),t("p",[e._v("è®¡ç®—æœºé‡Œæ˜¯å°† 0 ç®—åœ¨æ­£å€¼å†…ï¼Œè´Ÿå€¼çš„èŒƒå›´è¿˜æ˜¯-128ï¼›ä½†æ˜¯ "),t("strong",[e._v("0 ä¸æ˜¯æ­£æ•°ä¹Ÿä¸æ˜¯è´Ÿæ•°")]),e._v("ï¼Œæ‰€ä»¥æ­£å€¼èŒƒå›´å°‘äº†ä¸€ä¸ªä½ç½®ï¼Œå°±å‰© 127 ä¸ªä½ç½®äº†ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("é—®é¢˜")]),e._v(": å­—èŠ‚ & bit & åå…­è¿›åˆ¶æ•°å­—å…³ç³»")]),e._v(" "),t("ul",[t("li",[e._v("bytes1 æ˜¯æŒ‡ 1 ä¸ªå­—èŠ‚ï¼Œ1 ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºæˆ 2 ä¸ªè¿ç»­çš„ 16 è¿›åˆ¶æ•°å­—ã€‚æœ€å¤§å€¼æ˜¯ "),t("code",[e._v("0xff")])]),e._v(" "),t("li",[e._v("bytes1 æ˜¯æŒ‡ 1 ä¸ªå­—èŠ‚ï¼Œ1 ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºæˆ 8 ä¸ªè¿ç»­çš„ bit æ•°å­—ã€‚æœ€å¤§å€¼æ˜¯ "),t("code",[e._v("11111111")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("bytes1")]),e._v(" ç­‰äºä¸¤ä½è¿ç»­çš„åå…­è¿›åˆ¶æ•°å­— "),t("code",[e._v("0xXX")])])])]),e._v(" "),t("li",[e._v("8 ä¸ª bit æœ€å¤§å€¼æ˜¯ "),t("code",[e._v("11111111")]),e._v(",8 ä¸ª bit å¯¹åº” 2 ä¸ªè¿ç»­çš„åå…­è¿›åˆ¶æ•°å­—ï¼Œæœ€å¤§æ˜¯ "),t("code",[e._v("0xff")]),e._v(";\n"),t("ul",[t("li",[t("code",[e._v("uint8")]),e._v(" ç­‰äºä¸¤ä½è¿ç»­çš„åå…­è¿›åˆ¶æ•°å­— "),t("code",[e._v("0xXX")])])])])]),e._v(" "),t("h4",{attrs:{id:"â“¸-checked-æ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-checked-æ¨¡å¼"}},[e._v("#")]),e._v(" â“¸ checked æ¨¡å¼")]),e._v(" "),t("p",[e._v("âš ï¸: åœ¨ Solidity ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œå½“å¯¹æ— é™åˆ¶æ•´æ•°æ‰§è¡Œç®—æœ¯è¿ç®—ï¼Œå…¶ç»“æœè¶…å‡ºç»“æœç±»å‹çš„èŒƒå›´ï¼Œè¿™æ˜¯å°±å‘ç”Ÿäº†ä¸Šæº¢å‡ºæˆ–ä¸‹æº¢å‡ºã€‚åœ¨ Solidity 0.8.0 ä¹‹å‰ï¼Œç®—æœ¯è¿ç®—æ€»æ˜¯ä¼šåœ¨å‘ç”Ÿæº¢å‡ºçš„æƒ…å†µä¸‹è¿›è¡Œâ€œæˆªæ–­â€ï¼Œè€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚è¿™å°±ä¼šå¯¼è‡´ä¸€äº›éº»çƒ¦çš„äº‹æƒ…ï¼Œå¯èƒ½å¯¼è‡´æœªçŸ¥çš„é”™è¯¯ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¾—ä¸é å¼•å…¥é¢å¤–æ£€æŸ¥åº“æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ˆæœ€å¸¸è§çš„å¦‚ OpenZepplin çš„ SafeMathï¼‰")]),e._v(" "),t("p",[e._v("è€Œä» "),t("code",[e._v("Solidity 0.8.0")]),e._v(" å¼€å§‹ï¼Œæ‰€æœ‰çš„ç®—æœ¯è¿ç®—é»˜è®¤å°±ä¼šè¿›è¡Œæº¢å‡ºæ£€æŸ¥ï¼Œé¢å¤–å¼•å…¥åº“å°†ä¸å†å¿…è¦ã€‚0.8.0 å¼€å§‹ï¼Œç®—æœ¯è¿ç®—æœ‰ä¸¤ç§è®¡ç®—æ¨¡å¼ï¼šä¸€ç§æ˜¯"),t("code",[e._v("checked")]),e._v("ï¼ˆæ£€æŸ¥ï¼‰æ¨¡å¼ï¼Œå¦ä¸€ç§æ˜¯ "),t("code",[e._v("unchecked")]),e._v("ï¼ˆä¸æ£€æŸ¥ï¼‰æ¨¡å¼ã€‚")]),e._v(" "),t("p",[e._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œç®—æœ¯è¿ç®—åœ¨ "),t("code",[e._v("checked")]),e._v(" æ¨¡å¼ä¸‹ï¼Œå³éƒ½ä¼šè¿›è¡Œæº¢å‡ºæ£€æŸ¥ï¼Œå¦‚æœç»“æœè½åœ¨å–å€¼èŒƒå›´ä¹‹å¤–ï¼Œè°ƒç”¨ä¼šé€šè¿‡ å¤±è´¥å¼‚å¸¸ å›é€€ã€‚")]),e._v(" "),t("p",[e._v("ä½ ä¹Ÿå¯ä»¥é€šè¿‡ "),t("code",[e._v("unchecked{ ... }")]),e._v(" åˆ‡æ¢åˆ° â€œuncheckedâ€æ¨¡å¼ï¼Œæ›´å¤šå¯å‚è€ƒ "),t("code",[e._v("unchecked")]),e._v(" .")]),e._v(" "),t("h4",{attrs:{id:"â“¹-unchecked-éæ£€æŸ¥æ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¹-unchecked-éæ£€æŸ¥æ¨¡å¼"}},[e._v("#")]),e._v(" â“¹ unchecked éæ£€æŸ¥æ¨¡å¼")]),e._v(" "),t("p",[e._v("å¦‚æœä¾ç„¶æƒ³è¦ä¹‹å‰â€œæˆªæ–­â€çš„æ•ˆæœï¼Œè€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸é”™è¯¯ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ "),t("code",[e._v("unchecked{}")]),e._v(" ä»£ç å—ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract C {\n    uint256 public a = type(uint256).max;\n    uint8 public b = 1;\n\n    function f1() public view returns (uint256) {\n        // å‡æ³•æº¢å‡ºä¼šè¿”å›â€œæˆªæ–­â€çš„ç»“æœ\n        unchecked {\n            return a + b;\n        }\n    }\n\n    function f2() public view returns (uint256) {\n        unchecked {\n            return a + 2;\n        }\n    }\n\n    function g() public view returns (uint256) {\n        // æº¢å‡ºä¼šæŠ›å‡ºå¼‚å¸¸\n        return a + b;\n    }\n}\n")])])]),t("p",[e._v("è°ƒç”¨ "),t("code",[e._v("g()")]),e._v(" ä¼šè§¦å‘å¤±è´¥å¼‚å¸¸ï¼Œ è°ƒç”¨ "),t("code",[e._v("f1()/f2()")]),e._v(" åˆ†åˆ«æ˜¯æˆªæ–­æ•ˆæœ,")]),e._v(" "),t("p",[e._v("âš ï¸: "),t("code",[e._v("unchecked")]),e._v(" ä»£ç å—å¯ä»¥åœ¨ä»£ç å—ä¸­çš„ä»»ä½•ä½ç½®ä½¿ç”¨ï¼Œä½†ä¸å¯ä»¥æ›¿ä»£æ•´ä¸ªå‡½æ•°ä»£ç å—ï¼ŒåŒæ ·ä¸å¯ä»¥åµŒå¥—ã€‚åˆ‡æ­¤è®¾ç½®ä»…å½±å“è¯­æ³•ä¸Šä½äº "),t("code",[e._v("unchecked")]),e._v(" å—å†…çš„è¯­å¥ã€‚ åœ¨å—ä¸­è°ƒç”¨çš„å‡½æ•°ä¸ä¼šæ­¤å½±å“ã€‚")]),e._v(" "),t("p",[e._v("âš ï¸: ä¸ºé¿å…æ­§ä¹‰ï¼Œä¸èƒ½åœ¨ unchecked å—ä¸­ä½¿ç”¨ "),t("code",[e._v("_;")]),e._v(", è¯¥è¡¨ç¤ºæ–¹æ³•ä»…ç”¨äºå‡½æ•°ä¿®æ”¹å™¨ã€‚")]),e._v(" "),t("h5",{attrs:{id:"è§¦å‘æº¢å‡ºæ£€æŸ¥çš„è¿ç®—ç¬¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è§¦å‘æº¢å‡ºæ£€æŸ¥çš„è¿ç®—ç¬¦"}},[e._v("#")]),e._v(" è§¦å‘æº¢å‡ºæ£€æŸ¥çš„è¿ç®—ç¬¦")]),e._v(" "),t("p",[e._v("ä¸‹é¢çš„è¿™ä¸ªè¿ç®—æ“ä½œç¬¦ä¼šè¿›è¡Œæº¢å‡ºæ£€æŸ¥ï¼Œå¦‚æœä¸Šæº¢å‡ºæˆ–ä¸‹æº¢ä¼šè§¦å‘å¤±è´¥å¼‚å¸¸ã€‚ å¦‚æœåœ¨éæ£€æŸ¥æ¨¡å¼ä»£ç å—ä¸­ä½¿ç”¨ï¼Œå°†ä¸ä¼šå‡ºç°é”™è¯¯:")]),e._v(" "),t("p",[t("code",[e._v("++")]),e._v(", "),t("code",[e._v("--")]),e._v(", "),t("code",[e._v("+")]),e._v(", "),t("code",[e._v("å‡ -")]),e._v(", "),t("code",[e._v("è´Ÿ -")]),e._v(", "),t("code",[e._v("*")]),e._v(", "),t("code",[e._v("/")]),e._v(", "),t("code",[e._v("%")]),e._v(", "),t("code",[e._v("**")])]),e._v(" "),t("p",[t("code",[e._v("+=")]),e._v(","),t("code",[e._v("-=")]),e._v(", "),t("code",[e._v("*=")]),e._v(", "),t("code",[e._v("/=")]),e._v(", "),t("code",[e._v("%=")])]),e._v(" "),t("h5",{attrs:{id:"é™¤-0-æˆ–é™¤-0å–æ¨¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é™¤-0-æˆ–é™¤-0å–æ¨¡"}},[e._v("#")]),e._v(" é™¤ "),t("code",[e._v("0")]),e._v("ï¼ˆæˆ–"),t("code",[e._v("é™¤ 0å–æ¨¡")]),e._v("ï¼‰")]),e._v(" "),t("p",[t("strong",[e._v("âš ï¸ è­¦å‘Š")]),e._v(": é™¤ "),t("code",[e._v("0")]),e._v("ï¼ˆæˆ–"),t("code",[e._v("é™¤ 0å–æ¨¡")]),e._v("ï¼‰çš„å¼‚å¸¸æ˜¯ä¸èƒ½è¢« "),t("code",[e._v("unchecked")]),e._v(" å¿½ç•¥çš„ã€‚ä¼šå‘ç”Ÿ "),t("code",[e._v("Panic")]),e._v(" é”™è¯¯ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: GPL-3.0\npragma solidity ^0.8.17;\n\ncontract C {\n    uint256 public a = type(uint256).max;\n\n    function f1() public view returns (uint256) {\n        unchecked {\n            return a / 0;\n        }\n    }\n\n    function f2() public view returns (uint256) {\n        unchecked {\n            return a % 0;\n        }\n    }\n}\n")])])]),t("h5",{attrs:{id:"ä½è¿ç®—ä¸ä¼šæ‰§è¡Œä¸Šæº¢æˆ–ä¸‹æº¢æ£€æŸ¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä½è¿ç®—ä¸ä¼šæ‰§è¡Œä¸Šæº¢æˆ–ä¸‹æº¢æ£€æŸ¥"}},[e._v("#")]),e._v(" ä½è¿ç®—ä¸ä¼šæ‰§è¡Œä¸Šæº¢æˆ–ä¸‹æº¢æ£€æŸ¥")]),e._v(" "),t("p",[t("strong",[e._v("âš ï¸ æ³¨è§£")]),e._v(": ä½è¿ç®—ä¸ä¼šæ‰§è¡Œä¸Šæº¢æˆ–ä¸‹æº¢æ£€æŸ¥ã€‚ è¿™åœ¨ä½¿ç”¨ä½ç§»ä½("),t("code",[e._v("<<")]),e._v(", "),t("code",[e._v(">>")]),e._v(", "),t("code",[e._v("<<=")]),e._v(", "),t("code",[e._v(">>=")]),e._v(")æ¥ä»£æ›¿æ•´æ•°é™¤æ³•å’Œ 2 æŒ‡æ•°æ—¶å°¤å…¶æ˜æ˜¾ã€‚ ä¾‹å¦‚ "),t("code",[e._v("type(uint256).max << 3")]),e._v(" ä¸ä¼šå›é€€ï¼Œè€Œ "),t("code",[e._v("type(uint256).max + 1")]),e._v(" ä¼šå¤±è´¥å›é€€ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract C {\n    uint256 public a = type(uint256).max;\n    uint8 public b = 1;\n\n    function g1() public view returns (uint256) {\n        return a + b;\n    }\n\n    function g2() public view returns (uint256) {\n        return a << 3;\n    }\n}\n")])])]),t("h5",{attrs:{id:"int-å€¼éœ€è¦æ³¨æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#int-å€¼éœ€è¦æ³¨æ„"}},[e._v("#")]),e._v(" -int å€¼éœ€è¦æ³¨æ„")]),e._v(" "),t("p",[t("strong",[e._v("æ³¨è§£")]),e._v(" "),t("code",[e._v("int x = type(int).min; -x;")]),e._v(" ä¸­çš„ç¬¬ 2 å¥ä¼šæº¢å‡ºï¼Œå› ä¸ºè´Ÿæ•°çš„èŒƒå›´æ¯”æ­£æ•´æ•°çš„èŒƒå›´å¤§ 1ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract C {\n    int256 x = type(int256).min;\n    int256 y = -1;\n\n    function fn1() public view returns (int256) {\n        unchecked {\n            return -x;\n        }\n    }\n\n    // æº¢å‡º\n    function fn2() public view returns (int256) {\n        return -x;\n    }\n\n    function fn3() public view returns (int256) {\n        return -y;\n    }\n}\n")])])]),t("p",[e._v("æ˜¾å¼ç±»å‹è½¬æ¢å°†å§‹ç»ˆæˆªæ–­å¹¶ä¸”ä¸ä¼šå¯¼è‡´å¤±è´¥çš„æ–­è¨€ï¼Œä½†æ˜¯ä»æ•´æ•°åˆ°æšä¸¾ç±»å‹çš„è½¬æ¢ä¾‹å¤–ã€‚")]),e._v(" "),t("h5",{attrs:{id:"æ˜¾å¼ç±»å‹è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ˜¾å¼ç±»å‹è½¬æ¢"}},[e._v("#")]),e._v(" æ˜¾å¼ç±»å‹è½¬æ¢")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract C {\n    uint256 public a = type(uint256).max;\n    uint8 public b = uint8(a);\n}\n")])])]),t("h3",{attrs:{id:"_3-integer-æ•´æ•°å­—é¢å¸¸é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-integer-æ•´æ•°å­—é¢å¸¸é‡"}},[e._v("#")]),e._v(" 3.Integer æ•´æ•°å­—é¢å¸¸é‡")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-5"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=17",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: æ•´æ•°å­—é¢å¸¸é‡")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=5MiIZaaBbnU&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=17",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: æ•´æ•°å­—é¢å¸¸é‡")])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-æ•´æ•°å­—é¢å¸¸é‡ä¸­ç”¨-å¢åŠ å¯è¯»æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-æ•´æ•°å­—é¢å¸¸é‡ä¸­ç”¨-å¢åŠ å¯è¯»æ€§"}},[e._v("#")]),e._v(" â“µ æ•´æ•°å­—é¢å¸¸é‡ä¸­ç”¨"),t("code",[e._v("_")]),e._v("å¢åŠ å¯è¯»æ€§")]),e._v(" "),t("p",[e._v("ä¸ºäº†æé«˜å¯è¯»æ€§å¯ä»¥åœ¨æ•°å­—ä¹‹é—´åŠ ä¸Šä¸‹åˆ’çº¿ã€‚ ä¾‹å¦‚ï¼Œåè¿›åˆ¶ "),t("code",[e._v("123_000")]),e._v("ï¼Œåå…­è¿›åˆ¶ "),t("code",[e._v("0x2eff_abde")]),e._v("ï¼Œç§‘å­¦åè¿›åˆ¶è¡¨ç¤º "),t("code",[e._v("1_2e12")]),e._v(" éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚")]),e._v(" "),t("p",[e._v("éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("ä¸‹åˆ’çº¿ä»…å…è®¸åœ¨ä¸¤ä½æ•°ä¹‹é—´ï¼Œå¹¶ä¸”ä¸å…è®¸ä¸‹åˆ’çº¿è¿ç»­å‡ºç°ã€‚")]),e._v(" "),t("li",[e._v("æ·»åŠ åˆ°æ•°å­—æ–‡å­—ä¸­ä¸‹åˆ’çº¿æ²¡æœ‰é¢å¤–çš„è¯­ä¹‰ï¼Œä»…ä»…åªæ˜¯ä¸ºäº†å¯è¯»æ€§.")]),e._v(" "),t("li",[e._v("ä¸‹åˆ’çº¿ä¼šè¢«ç¼–è¯‘å™¨å¿½ç•¥ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo{\n    uint public count1 = 123_456_789; // 23503 gas\n    uint public count2 = 123_456_789; // 23493 gas\n    uint public count3 = 123456789; // 23537 gas\n    int public count4 = -123456789; // 23559 gas\n    int public count5 = -123_456_789; // 23471 gas\n}\n")])])]),t("p",[e._v("é€šè¿‡æµ‹è¯•å‘ç°ï¼Œå¸¦æœ‰"),t("code",[e._v("_")]),e._v("æ•°å­—çš„å˜é‡ï¼Œè¯»å–æ—¶å€™èŠ±è´¹ gas æ›´å°‘")]),e._v(" "),t("h4",{attrs:{id:"â“¶-å­—é¢å¸¸é‡æ”¯æŒä»»æ„ç²¾åº¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-å­—é¢å¸¸é‡æ”¯æŒä»»æ„ç²¾åº¦"}},[e._v("#")]),e._v(" â“¶ å­—é¢å¸¸é‡æ”¯æŒä»»æ„ç²¾åº¦")]),e._v(" "),t("p",[e._v("æ•°å€¼å­—é¢å¸¸é‡è¡¨è¾¾å¼æœ¬èº«æ”¯æŒä»»æ„ç²¾åº¦ï¼Œç›´åˆ°è¢«è½¬æ¢æˆäº†éå¸¸é‡ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œåœ¨å¸¸é‡å˜é‡è¡¨è¾¾å¼ä¹‹å¤–æœ‰è¿ç®—ï¼Œæˆ–å‘ç”Ÿäº†æ˜¾ç¤ºè½¬æ¢ï¼‰ã€‚ è¿™æ„å‘³ç€åœ¨æ•°å€¼å¸¸é‡è¡¨è¾¾å¼ä¸­, è®¡ç®—ä¸ä¼šæº¢å‡ºè€Œé™¤æ³•ä¹Ÿä¸ä¼šæˆªæ–­ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    uint8 public a = (2**800 + 1) - 2**800;\n    uint8 public b = 0.5 * 8;\n}\n")])])]),t("p",[t("code",[e._v("(2**800 + 1) - 2**800")]),e._v(" çš„ç»“æœæ˜¯å­—é¢å¸¸é‡ 1 ï¼ˆå±äº uint8 ç±»å‹ï¼‰ï¼Œå°½ç®¡è®¡ç®—çš„ä¸­é—´ç»“æœå·²ç»è¶…è¿‡äº† ä»¥å¤ªåŠè™šæ‹Ÿæœºçš„æœºå™¨å­—é•¿åº¦ã€‚ æ­¤å¤–ï¼Œ "),t("code",[e._v(".5 * 8")]),e._v(" çš„ç»“æœæ˜¯æ•´å‹ "),t("code",[e._v("4")]),e._v(" ï¼ˆå°½ç®¡æœ‰éæ•´å‹å‚ä¸äº†è®¡ç®—ï¼‰ã€‚")]),e._v(" "),t("p",[e._v("âš ï¸: æ•° å€¼å­—é¢å¸¸é‡è¡¨è¾¾å¼åªè¦åœ¨éå­—é¢å¸¸é‡è¡¨è¾¾å¼ä¸­ä½¿ç”¨å°±ä¼šè½¬æ¢æˆéå­—é¢å¸¸é‡ç±»å‹ã€‚ åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå°½ç®¡æˆ‘ä»¬çŸ¥é“ b çš„å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œä½† "),t("code",[e._v("2.5 + a")]),e._v(" è¿™éƒ¨åˆ†è¡¨è¾¾å¼å¹¶ä¸è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå› æ­¤ç¼–è¯‘ä¸èƒ½é€šè¿‡ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("uint128 a = 1;\nuint128 b = 2.5 + a + 0.5;\n")])])]),t("h4",{attrs:{id:"â“·-é™¤æ³•æˆªæ–­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-é™¤æ³•æˆªæ–­"}},[e._v("#")]),e._v(" â“· é™¤æ³•æˆªæ–­")]),e._v(" "),t("p",[e._v("æ³¨æ„é™¤æ³•æˆªæ–­: åœ¨æ™ºèƒ½åˆçº¦ä¸­ï¼Œåœ¨ å­—é¢å¸¸é‡ ä¼šä¿ç•™ç²¾åº¦ï¼ˆä¿ç•™å°æ•°ä½ï¼‰ã€‚")]),e._v(" "),t("p",[e._v("æ•´æ•°çš„é™¤æ³•ä¼šè¢«æˆªæ–­ï¼ˆä¾‹å¦‚ï¼š"),t("code",[e._v("1/4")]),e._v(" ç»“æœä¸º 0ï¼‰,ä½†æ˜¯ä½¿ç”¨å­—é¢é‡çš„æ–¹å¼ä¸ä¼šè¢«æˆªæ–­")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract IntegerTest {\n    function test1() public pure returns (uint256, uint256) {\n        uint256 a = 1;\n        uint256 b = 4;\n        uint256 c1 = (1 / 4) * 4; // 1 => æœªæˆªæ–­\n        uint256 c2 = (a / b) * b; // 0 => æˆªæ–­\n        return (c1, c2);\n    }\n\n    function test2() public pure returns (int256, int256) {\n        int256 a = -1;\n        int256 b = -4;\n        int256 c1 = (-1 / -4) * (-4); // -1 => æœªæˆªæ–­\n        int256 c2 = (a / b) * b; // 0 => æˆªæ–­\n        return (c1, c2);\n    }\n}\n")])])]),t("p",[e._v("æ³¨é‡Š: è¡¨è¾¾å¼ "),t("code",[e._v("type(int).min / (-1)")]),e._v(" æ˜¯ä»…æœ‰çš„æ•´é™¤ä¼šå‘ç”Ÿå‘ä¸Šæº¢å‡ºçš„æƒ…å†µã€‚ åœ¨ç®—æœ¯æ£€æŸ¥æ¨¡å¼ä¸‹ï¼Œè¿™ä¼šè§¦å‘ä¸€ä¸ªå¤±è´¥å¼‚å¸¸ï¼Œåœ¨æˆªæ–­æ¨¡å¼ä¸‹ï¼Œè¡¨è¾¾å¼çš„å€¼å°†æ˜¯ "),t("code",[e._v("type(int).min")]),e._v(" ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    function test1() public pure returns (int256 a) {\n        a = type(int256).min / (-2);\n    }\n\n    // VM error: revert.\n    function test2() public pure returns (int256 a) {\n        a = type(int256).min / (-1);\n    }\n\n    function test3() public pure returns (int256 a) {\n        unchecked {\n            a = type(int256).min / (-1);\n        }\n    }\n}\n")])])]),t("h4",{attrs:{id:"â“¸-ä¼˜å…ˆä½¿ç”¨è¾ƒå°ç±»å‹è®¡ç®—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-ä¼˜å…ˆä½¿ç”¨è¾ƒå°ç±»å‹è®¡ç®—"}},[e._v("#")]),e._v(" â“¸ ä¼˜å…ˆä½¿ç”¨è¾ƒå°ç±»å‹è®¡ç®—")]),e._v(" "),t("p",[e._v("è™½ç„¶å¤§å¤šæ•°è¿ç®—ç¬¦åœ¨å­—é¢å¸¸é‡è¿ç®—æ—¶éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªå­—é¢å¸¸é‡è¡¨è¾¾å¼ï¼Œä½†æœ‰ä¸€äº›è¿ç®—ç¬¦å¹¶ä¸éµå¾ªè¿™ç§æ¨¡å¼ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("ä¸‰å…ƒè¿ç®—ç¬¦ "),t("code",[e._v("(... ? ... : ...)")]),e._v(",")]),e._v(" "),t("li",[e._v("æ•°ç»„ä¸‹æ ‡è®¿é—® ("),t("code",[e._v("<array>[<index>]")]),e._v(").")])]),e._v(" "),t("p",[e._v("ä½ å¯èƒ½è®¤ä¸ºåƒ"),t("code",[e._v("255 + (true ? 1 : 0)")]),e._v(" æˆ– "),t("code",[e._v("255 + [1, 2, 3][0]")]),e._v(" è¿™æ ·çš„è¡¨è¾¾å¼ç­‰åŒäºç›´æ¥ä½¿ç”¨ 256 å­—é¢å¸¸é‡ã€‚ ä½†äº‹å®ä¸Šï¼Œå®ƒä»¬æ˜¯åœ¨ "),t("code",[e._v("uint8")]),e._v(" ç±»å‹ä¸­è®¡ç®—çš„ï¼Œä¼šæº¢å‡ºã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    // VM error: revert.\n    function testA1() public pure returns (uint256 a) {\n        a = 255 + (true ? 1 : 0);\n    }\n\n    function testA2() public pure returns (uint256 a) {\n        a = (true ? 1 : 0) + 255;\n    }\n\n    // VM error: revert.\n    function testB1() public pure returns (uint256 a) {\n        a = 255 + [1, 2, 3][0];\n    }\n\n    function testB2() public pure returns (uint256 a) {\n        a = [1, 2, 3][0] + 255;\n    }\n\n    function testA3() public pure returns (uint256 a) {\n        a = 255 + uint256(true ? 1 : 0);\n    }\n\n    function testB3() public pure returns (uint256 a) {\n        a = 255 + uint256([1, 2, 3][0]);\n    }\n}\n")])])]),t("h3",{attrs:{id:"_4-fixed-å®šé•¿æµ®ç‚¹å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-fixed-å®šé•¿æµ®ç‚¹å‹"}},[e._v("#")]),e._v(" 4.Fixed å®šé•¿æµ®ç‚¹å‹")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-6"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=18",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: Fixed å®šé•¿æµ®ç‚¹å‹")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=7fHyXGcd72E&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=18",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: Fixed å®šé•¿æµ®ç‚¹å‹")])])]),e._v(" "),t("p",[e._v("Solidity è¿˜æ²¡æœ‰å®Œå…¨æ”¯æŒå®šé•¿æµ®ç‚¹å‹ã€‚")]),e._v(" "),t("p",[e._v("å¯ä»¥å£°æ˜å®šé•¿æµ®ç‚¹å‹çš„å˜é‡ï¼Œä½†ä¸èƒ½ç»™å®ƒä»¬èµ‹å€¼æˆ–æŠŠå®ƒä»¬èµ‹å€¼ç»™å…¶ä»–å˜é‡ã€‚ã€‚")]),e._v(" "),t("p",[e._v("å¯ä»¥é€šè¿‡ç”¨æˆ·å®šä¹‰çš„å€¼ç±»å‹çš„ wrap / unwrap æ¥æ¨¡æ‹Ÿå‡ºæ¥ï¼Œåé¢ä»‹ç»ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹æ—¶å€™ä¼šä»‹ç»ã€‚")]),e._v(" "),t("p",[t("code",[e._v("fixed / ufixed")]),e._v("ï¼šè¡¨ç¤ºå„ç§å¤§å°çš„æœ‰ç¬¦å·å’Œæ— ç¬¦å·çš„å®šé•¿æµ®ç‚¹å‹ã€‚ åœ¨å…³é”®å­— "),t("code",[e._v("ufixedMxN")]),e._v(" å’Œ "),t("code",[e._v("fixedMxN")]),e._v(" ä¸­ï¼Œ"),t("code",[e._v("M")]),e._v(" è¡¨ç¤ºè¯¥ç±»å‹å ç”¨çš„ä½æ•°ï¼Œ"),t("code",[e._v("N")]),e._v(" è¡¨ç¤ºå¯ç”¨çš„å°æ•°ä½æ•°ã€‚ "),t("code",[e._v("M")]),e._v(" å¿…é¡»èƒ½æ•´é™¤ 8ï¼Œå³ 8 åˆ° 256 ä½ã€‚ "),t("code",[e._v("N")]),e._v(" åˆ™å¯ä»¥æ˜¯ä» 0 åˆ° 80 ä¹‹é—´çš„ä»»æ„æ•°ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_5-bytesn-å®šé•¿å­—èŠ‚æ•°ç»„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-bytesn-å®šé•¿å­—èŠ‚æ•°ç»„"}},[e._v("#")]),e._v(" 5.BytesN å®šé•¿å­—èŠ‚æ•°ç»„")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-7"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=19",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: BytesN å®šé•¿å­—èŠ‚æ•°ç»„")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=8QqoVA-nnlY&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=19",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: BytesN å®šé•¿å­—èŠ‚æ•°ç»„")])])]),e._v(" "),t("p",[e._v("å®šä¹‰æ–¹å¼ "),t("code",[e._v("bytesN")]),e._v("ï¼Œå…¶ä¸­ N å¯å– "),t("code",[e._v("1~32")]),e._v(" ä¸­çš„ä»»æ„æ•´æ•°;")]),e._v(" "),t("p",[e._v("bytes1 ä»£è¡¨åªèƒ½å­˜å‚¨ä¸€ä¸ªå­—èŠ‚ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("âš ï¸ æ³¨æ„ï¼šä¸€æ—¦å£°æ˜ï¼Œå…¶å†…éƒ¨çš„å­—èŠ‚é•¿åº¦ä¸å¯ä¿®æ”¹ï¼Œå†…éƒ¨å­—èŠ‚ä¸å¯ä¿®æ”¹ã€‚")]),e._v(" "),t("li",[e._v("âš ï¸ æ³¨æ„ï¼š"),t("code",[e._v("bytes32")]),e._v(" å’Œ "),t("code",[e._v("bytes")]),e._v(" æ˜¯ä¸åŒçš„ã€‚\n"),t("ul",[t("li",[t("code",[e._v("bytesN")]),e._v(": æ˜¯å®šé•¿çš„å­—èŠ‚æ•°ç»„ï¼Œæ˜¯å€¼ç±»å‹")]),e._v(" "),t("li",[t("code",[e._v("bytes")]),e._v(": æ˜¯å˜é•¿å­—èŠ‚æ•°ç»„ï¼Œæ˜¯å¼•ç”¨ç±»å‹ã€‚")])])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-æ™®é€šèµ‹å€¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-æ™®é€šèµ‹å€¼"}},[e._v("#")]),e._v(" â“µ æ™®é€šèµ‹å€¼")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    // å›ºå®šé•¿åº¦çš„å­—èŠ‚æ•°ç»„\n    bytes1 public a1 = 0x61;\n    bytes2 public a2 = 0x6100;\n    bytes4 public a3 = 0x61000000;\n    bytes6 public a4 = 0x416e62616e67;\n    bytes7 public a5 = 0x416e62616e6700;\n    bytes8 public a6 = 0x416e62616e670000;\n    bytes16 public a7 = 0x416e62616e6700000000000000000000;\n    bytes32 public a8 =\n        0x416e62616e670000000000000000000000000000000000000000000000000000;\n}\n")])])]),t("p",[e._v("æ³¨æ„è¿™é‡Œ "),t("code",[e._v("bytes32")]),e._v(" å’Œ "),t("code",[e._v("bytes")]),e._v(" æ˜¯ä¸åŒçš„ã€‚"),t("code",[e._v("bytes")]),e._v(" æ˜¯å˜é•¿å­—èŠ‚æ•°ç»„ï¼Œæ˜¯å¼•ç”¨ç±»å‹ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“¶-ä½¿ç”¨å­—ç¬¦ä¸²èµ‹å€¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-ä½¿ç”¨å­—ç¬¦ä¸²èµ‹å€¼"}},[e._v("#")]),e._v(" â“¶ ä½¿ç”¨å­—ç¬¦ä¸²èµ‹å€¼")]),e._v(" "),t("p",[e._v("è­¦å‘Š:å­—ç¬¦ä¸²å­—é¢å¸¸é‡åœ¨èµ‹å€¼ç»™ bytesN æ—¶è¢«è§£é‡Šä¸ºåŸå§‹çš„å­—èŠ‚å½¢å¼ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    bytes1 public b1 = "a";\n    bytes2 public b2 = "a";\n    bytes4 public b3 = "a";\n    bytes6 public b4 = "Anbang";\n    bytes7 public b5 = "Anbang";\n    bytes8 public b6 = "Anbang";\n    bytes16 public b7 = "Anbang";\n    bytes32 public b8 = "Anbang";\n}\n')])])]),t("h4",{attrs:{id:"â“·-å±æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-å±æ€§"}},[e._v("#")]),e._v(" â“· å±æ€§")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("length")]),e._v(" ï¼ˆåªè¯»ï¼‰\n"),t("ul",[t("li",[e._v("è¿”å›å­—èŠ‚ä¸ªæ•°ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•è¯»å–å¯¹åº”ç´¢å¼•çš„å­—èŠ‚ã€‚")])])]),e._v(" "),t("li",[e._v("ç´¢å¼•è®¿é—®: "),t("code",[e._v("bytesN[index]")]),e._v(" "),t("ul",[t("li",[e._v("index å–å€¼èŒƒå›´"),t("code",[e._v("[0, N]")]),e._v("ï¼Œå…¶ä¸­ N è¡¨ç¤ºé•¿åº¦ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœ "),t("code",[e._v("x")]),e._v(" æ˜¯ "),t("code",[e._v("bytesI")]),e._v(" ç±»å‹ï¼Œé‚£ä¹ˆ "),t("code",[e._v("x[k]")]),e._v(" ï¼ˆå…¶ä¸­ 0 <= k < Iï¼‰è¿”å›ç¬¬ k ä¸ªå­—èŠ‚ï¼ˆåªè¯»ï¼‰ã€‚")])])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    // å›ºå®šé•¿åº¦çš„å­—èŠ‚æ•°ç»„\n    bytes1 public a1 = 0x61;\n    bytes2 public a2 = 0x6100;\n\n    // length\n    uint256 public n1 = a1.length;\n    uint256 public n2 = a2.length;\n\n    // ç´¢å¼•\n    function getIndex(uint8 index_) public view returns(bytes1){\n        return a2[index_];\n    }\n\n    // ä¸ä¿®å¯ä»¥ä¿®æ”¹\n    // function setIndex(uint8 index_,bytes1 value_) public view{\n    //     a2[index_] = value_;\n    // }\n}\n")])])]),t("h3",{attrs:{id:"_6-å­—ç¬¦ä¸²å­—é¢å¸¸é‡åŠç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-å­—ç¬¦ä¸²å­—é¢å¸¸é‡åŠç±»å‹"}},[e._v("#")]),e._v(" 6.å­—ç¬¦ä¸²å­—é¢å¸¸é‡åŠç±»å‹")]),e._v(" "),t("p",[e._v("å­—ç¬¦ä¸²å­—é¢å¸¸é‡åªèƒ½åŒ…å«å¯æ‰“å°çš„ ASCII å­—ç¬¦ï¼Œè¿™æ„å‘³ç€ä»–æ˜¯ä»‹äº 0x20 å’Œ 0x7E ä¹‹é—´çš„å­—ç¬¦ã€‚")]),e._v(" "),t("p",[e._v("å­—ç¬¦ä¸²å­—é¢å¸¸é‡æ˜¯æŒ‡ç”±åŒå¼•å·æˆ–å•å¼•å·å¼•èµ·æ¥çš„å­—ç¬¦ä¸²ï¼ˆ "),t("code",[e._v('"foo"')]),e._v(" æˆ–è€… "),t("code",[e._v("'bar'")]),e._v("ï¼‰;")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-8"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=20",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: å­—ç¬¦ä¸²å­—é¢å¸¸é‡åŠç±»å‹")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=MZIxm2NeHV8&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=20",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: å­—ç¬¦ä¸²å­—é¢å¸¸é‡åŠç±»å‹")])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-å­—ç¬¦ä¸²å­—é¢é‡æ˜¯å€¼ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-å­—ç¬¦ä¸²å­—é¢é‡æ˜¯å€¼ç±»å‹"}},[e._v("#")]),e._v(" â“µ å­—ç¬¦ä¸²å­—é¢é‡æ˜¯å€¼ç±»å‹")]),e._v(" "),t("p",[e._v("è½¬æ¢: å’Œæ•´æ•°å­—é¢å¸¸é‡ä¸€æ ·ï¼Œå­—ç¬¦ä¸²å­—é¢å¸¸é‡çš„ç±»å‹ä¹Ÿå¯ä»¥å‘ç”Ÿæ”¹å˜ï¼Œå®ƒä»¬å¯ä»¥éšå¼åœ°è½¬æ¢æˆ"),t("code",[e._v("bytes1")]),e._v("ï¼Œâ€¦â€¦ï¼Œ "),t("code",[e._v("bytes32")]),e._v("ï¼Œå¦‚æœåˆé€‚çš„è¯ï¼Œè¿˜å¯ä»¥è½¬æ¢æˆ "),t("code",[e._v("bytes")]),e._v(" ä»¥åŠ "),t("code",[e._v("string")]),e._v("ã€‚")]),e._v(" "),t("p",[e._v("æ¯”å¦‚ "),t("code",[e._v('bytes1 public a8 = "a";')]),e._v(" å’Œ "),t("code",[e._v('bytes2 public b2 = "a";')]),e._v("ã€‚å­—ç¬¦ä¸²å­—é¢å¸¸é‡åœ¨èµ‹å€¼ç»™ "),t("code",[e._v("bytesN")]),e._v(" æ—¶è¢«è§£é‡Šä¸º"),t("strong",[e._v("åŸå§‹çš„å­—èŠ‚å½¢å¼")]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    bytes1 public b1 = "a";\n    string public b2 = "a";\n}\n')])])]),t("h4",{attrs:{id:"â“¶-è½¬ä¹‰å­—ç¬¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-è½¬ä¹‰å­—ç¬¦"}},[e._v("#")]),e._v(" â“¶ è½¬ä¹‰å­—ç¬¦")]),e._v(" "),t("p",[e._v("ä½†æ˜¯æˆ‘ä»¬å†™ç‰¹æ®Šå­—ç¬¦ä¸²æ—¶å€™é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚æˆ‘æƒ³è¾“å‡ºä¸€ä¸ª "),t("code",[e._v('fo"o')]),e._v("å’Œ"),t("code",[e._v("fo'o")]),e._v(" çš„å­—ç¬¦ä¸²å°±å¾ˆéš¾å¼„ï¼Œå› ä¸ºè«è®¤ä¸º"),t("code",[e._v('"')]),e._v("å’Œ"),t("code",[e._v("'")]),e._v(" æ˜¯å­—ç¬¦ä¸²çš„ç»“å°¾ã€‚å¦‚æœæƒ³è¦è¾“å‡ºè¿™ç§ç‰¹æ®Šçš„å­—ç¬¦ä¸²ï¼Œå°±éœ€è¦è½¬ä¹‰å­—ç¬¦äº†ã€‚")]),e._v(" "),t("p",[e._v("æ­¤å¤–ï¼Œå­—ç¬¦ä¸²å­—é¢å¸¸é‡æ”¯æŒä¸‹é¢çš„è½¬ä¹‰å­—ç¬¦ï¼š")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("\\'")]),e._v(" (å•å¼•å·)")]),e._v(" "),t("li",[t("code",[e._v('\\"')]),e._v(" (åŒå¼•å·)")]),e._v(" "),t("li",[t("code",[e._v("\\\\")]),e._v(" (åæ–œæ )")]),e._v(" "),t("li",[t("code",[e._v("\\<newline>")]),e._v(" (è½¬ä¹‰å®é™…æ¢è¡Œ)")]),e._v(" "),t("li",[t("code",[e._v("\\b")]),e._v(" (é€€æ ¼)")]),e._v(" "),t("li",[t("code",[e._v("\\f")]),e._v(" (æ¢é¡µ)")]),e._v(" "),t("li",[t("code",[e._v("\\n")]),e._v(" (æ¢è¡Œç¬¦)")]),e._v(" "),t("li",[t("code",[e._v("\\r")]),e._v(" (å›è½¦)")]),e._v(" "),t("li",[t("code",[e._v("\\t")]),e._v(" (æ ‡ç­¾ tab)")]),e._v(" "),t("li",[t("code",[e._v("\\v")]),e._v(" (å‚ç›´æ ‡ç­¾)")]),e._v(" "),t("li",[t("code",[e._v("\\xNN")]),e._v(" (åå…­è¿›åˆ¶è½¬ä¹‰ï¼Œè§ä¸‹æ–‡)")]),e._v(" "),t("li",[t("code",[e._v("\\uNNNN")]),e._v(" (unicode è½¬ä¹‰ï¼Œè§ä¸‹æ–‡)")])]),e._v(" "),t("p",[t("code",[e._v("\\xNN")]),e._v(" è¡¨ç¤ºä¸€ä¸ª 16 è¿›åˆ¶å€¼ï¼Œæœ€ç»ˆè½¬æ¢æˆåˆé€‚çš„å­—èŠ‚ï¼Œè€Œ "),t("code",[e._v("\\uNNNN")]),e._v(" è¡¨ç¤º Unicode ç¼–ç å€¼ï¼Œæœ€ç»ˆä¼šè½¬æ¢ä¸º UTF-8 çš„åºåˆ—ã€‚")]),e._v(" "),t("p",[e._v("é—®ç­”é¢˜:ä¸‹é¢å­—ç¬¦ä¸²é•¿åº¦ä¸ºå¤šå°‘å­—èŠ‚ï¼Ÿ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    string public a1 = "\\n\\"\'\\\\abc\\\ndef";\n    bytes32 public a2 = "\\n\\"\'\\\\abc\\\ndef";\n}\n')])])]),t("p",[e._v("å­—ç¬¦ä¸²é•¿åº¦ä¸ºåä¸ªå­—èŠ‚ï¼Œå®ƒä»¥æ¢è¡Œç¬¦å¼€å¤´ï¼Œåè·ŸåŒå¼•å·ï¼Œå•å¼•å·ï¼Œåæ–œæ å­—ç¬¦ï¼Œä»¥åŠï¼ˆæ²¡æœ‰åˆ†éš”ç¬¦ï¼‰å­—ç¬¦åºåˆ— "),t("code",[e._v("\"'\\abcdef")]),e._v(" ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“·-ç”¨ç©ºæ ¼åˆ†å¼€çš„å­—ç¬¦ä¸²"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-ç”¨ç©ºæ ¼åˆ†å¼€çš„å­—ç¬¦ä¸²"}},[e._v("#")]),e._v(" â“· ç”¨ç©ºæ ¼åˆ†å¼€çš„å­—ç¬¦ä¸²")]),e._v(" "),t("p",[e._v("ç”¨ç©ºæ ¼åˆ†å¼€çš„ "),t("code",[e._v('"foo" "bar"')]),e._v(" ç­‰æ•ˆäº "),t("code",[e._v('"foobar"')]),e._v(",")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    string public a = "a" "b";\n}\n')])])]),t("h3",{attrs:{id:"_7-unicode-å­—é¢å¸¸é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-unicode-å­—é¢å¸¸é‡"}},[e._v("#")]),e._v(" 7.Unicode å­—é¢å¸¸é‡")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-9"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=21",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: Unicode å­—é¢å¸¸é‡")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=TXLpJPK3ZiU&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=21",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: Unicode å­—é¢å¸¸é‡")])])]),e._v(" "),t("p",[e._v("å¸¸è§„å­—ç¬¦ä¸²æ–‡å­—åªèƒ½åŒ…å« ASCIIï¼Œè€Œ Unicode æ–‡å­—ï¼ˆä»¥å…³é”®å­— unicode ä¸ºå‰ç¼€ï¼‰å¯ä»¥åŒ…å«ä»»ä½•æœ‰æ•ˆçš„ UTF-8 åºåˆ—ã€‚ å®ƒä»¬è¿˜æ”¯æŒä¸è½¬ä¹‰åºåˆ—å®Œå…¨ç›¸åŒçš„å­—ç¬¦ä½œä¸ºå¸¸è§„å­—ç¬¦ä¸²æ–‡å­—ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    string  public a = unicode"åŒå¿—ä»¬å¥½";\n}\n')])])]),t("h3",{attrs:{id:"_8-åå…­è¿›åˆ¶å­—é¢å¸¸é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-åå…­è¿›åˆ¶å­—é¢å¸¸é‡"}},[e._v("#")]),e._v(" 8.åå…­è¿›åˆ¶å­—é¢å¸¸é‡")]),e._v(" "),t("p",[e._v("åå…­è¿›åˆ¶å­—é¢å¸¸é‡ä»¥å…³é”®å­— "),t("code",[e._v("hex")]),e._v(" æ‰“å¤´ï¼Œåé¢ç´§è·Ÿç€ç”¨å•å¼•å·æˆ–åŒå¼•å·å¼•èµ·æ¥çš„å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚ï¼Œ"),t("code",[e._v('hex"001122FF"')]),e._v(" ï¼‰ã€‚ å­—ç¬¦ä¸²çš„å†…å®¹å¿…é¡»æ˜¯ä¸€ä¸ªåå…­è¿›åˆ¶çš„å­—ç¬¦ä¸²ï¼Œå®ƒä»¬çš„å€¼å°†ä½¿ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºã€‚")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-10"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=22",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: åå…­è¿›åˆ¶å­—é¢å¸¸é‡")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=kGhNA01b9AI&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=22",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: åå…­è¿›åˆ¶å­—é¢å¸¸é‡")])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-åŸºæœ¬ç”¨æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-åŸºæœ¬ç”¨æ³•"}},[e._v("#")]),e._v(" â“µ åŸºæœ¬ç”¨æ³•")]),e._v(" "),t("p",[e._v("å®ƒä»¬çš„å†…å®¹å¿…é¡»æ˜¯åå…­è¿›åˆ¶æ•°å­—ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨å•ä¸ªä¸‹åˆ’çº¿ä½œä¸ºå­—èŠ‚è¾¹ç•Œåˆ†éš”ç¬¦ã€‚ "),t("strong",[e._v("å­—é¢å¸¸é‡çš„å€¼å°†æ˜¯åå…­è¿›åˆ¶åºåˆ—çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼")]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    string public a1 = "a";\n    bytes1 public a2 = "a";\n    bytes1 public a3 = 0x61;\n    bytes1 public a4 = hex"61";\n}\n')])])]),t("h4",{attrs:{id:"â“¶-ç”¨ç©ºæ ¼åˆ†å¼€çš„åå…­è¿›åˆ¶å­—é¢å¸¸é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-ç”¨ç©ºæ ¼åˆ†å¼€çš„åå…­è¿›åˆ¶å­—é¢å¸¸é‡"}},[e._v("#")]),e._v(" â“¶ ç”¨ç©ºæ ¼åˆ†å¼€çš„åå…­è¿›åˆ¶å­—é¢å¸¸é‡")]),e._v(" "),t("p",[e._v("ç”¨ç©ºæ ¼åˆ†éš”çš„å¤šä¸ªåå…­è¿›åˆ¶å­—é¢å¸¸é‡è¢«åˆå¹¶ä¸ºä¸€ä¸ªå­—é¢å¸¸é‡ï¼š "),t("code",[e._v('hex"61" hex"61"')]),e._v(" ç­‰åŒäº "),t("code",[e._v('hex"6161"')])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    bytes2 public a = hex"61" hex"61";\n}\n')])])]),t("p",[e._v("åå…­è¿›åˆ¶å­—é¢å¸¸é‡è·Ÿ å­—ç¬¦ä¸²å­—é¢å¸¸é‡ å¾ˆç±»ä¼¼ï¼Œå…·æœ‰ç›¸åŒçš„è½¬æ¢è§„åˆ™")]),e._v(" "),t("h3",{attrs:{id:"_9-enum-æšä¸¾"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-enum-æšä¸¾"}},[e._v("#")]),e._v(" 9.Enum:æšä¸¾")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-11"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-11"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=23",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: Enum:æšä¸¾")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=mwU1Os9kjkQ&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=23",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: Enum:æšä¸¾")])])]),e._v(" "),t("p",[t("code",[e._v("enum")]),e._v(" æ˜¯ä¸€ç§ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºå¤šç§çŠ¶æ€ï¼Œæšä¸¾å¯ç”¨æ¥åˆ›å»ºç”±ä¸€å®šæ•°é‡çš„â€œå¸¸é‡å€¼â€æ„æˆçš„è‡ªå®šä¹‰ç±»å‹ã€‚ä¸»è¦ä½œç”¨æ˜¯ç”¨äºé™åˆ¶æŸä¸ªäº‹åŠ¡çš„æœ‰é™é€‰æ‹©ã€‚æ¯”å¦‚å°†å’–å•¡çš„å®¹é‡å¤§å°é™åˆ¶ä¸ºï¼šå¤§ã€ä¸­ã€å°ï¼Œè¿™å°†ç¡®ä¿ä»»ä½•äººä¸èƒ½è´­ä¹°å…¶ä»–å®¹é‡çš„å’–å•¡ï¼Œåªèƒ½åœ¨è¿™é‡Œé€‰æ‹©ã€‚")]),e._v(" "),t("p",[e._v("æšä¸¾é»˜è®¤å€¼æ˜¯ç¬¬ä¸€ä¸ªæˆå‘˜ï¼Œæ‰€ä»¥æšä¸¾ç±»å‹è‡³å°‘éœ€è¦ä¸€ä¸ªæˆå‘˜ï¼Œæšä¸¾ä¸èƒ½å¤šäº 256 ä¸ªæˆå‘˜ã€‚æšä¸¾é»˜è®¤çš„ç±»å‹ä¸º "),t("code",[e._v("uint8")]),e._v("ï¼Œå½“æšä¸¾æ•°è¶³å¤Ÿå¤šæ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å˜æˆ "),t("code",[e._v("uint16")]),e._v("..ç­‰å˜å¤§ã€‚å¯ä»¥é€šè¿‡ remix éƒ¨ç½²åï¼Œå‡½æ•°çš„è¾“å…¥å€¼å†…æŸ¥çœ‹ç±»å‹ "),t("code",[e._v("uint8")]),e._v(" / "),t("code",[e._v("uint16")])]),e._v(" "),t("ul",[t("li",[e._v("æšä¸¾ç±»å‹ï¼Œè¿”å›å€¼æ˜¯ç´¢å¼•ï¼Œé»˜è®¤å€¼æ˜¯ 0;")]),e._v(" "),t("li",[e._v("æšä¸¾ç±»å‹çš„é»˜è®¤å€¼æ˜¯ç¬¬ä¸€ä¸ªå€¼ã€‚\n"),t("ul",[t("li",[e._v("æšä¸¾ç±»å‹ enum è‡³å°‘åº”è¯¥æœ‰ä¸€åæˆå‘˜ã€‚")])])]),e._v(" "),t("li",[e._v("è®¾ç½®çš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½®ä¸ºç´¢å¼•ï¼Œä¹Ÿå¯ä»¥å¯¹åº”çš„æšä¸¾åç§°;")]),e._v(" "),t("li",[e._v("æšä¸¾ç±»å‹ enum å¯ä»¥ä¸æ•´æ•°è¿›è¡Œæ˜¾å¼è½¬æ¢ï¼Œä½†ä¸èƒ½è¿›è¡Œéšå¼è½¬æ¢ã€‚\n"),t("ul",[t("li",[e._v("æ˜¾ç¤ºè½¬æ¢ä¼šåœ¨è¿è¡Œæ—¶æ£€æŸ¥æ•°å€¼èŒƒå›´ï¼Œå¦‚æœä¸åŒ¹é…ï¼Œå°†ä¼šå¼•èµ·å¼‚å¸¸ã€‚")])])])]),e._v(" "),t("p",[t("strong",[e._v("ä¾‹å­")]),e._v(":è€ƒè™‘ä¸€ä¸ªé™åˆ¶ï¼Œå°†äº¤æ˜“çš„çŠ¶æ€é™åˆ¶ä¸ºï¼š"),t("code",[e._v("None")]),e._v("/"),t("code",[e._v("Pending")]),e._v("/"),t("code",[e._v("Shiped")]),e._v("/"),t("code",[e._v("Completed")]),e._v("/"),t("code",[e._v("Rejected")]),e._v("/"),t("code",[e._v("Canceled")]),e._v(" è¿™å‡ ç§ã€‚è¿™å°†ç¡®ä¿äº¤æ˜“çŠ¶æ€ä»…åœ¨åˆ—å‡ºçš„çŠ¶æ€å†…ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Enum {\n    // æšä¸¾ç±»å‹çš„é»˜è®¤å€¼æ˜¯ç¬¬ä¸€ä¸ªå€¼ã€‚\n    // ç»“æ„\n    enum Status {\n        None, // 0\n        Pending, // 1\n        Shiped,// 2\n        Completed,\n        Rejected,\n        Canceled\n    }\n    // å˜é‡\n    Status public status;\n\n    // è®¾ç½®ç´¢å¼•å€¼\n    function set(Status _status) external {\n        status = _status;\n    }\n\n    // ç”±äºæšä¸¾ç±»å‹ä¸å±äº |ABI| çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤å¯¹äºæ‰€æœ‰æ¥è‡ª Solidity å¤–éƒ¨çš„è°ƒç”¨ï¼Œ\n    // "getStatus" çš„ç­¾åä¼šè‡ªåŠ¨è¢«æ”¹æˆ "getStatus() returns (uint8)"ã€‚\n    function getStatus() public view returns (Status) {\n        return status;\n    }\n\n    function getDefaultStatus() public view returns (uint256) {\n        return uint256(status);\n    }\n\n    // è®¾ç½®\n    function ship() external {\n        status = Status.Shiped;\n    }\n\n    // æ¢å¤ä¸º0\n    function reset() external {\n        delete status;\n    }\n}\n')])])]),t("p",[e._v("å¾ˆå¤šäººæ„Ÿè§‰ enum å¾ˆå°‘ç”¨ï¼Œä¸€æ˜¯å› ä¸ºåº”ç”¨åœºæ™¯ç¡®å®æ¯”è¾ƒçª„ï¼ŒäºŒæ˜¯å› ä¸ºå¯ä»¥è¢«å…¶ä»–æ•°æ®ç±»å‹æ‰€ä»£æ›¿ï¼›ä½†æŒ‰ç…§ç¼–ç è§„èŒƒï¼Œé™åˆ¶é€‰æ‹©èŒƒå›´åœºæ™¯ï¼Œé™¤äº† bool ä»¥å¤–çš„ï¼Œæ¨èä½¿ç”¨ enum ç±»å‹æ¥å®šä¹‰ã€‚")]),e._v(" "),t("p",[e._v("æšä¸¾æ˜¯æ˜¾ç¤ºæ‰€æœ‰æ•´å‹ç›¸äº’è½¬æ¢ï¼Œä½†ä¸å…è®¸éšå¼è½¬æ¢ã€‚ä»æ•´å‹æ˜¾å¼è½¬æ¢æšä¸¾ï¼Œä¼šåœ¨è¿è¡Œæ—¶æ£€æŸ¥æ•´æ•°æ—¶å€™åœ¨æšä¸¾èŒƒå›´å†…ï¼Œå¦åˆ™ä¼šå¯¼è‡´å¼‚å¸¸ï¼ˆ Panic å¼‚å¸¸ ï¼‰ã€‚")]),e._v(" "),t("p",[e._v("æšä¸¾è¿˜å¯ä»¥åœ¨åˆçº¦æˆ–åº“å®šä¹‰ä¹‹å¤–çš„æ–‡ä»¶çº§åˆ«ä¸Šå£°æ˜ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“µ-å±æ€§-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-å±æ€§-2"}},[e._v("#")]),e._v(" â“µ å±æ€§")]),e._v(" "),t("p",[e._v("æ•°æ®è¡¨ç¤ºä¸ï¼šé€‰é¡¹ä»"),t("code",[e._v("0")]),e._v("å¼€å§‹çš„æ— ç¬¦å·æ•´æ•°å€¼è¡¨ç¤ºã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“¶-æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-æ–¹æ³•"}},[e._v("#")]),e._v(" â“¶ æ–¹æ³•")]),e._v(" "),t("ul",[t("li",[e._v("delete")]),e._v(" "),t("li",[t("code",[e._v("type(NameOfEnum).min")])]),e._v(" "),t("li",[t("code",[e._v("type(NameOfEnum).max")])])]),e._v(" "),t("p",[e._v("ä½¿ç”¨ "),t("code",[e._v("type(NameOfEnum).min")]),e._v(" å’Œ "),t("code",[e._v("type(NameOfEnum).max")]),e._v(" ä½ å¯ä»¥å¾—åˆ°ç»™å®šæšä¸¾çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Enum {\n    // æšä¸¾ç±»å‹çš„é»˜è®¤å€¼æ˜¯ç¬¬ä¸€ä¸ªå€¼ã€‚\n    enum Status {\n        None,//0\n        Pending,//1\n        Shiped,//2\n        Completed,//3\n        Rejected,//4\n        Canceled// 5\n    }\n\n    function getLargestValue() public pure returns (Status) {\n        return type(Status).max;\n    }\n\n    function getSmallestValue() public pure returns (Status) {\n        return type(Status).min;\n    }\n}\n")])])]),t("h3",{attrs:{id:"_10-ç”¨æˆ·å®šä¹‰çš„å€¼ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10-ç”¨æˆ·å®šä¹‰çš„å€¼ç±»å‹"}},[e._v("#")]),e._v(" 10.ç”¨æˆ·å®šä¹‰çš„å€¼ç±»å‹")]),e._v(" "),t("p",[e._v("Solidity å…è®¸åœ¨ä¸€ä¸ªåŸºæœ¬çš„å€¼ç±»å‹ä¸Šåˆ›å»ºä¸€ä¸ªé›¶æˆæœ¬çš„æŠ½è±¡ã€‚è¿™ç±»ä¼¼äºä¸€ä¸ªåˆ«åï¼Œä½†æœ‰æ›´ä¸¥æ ¼çš„ç±»å‹è¦æ±‚ã€‚")]),e._v(" "),t("p",[e._v("ç”¨æˆ·å®šä¹‰å€¼ç±»å‹ä½¿ç”¨ "),t("code",[e._v("type UserType is DefaultType")]),e._v(" æ¥å®šä¹‰ã€‚")]),e._v(" "),t("p",[e._v("å…¶ä¸­ "),t("code",[e._v("UserType")]),e._v(" æ˜¯æ–°å¼•å…¥çš„ç±»å‹çš„åç§°ï¼Œ "),t("code",[e._v("DefaultType")]),e._v(" å¿…é¡»æ˜¯å†…ç½®çš„å€¼ç±»å‹ï¼ˆâ€åº•å±‚ç±»å‹â€ï¼‰ã€‚è‡ªå®šä¹‰ç±»å‹çš„å€¼çš„æ•°æ®è¡¨ç¤ºåˆ™ç»§æ‰¿è‡ªåº•å±‚ç±»å‹ï¼Œå¹¶ä¸” ABI ä¸­ä¹Ÿä½¿ç”¨åº•å±‚ç±»å‹ã€‚")]),e._v(" "),t("p",[e._v("âš ï¸: ç”¨æˆ·å®šä¹‰çš„ç±»å‹ "),t("code",[e._v("UserType")]),e._v(" æ²¡æœ‰ä»»ä½•è¿ç®—ç¬¦æˆ–ç»‘å®šæˆå‘˜å‡½æ•°ã€‚å³ä½¿æ˜¯æ“ä½œç¬¦ "),t("code",[e._v("==")]),e._v(" ä¹Ÿæ²¡æœ‰å®šä¹‰ã€‚ä¹Ÿä¸å…è®¸ä¸å…¶ä»–ç±»å‹è¿›è¡Œæ˜¾å¼å’Œéšå¼è½¬æ¢ã€‚")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-12"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-12"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=24",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: ç”¨æˆ·å®šä¹‰çš„å€¼ç±»å‹")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=FTVsYfNaDqg&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=24",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 3 èŠ‚å€¼ç±»å‹: ç”¨æˆ·å®šä¹‰çš„å€¼ç±»å‹")])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-æ–¹æ³•"}},[e._v("#")]),e._v(" â“µ æ–¹æ³•")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("UserType.wrap()")]),e._v(": ç”¨æ¥ä»åº•å±‚ç±»å‹è½¬æ¢åˆ°è‡ªå®šä¹‰ç±»å‹")]),e._v(" "),t("li",[t("code",[e._v("UserType.unwrap()")]),e._v(": ä»è‡ªå®šä¹‰ç±»å‹è½¬æ¢åˆ°åº•å±‚ç±»å‹ã€‚")])]),e._v(" "),t("h4",{attrs:{id:"â“¶-ä¾‹å­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-ä¾‹å­"}},[e._v("#")]),e._v(" â“¶ ä¾‹å­")]),e._v(" "),t("p",[e._v("æ¡ˆä¾‹ï¼šä¸€ä¸ª 18 ä½å°æ•°ã€256 bit çš„æµ®ç‚¹ç±»å‹")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// ä½¿ç”¨ç”¨æˆ·å®šä¹‰çš„å€¼ç±»å‹è¡¨ç¤º 18 ä½å°æ•°ã€256 bitçš„æµ®ç‚¹ç±»å‹ã€‚\ntype UFixed256x18 is uint256;\n\n/// åœ¨ UFixed256x18 ä¸Šè¿›è¡Œæµ®ç‚¹æ“ä½œçš„ç²¾ç®€åº“ã€‚\nlibrary FixedMath {\n    uint constant multiplier = 10**18;\n\n    /// ä¸¤ä¸ª UFixed256x18 æ•°ç›¸åŠ ï¼Œ\n    /// æº¢å‡ºæ—¶æ¢å¤ï¼Œä¾èµ–äº uint256 ä¸Šçš„æ£€æŸ¥ç®—æœ¯\n     function add(UFixed256x18 a, UFixed256x18 b) internal pure returns (UFixed256x18) {\n        return UFixed256x18.wrap(UFixed256x18.unwrap(a) + UFixed256x18.unwrap(b));\n    }\n    /// å°† UFixed256x18 å’Œ uint256 ç›¸ä¹˜.\n    /// æº¢å‡ºæ—¶æ¢å¤ï¼Œä¾èµ–äº uint256 ä¸Šçš„æ£€æŸ¥ç®—æœ¯\n     function mul(UFixed256x18 a, uint256 b) internal pure returns (UFixed256x18) {\n        return UFixed256x18.wrap(UFixed256x18.unwrap(a) * b);\n    }\n    ///  UFixed256x18 å‘ä¸‹å–æ•´.\n    /// @return ä¸è¶…è¿‡ `a` çš„æœ€å¤§æ•´æ•°ã€‚\n    function floor(UFixed256x18 a) internal pure returns (uint256) {\n        return UFixed256x18.unwrap(a) / multiplier;\n    }\n    /// å°† uint256 è½¬æ¢ä¸ºç›¸åŒå€¼çš„ UFixed256x18ã€‚\n    /// å¦‚æœæ•´æ•°å¤ªå¤§ï¼Œåˆ™è¿˜åŸã€‚\n    function toUFixed256x18(uint256 a) internal pure returns (UFixed256x18) {\n        return UFixed256x18.wrap(a * multiplier);\n    }\n}\ncontract Test {\n    uint256 a = 1;\n    uint256 b = 2;\n\n    function testAdd() external view returns (UFixed256x18) {\n        return FixedMath.add(FixedMath.toUFixed256x18(a), FixedMath.toUFixed256x18(b));\n    }\n    function testMul() external view returns (UFixed256x18) {\n        return FixedMath.mul(FixedMath.toUFixed256x18(a),b);\n    }\n}\n")])])]),t("p",[e._v("æ³¨æ„ "),t("code",[e._v("UFixed256x18.wrap")]),e._v(" å’Œ "),t("code",[e._v("FixedMath.toUFixed256x18")]),e._v(" çš„ç­¾åç›¸åŒï¼Œä½†æ‰§è¡Œçš„æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„æ“ä½œï¼š")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("UFixed256x18.wrap")]),e._v(" å‡½æ•°è¿”å›ä¸€ä¸ªä¸è¾“å…¥çš„æ•°æ®è¡¨ç¤ºç›¸åŒçš„è‡ªå®šä¹‰å€¼ç±»å‹ï¼ˆ"),t("code",[e._v("UFixed256x18")]),e._v("ï¼‰ã€‚")]),e._v(" "),t("li",[t("code",[e._v("FixedMath.toUFixed256x18")]),e._v("åˆ™è¿”å›ä¸€ä¸ªå…·æœ‰ç›¸åŒæ•°å€¼çš„ "),t("code",[e._v("UFixed256x18")]),e._v(" ã€‚")])]),e._v(" "),t("h2",{attrs:{id:"_4ï¸âƒ£-å€¼ç±»å‹-åœ°å€ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ï¸âƒ£-å€¼ç±»å‹-åœ°å€ç±»å‹"}},[e._v("#")]),e._v(" 4ï¸âƒ£ å€¼ç±»å‹:åœ°å€ç±»å‹")]),e._v(" "),t("p",[e._v("åœ°å€åˆ†ä¸ºå¤–éƒ¨åœ°å€å’Œåˆçº¦åœ°å€ï¼Œæ¯ä¸ªåœ°å€éƒ½æœ‰"),t("strong",[e._v("ä¸€å—æŒä¹…åŒ–å†…å­˜åŒº")]),e._v("ç§°ä¸ºå­˜å‚¨ã€‚")]),e._v(" "),t("p",[e._v("åœ°å€ç±»å‹ä¹Ÿæ˜¯å€¼ç±»å‹ï¼Œå› ä¸ºæ¯”è¾ƒç‰¹æ®Šï¼Œæ‰€ä»¥å•ç‹¬æ‹¿å‡ºæ¥è®²ã€‚åœ°å€ç±»å‹æ˜¯ Solidity è¯­è¨€ç‹¬æœ‰çš„æ•°æ®ç±»å‹ï¼Œè¡¨ç¤ºä»¥å¤ªåŠçš„åœ°å€ç±»å‹ã€‚ç”¨ address è¡¨ç¤ºåœ°å€ï¼Œé•¿åº¦æ˜¯ 20 ä¸ªå­—èŠ‚ï¼›æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„æ˜¯åå…­è¿›åˆ¶çš„åœ°å€æ ¼å¼ï¼Œæ¯”å¦‚: "),t("code",[e._v("0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ac")]),e._v("ï¼›è¿™ç§ç±»å‹é€‚åˆå­˜å‚¨åˆçº¦åœ°å€æˆ–å¤–éƒ¨åœ°å€ã€‚")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-13"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-13"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=25",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 4 èŠ‚: åœ°å€ç±»å‹")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=HH1Ft6AwgzE&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=25",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 4 èŠ‚: åœ°å€ç±»å‹")])]),e._v(" "),t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=26",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 4 èŠ‚: åœ°å€ç±»å‹ code å±æ€§è¡¥å……")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=3w1f8Gc16rk&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=26",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 4 èŠ‚: åœ°å€ç±»å‹ code å±æ€§è¡¥å……")])])]),e._v(" "),t("h3",{attrs:{id:"_1-åœ°å€å­—é¢å¸¸é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-åœ°å€å­—é¢å¸¸é‡"}},[e._v("#")]),e._v(" 1.åœ°å€å­—é¢å¸¸é‡")]),e._v(" "),t("p",[e._v("é€šå¸¸çš„åœ°å€ç±»å‹æ˜¯ "),t("code",[e._v("0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ac")]),e._v(" è¿™æ ·çš„ "),t("a",{attrs:{href:"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-55.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("checksum address"),t("OutboundLink")],1),e._v("ï¼Œã€‚ è€Œæ²¡æœ‰é€šè¿‡æ ¡éªŒæµ‹è¯•, é•¿åº¦åœ¨ 39 åˆ° 41 ä¸ªæ•°å­—ä¹‹é—´çš„åå…­è¿›åˆ¶å­—é¢å¸¸é‡ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯, æ¯”å¦‚ "),t("code",[e._v("0XFFD0D80C48F6C3C5387B7CFA7AA03970BDB926AC")]),e._v(" å°±æ˜¯ä¸€ä¸ªé”™è¯¯ address ç±»å‹ã€‚ä¼šæç¤ºæ­£ç¡®çš„åœ°å€ï¼Œä¹Ÿå¯ä»¥å°†åœ°å€è¾“å…¥åˆ° "),t("a",{attrs:{href:"https://cn.etherscan.com/address/0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926AC",target:"_blank",rel:"noopener noreferrer"}},[e._v("etherscan"),t("OutboundLink")],1),e._v(" è·å–ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    // This looks like an address but has an invalid checksum.\n    // Correct checksummed address: \"0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ac\".\n    // If this is not used as an address, please prepend '00'.\n    // For more information please see\n    // https://docs.soliditylang.org/en/develop/types.html#address-literals\n    // address public a1 = 0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926AC;\n\n    // ç›´æ¥åœ¨æç¤ºç§è·å–åˆ°æ­£ç¡®çš„ checksummed addressï¼Œ\n    // ä¹Ÿå¯ä»¥åœ¨ etherscan ç§å¾—åˆ° checksum åœ°å€ã€‚\n    address public a2 = 0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ac;\n}\n")])])]),t("p",[e._v("å¦‚æœä¸æ€•éº»çƒ¦ï¼Œè¿˜å¯ä»¥é€šè¿‡ SDK æ¥è‡ªå·±è½¬æ¢ "),t("a",{attrs:{href:"https://web3js.readthedocs.io/en/v1.8.0/web3-utils.html#tochecksumaddress",target:"_blank",rel:"noopener noreferrer"}},[e._v("web3.utils.toChecksumAddress(address)"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"_2-address-uint-bytes32-ä¹‹é—´çš„è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-address-uint-bytes32-ä¹‹é—´çš„è½¬æ¢"}},[e._v("#")]),e._v(" 2.address/uint/bytes32 ä¹‹é—´çš„è½¬æ¢")]),e._v(" "),t("ul",[t("li",[e._v("1 å­—èŠ‚ 8 ä½ï¼Œä¸€ä¸ª address æ˜¯ 20 ä¸ªå­—èŠ‚ï¼Œæ˜¯ 160 ä½ï¼Œæ‰€ä»¥ "),t("strong",[e._v("address å¯ä»¥ç”¨ uint160 è¡¨ç¤º")]),e._v("ã€‚")]),e._v(" "),t("li",[e._v("1 å­—èŠ‚å¯ä»¥è¡¨ç¤ºä¸ºä¸¤ä¸ªè¿ç»­çš„åå…­è¿›åˆ¶æ•°å­—ï¼Œæ‰€ä»¥ "),t("strong",[e._v("address å¯ä»¥ç”¨è¿ç»­çš„ 40 ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤º")]),e._v("ã€‚")]),e._v(" "),t("li",[e._v("address ä¸å…è®¸ä»»ä½•ç®—æ•°æ“ä½œ")]),e._v(" "),t("li",[t("code",[e._v("address")]),e._v(" å…è®¸å’Œ "),t("code",[e._v("uint160")]),e._v("ã€ "),t("code",[e._v("æ•´å‹å­—é¢å¸¸é‡")]),e._v("ã€"),t("code",[e._v("bytes20")]),e._v(" åŠ"),t("code",[e._v("åˆçº¦ç±»å‹")]),e._v("ç›¸äº’è½¬æ¢ã€‚\n"),t("ul",[t("li",[e._v("å¦‚æœå°†ä½¿ç”¨è¾ƒå¤§å­—èŠ‚æ•°ç»„ç±»å‹è½¬æ¢ä¸º "),t("code",[e._v("address")]),e._v(" ï¼Œä¾‹å¦‚ "),t("code",[e._v("bytes32")]),e._v(" ï¼Œé‚£ä¹ˆ "),t("code",[e._v("address")]),e._v(" å°†è¢«æˆªæ–­ã€‚")])])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    bytes32 public a =\n        0x111122223333444455556666777788889999AAAABBBBCCCCDDDDEEEEFFFFCCCC;\n\n    // 0x111122223333444455556666777788889999aAaa\n    address public b = address(uint160(bytes20(a)));\n\n    // 0x777788889999AaAAbBbbCcccddDdeeeEfFFfCcCc\n    address public c = address(uint160(uint256(a)));\n}\n")])])]),t("p",[e._v("âš ï¸ï¼šä¸ºäº†å‡å°‘è½¬æ¢æ­§ä¹‰ï¼Œæˆ‘ä»¬åœ¨è½¬æ¢ä¸­æ˜¾å¼æˆªæ–­å¤„ç†ã€‚ ä»¥ 32bytes å€¼ "),t("code",[e._v("0x111122223333444455556666777788889999AAAABBBBCCCCDDDDEEEEFFFFCCCC")]),e._v(" ä¸ºä¾‹ï¼Œ å¦‚æœä½¿ç”¨ "),t("code",[e._v("address(uint160(bytes20(b)))")]),e._v(" ç»“æœæ˜¯ "),t("code",[e._v("0x111122223333444455556666777788889999aAaa")]),e._v("ï¼Œ è€Œä½¿ç”¨ "),t("code",[e._v("address(uint160(uint256(b)))")]),e._v(" ç»“æœæ˜¯ "),t("code",[e._v("0x777788889999AaAAbBbbCcccddDdeeeEfFFfCcCc")]),e._v(" ã€‚")]),e._v(" "),t("p",[e._v("æ³¨æ„ï¼Œç½‘ä¸Šå¾ˆå¤šåœ¨çº¿è½¬æ¢å·¥å…·å¾—åˆ°çš„ç»“æœå¹¶ä¸æ­£ç¡®ï¼Œæ¯”å¦‚: "),t("a",{attrs:{href:"https://tool.oschina.net/hexconvert/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://tool.oschina.net/hexconvert/"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("å¦‚ä¸‹ä¾‹å­è¿›è¡ŒçœŸå®è½¬æ¢ï¼š"),t("code",[e._v("_owner")]),e._v(" åœ¨ä¸€äº›åœ¨çº¿çš„è½¯ä»¶å†…è½¬æ¢çš„ä¸æ­£ç¡®ï¼Œä¸Šé¢çš„ç½‘å€æœ‰ä¸ªå° BUGï¼Œè¾“å…¥åå…­è¿›åˆ¶æ•°æ®çš„æ—¶å€™ï¼Œä¸èƒ½å¸¦ "),t("code",[e._v("0x")]),e._v(" å‰ç¼€ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract test {\n    address _owner; // åå…­è¿›åˆ¶\n    uint160 _ownerUint; // åè¿›åˆ¶\n\n    constructor() {\n        _owner = 0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ac;\n        _ownerUint = 1460450021995508802976443037013257463744970696364;\n    }\n\n    function toUint160() public view returns (uint160) {\n        //è½¬æ¢10è¿›åˆ¶\n        return uint160(_owner);\n    }\n\n    function toAddress() public view returns (address) {\n        return address(_ownerUint);\n    }\n}\n")])])]),t("p",[e._v("æ³¨æ„: è¿™é‡Œè¯´çš„åœ°å€æ˜¯ "),t("code",[e._v("0x123...")]),e._v(" è¿™ç§åå…­è¿›åˆ¶çš„åœ°å€å…¬é’¥ï¼Œè€Œä¸æ˜¯åº”ç”¨å±‚çš„ "),t("code",[e._v("anbang.eth")]),e._v(" è¿™ç§ ENS åœ°å€ã€‚è™½ç„¶åœ¨å¾ˆå¤šé’±åŒ…å¯ä»¥é€šè¿‡"),t("code",[e._v("anbang.eth")]),e._v("æ¥å‘"),t("code",[e._v("0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ac")]),e._v("è½¬è´¦ï¼Œä½†ä»…ä»…æ˜¯åº”ç”¨å±‚çš„ä¸­è½¬æœåŠ¡ã€‚å…·ä½“å¯ä»¥åœ¨ "),t("a",{attrs:{href:"https://etherscan.io/enslookup-search?search=anbang.eth",target:"_blank",rel:"noopener noreferrer"}},[e._v("ä»¥å¤ªåŠæµè§ˆå™¨"),t("OutboundLink")],1),e._v(",æˆ–è€…é’±åŒ…å†…è¾“å…¥ ENS åŸŸåæŸ¥çœ‹ä¸­è½¬é€»è¾‘.ï¼ˆENS æ˜¯ä¸€ç§åˆ«åï¼Œé™¤äº†åœ¨ä»¥å¤ªåŠç½‘ç»œå¯ä»¥ä½¿ç”¨ï¼Œåœ¨ imToken ç­‰é’±åŒ…å†…ï¼Œåœ¨ BTC ç½‘ç»œä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œå®ƒå¹¶ä¸æ˜¯åŒºå—é“¾çš„åº•å±‚ï¼Œè€Œæ˜¯åº”ç”¨å±‚ï¼‰")]),e._v(" "),t("h3",{attrs:{id:"_3-ä¸¤ç§å½¢å¼çš„åœ°å€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-ä¸¤ç§å½¢å¼çš„åœ°å€"}},[e._v("#")]),e._v(" 3.ä¸¤ç§å½¢å¼çš„åœ°å€")]),e._v(" "),t("p",[e._v("åœ¨ç¬¬ä¸€ç« æ¥æ”¶ ETH é‚£ä¸€èŠ‚çš„ä¸‰ä¸ªå…³é”®å­—é‡Œï¼Œä¹Ÿä»‹ç»äº† payableï¼Œè¿™é‡Œå†æ¬¡è®²ä¸€ä¸‹åŠ æ·±å°è±¡ã€‚")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("address")]),e._v("ï¼šä¿å­˜ä¸€ä¸ª 20 å­—èŠ‚çš„å€¼ï¼ˆä»¥å¤ªåŠåœ°å€çš„å¤§å°ï¼‰ã€‚")]),e._v(" "),t("li",[t("code",[e._v("address payable")]),e._v(" ï¼šå¯æ”¯ä»˜åœ°å€ï¼Œä¸ "),t("code",[e._v("address")]),e._v(" ç›¸åŒï¼Œä¸è¿‡æœ‰æˆå‘˜å‡½æ•° "),t("code",[e._v("transfer")]),e._v(" å’Œ "),t("code",[e._v("send")]),e._v(" ã€‚")])]),e._v(" "),t("p",[e._v("å¦‚æœä½ éœ€è¦ "),t("code",[e._v("address")]),e._v(" ç±»å‹çš„å˜é‡ï¼Œå¹¶è®¡åˆ’å‘é€ä»¥å¤ªå¸ç»™è¿™ä¸ªåœ°å€ï¼Œé‚£ä¹ˆå£°æ˜ç±»å‹ä¸º "),t("code",[e._v("address payable")]),e._v(" å¯ä»¥æ˜ç¡®è¡¨è¾¾å‡ºä½ çš„éœ€æ±‚ã€‚ åŒæ ·ï¼Œå°½é‡æ›´æ—©å¯¹ä»–ä»¬è¿›è¡ŒåŒºåˆ†æˆ–è½¬æ¢ã€‚")]),e._v(" "),t("p",[e._v("è¿™ç§åŒºåˆ«èƒŒåçš„æ€æƒ³æ˜¯ "),t("code",[e._v("address payable")]),e._v(" å¯ä»¥å‘å…¶å‘é€ä»¥å¤ªå¸ï¼Œè€Œä¸èƒ½å‘ä¸€ä¸ªæ™®é€šçš„ "),t("code",[e._v("address")]),e._v(" å‘é€ä»¥å¤ªå¸ã€‚æ¯”å¦‚ï¼Œå®ƒå¯èƒ½æ˜¯ä¸€ä¸ªæ™ºèƒ½åˆçº¦åœ°å€ï¼Œå¹¶ä¸”ä¸æ”¯æŒæ¥æ”¶ä»¥å¤ªå¸ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“µ-ä¸¤ç§å½¢å¼çš„åœ°å€è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-ä¸¤ç§å½¢å¼çš„åœ°å€è½¬æ¢"}},[e._v("#")]),e._v(" â“µ ä¸¤ç§å½¢å¼çš„åœ°å€è½¬æ¢")]),e._v(" "),t("p",[e._v("å…è®¸ä» "),t("code",[e._v("address payable")]),e._v(" åˆ° "),t("code",[e._v("address")]),e._v(" çš„éšå¼è½¬æ¢ï¼Œè€Œä» "),t("code",[e._v("address")]),e._v(" åˆ° "),t("code",[e._v("address payable")]),e._v(" å¿…é¡»æ˜¾ç¤ºçš„ é€šè¿‡ "),t("code",[e._v("payable(<address>)")]),e._v(" è¿›è¡Œè½¬æ¢ã€‚ä¹Ÿåªèƒ½é€šè¿‡ "),t("code",[e._v("payable(...)")]),e._v(" è¡¨è¾¾å¼æŠŠ "),t("code",[e._v("address")]),e._v(" ç±»å‹å’Œåˆçº¦ç±»å‹è½¬æ¢ä¸º "),t("code",[e._v("address payable")]),e._v("ã€‚")]),e._v(" "),t("p",[e._v("åœ¨ä»‹ç»åœ°å€ payable æ–¹æ³•æ—¶å€™ä¼šå…·ä½“ä»‹ç»ï¼Œè½¬æ¢çš„æ—¶å€™æ³¨æ„ä¸‹é¢ä¸¤ä¸ªç‚¹ï¼š")]),e._v(" "),t("ol",[t("li",[e._v("åªæœ‰èƒ½æ¥æ”¶ä»¥å¤ªå¸çš„åˆçº¦ç±»å‹ï¼Œæ‰èƒ½å¤Ÿè¿›è¡Œæ­¤è½¬æ¢ã€‚\n"),t("ol",[t("li",[e._v("ä¾‹å¦‚åˆçº¦è¦ä¹ˆæœ‰ receive æˆ–å¯æ”¯ä»˜çš„å›é€€å‡½æ•°ã€‚")])])]),e._v(" "),t("li",[t("code",[e._v("payable(0)")]),e._v(" æ˜¯æœ‰æ•ˆçš„ï¼Œè¿™æ˜¯æ­¤è§„åˆ™çš„ä¾‹å¤–ã€‚")])]),e._v(" "),t("h3",{attrs:{id:"_4-åœ°å€å±æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-åœ°å€å±æ€§"}},[e._v("#")]),e._v(" 4.åœ°å€å±æ€§")]),e._v(" "),t("p",[e._v("address æ‹¥æœ‰å¦‚ä¸‹å±æ€§ï¼›")]),e._v(" "),t("ol",[t("li",[t("p",[e._v(".balance : ä»¥ Wei ä¸ºå•ä½çš„ä½™é¢ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address>.balance    returns(uint256)\n")])])])]),e._v(" "),t("li",[t("p",[e._v(".code : åœ°å€ä¸Šçš„ä»£ç (å¯ä»¥ä¸ºç©º)")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address>.code        returns(bytes memory)\n")])])])]),e._v(" "),t("li",[t("p",[e._v(".codehash : åœ°å€çš„ codehash")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address>.codehash    returns(bytes32)\n")])])])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-balance-å±æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-balance-å±æ€§"}},[e._v("#")]),e._v(" â“µ balance å±æ€§")]),e._v(" "),t("p",[e._v("è·å–åœ°å€çš„ä½™é¢ï¼Œwei å•ä½ã€‚å¦‚ä¸‹ä¾‹å­æ˜¯è·å–æŒ‡å®šåœ°å€çš„ ETH ä½™é¢ï¼Œå’Œå½“å‰è°ƒç”¨è€…çš„ä½™é¢ã€‚ï¼ˆåŸºäºå½“å‰ä½¿ç”¨çš„ç½‘ç»œï¼‰")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    function getBalance1(address addr) public view returns (uint256) {\n        return addr.balance;\n    }\n    function getBalance2() external view returns (uint256) {\n        return address(msg.sender).balance;\n    }\n}\n")])])]),t("p",[e._v("å‡½æ•°å†…ä¸€èˆ¬ä¸åƒä¸Šé¢é‚£ä¹ˆç”¨ï¼Œæ›´å¤šçš„æ˜¯è·å–åˆçº¦æœ¬èº«çš„ ETH ä½™é¢;")]),e._v(" "),t("p",[t("strong",[e._v("å¦‚ä½•è·å–åˆçº¦åœ°å€?")]),e._v(":åˆçº¦éƒ¨ç½²åï¼Œä¼šæœ‰ä¸€ä¸ªåˆçº¦åœ°å€; "),t("strong",[e._v("æ‰€æœ‰åˆçº¦éƒ½å¯ä»¥è½¬æ¢ä¸º address ç±»å‹")]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    function returnContractAddress() external view returns (address) {\n        return address(this);\n    }\n}\n")])])]),t("p",[e._v("å› æ­¤å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("address(this).balance")]),e._v(" æŸ¥è¯¢å½“å‰åˆçº¦çš„ä½™é¢ï¼Œè·å–åˆçº¦æœ¬èº«çš„ ETH ä½™é¢å¦‚ä¸‹")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n    receive() external payable {}\n}\n")])])]),t("p",[e._v("âš ï¸: åœ¨ç‰ˆæœ¬ 0.5.0 ä¹‹å‰ï¼ŒSolidity å…è®¸é€šè¿‡åˆçº¦å®ä¾‹æ¥è®¿é—®åœ°å€çš„æˆå‘˜ï¼Œä¾‹å¦‚ "),t("code",[e._v("this.balance")]),e._v(" ï¼Œä¸è¿‡ç°åœ¨ç¦æ­¢è¿™æ ·åšï¼Œå¿…é¡»æ˜¾å¼è½¬æ¢ä¸ºåœ°å€åè®¿é—®ï¼Œå¦‚ï¼š "),t("code",[e._v("address(this).balance")]),e._v(" ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“¶-code-å±æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-code-å±æ€§"}},[e._v("#")]),e._v(" â“¶ code å±æ€§")]),e._v(" "),t("p",[e._v("å¯ä»¥æŸ¥è¯¢ä»»ä½•æ™ºèƒ½åˆçº¦çš„éƒ¨ç½²ä»£ç ã€‚ä½¿ç”¨ "),t("code",[e._v(".code")]),e._v(" æ¥è·å– EVM çš„å­—èŠ‚ç ï¼Œå…¶è¿”å› "),t("code",[e._v("bytes memory")]),e._v(" ï¼Œå€¼å¯èƒ½æ˜¯ç©ºã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    function getCode() public view returns (bytes memory) {\n        return address(this).code;\n    }\n\n    // å¤–éƒ¨åœ°å€ code å†…å®¹æ˜¯ç©ºï¼Œ\n    // å¯ä»¥é€šè¿‡è¿™ä¸ªæ¥åˆ¤æ–­åœ°å€æ˜¯å¦ä¸ºåˆçº¦\n    function getAdsCode(address a_) public view returns (bytes memory) {\n        return address(a_).code;\n    }\n}\n")])])]),t("p",[e._v("æ³¨æ„:åˆçº¦æ²¡æœ‰å®Œå…¨åˆ›å»ºï¼Œä¹Ÿå°±æ˜¯ constructor æ²¡æœ‰å®Œå…¨æ‰§è¡Œå®Œçš„æ—¶å€™ï¼Œcode ä¹Ÿæ˜¯ç©ºã€‚")]),e._v(" "),t("p",[e._v("ä¸‹é¢æ˜¯å‘ç³–æœçš„åˆçº¦ï¼Œåªå…è®¸ç”¨æˆ·çš„åœ°å€é¢†å–ï¼Œç¦æ­¢åˆçº¦åœ°å€ã€‚ç»“æœè¢«åˆçº¦åœ°å€è–…ç¾Šæ¯›äº†ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// å‘ç³–æœçš„åˆçº¦\ncontract A {\n    uint256 giftValue = 666;\n    mapping(address=>uint256) public gifts;\n\n    function gift() public returns(uint256){\n        bytes memory senderCode = getCode(msg.sender);\n        require(senderCode.length==0,unicode"åªèƒ½ç”¨æˆ·é¢†å–ï¼Œè–…ç¾Šæ¯›çš„åˆçº¦æ»šï¼ï¼ï¼");\n        gifts[msg.sender] = giftValue;\n        return giftValue;\n    }\n\n    function getCode(address ads_) public view returns(bytes memory){\n        return address(ads_).code;\n    }\n}\n\n// è–…ç¾Šæ¯›çš„åˆçº¦\ncontract Test {\n    A a;\n    uint256 public target; // ä¿å­˜è–…ç¾Šæ¯›å¾—åˆ°çš„ç³–æœ\n    constructor(address ads_){\n        target = A(ads_).gift();\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“·-codehash-å±æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-codehash-å±æ€§"}},[e._v("#")]),e._v(" â“· codehash å±æ€§")]),e._v(" "),t("p",[e._v("ä½¿ç”¨ "),t("code",[e._v(".codehash")]),e._v(" è·å¾—åˆçº¦ä»£ç çš„ "),t("code",[e._v("Keccak-256 å“ˆå¸Œå€¼")]),e._v(" (ä¸º bytes32 )ã€‚")]),e._v(" "),t("p",[e._v("æ³¨æ„ï¼Œ "),t("code",[e._v("addr.codehash")]),e._v(" æ¯”ä½¿ç”¨ "),t("code",[e._v("keccak256(addr.code)")]),e._v(" æ›´ä¾¿å®œã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    function getCode() public view returns (bytes memory) {\n        return address(this).code;\n    }\n\n    function getCodeByKeccak256() public view returns (bytes32) {\n        return keccak256(address(this).code);\n    }\n\n    function getCodehash() public view returns (bytes32) {\n        return address(this).codehash;\n    }\n}\n")])])]),t("h3",{attrs:{id:"_5-åœ°å€æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-åœ°å€æ–¹æ³•"}},[e._v("#")]),e._v(" 5.åœ°å€æ–¹æ³•")]),e._v(" "),t("p",[e._v("address æ‹¥æœ‰å¦‚ä¸‹æ–¹æ³•ï¼›")]),e._v(" "),t("ol",[t("li",[t("code",[e._v("address()")]),e._v(": å¯ä»¥å°†åœ°å€è½¬æ¢åˆ°åœ°å€ç±»å‹ã€‚")]),e._v(" "),t("li",[t("code",[e._v("payable()")]),e._v(": å°†æ™®é€šåœ°å€è½¬ä¸ºå¯æ”¯ä»˜åœ°å€ã€‚")]),e._v(" "),t("li",[t("code",[e._v(".transfer(uint256 amount)")]),e._v(": å°†ä½™é¢è½¬åˆ°å½“å‰åœ°å€ï¼ˆåˆçº¦åœ°å€è½¬è´¦ï¼‰")]),e._v(" "),t("li",[t("code",[e._v(".send(uint256 amount)")]),e._v(": å°†ä½™é¢è½¬åˆ°å½“å‰åœ°å€ï¼Œå¹¶"),t("strong",[e._v("è¿”å›äº¤æ˜“æˆåŠŸçŠ¶æ€")]),e._v("ï¼ˆåˆçº¦åœ°å€è½¬è´¦ï¼‰")]),e._v(" "),t("li",[t("code",[e._v(".call(bytes memory)")]),e._v(": ç”¨ç»™å®šçš„æœ‰æ•ˆè½½è·ï¼ˆpayloadï¼‰å‘å‡ºä½çº§ "),t("code",[e._v("CALL")]),e._v(" è°ƒç”¨ï¼Œå¹¶"),t("strong",[e._v("è¿”å›äº¤æ˜“æˆåŠŸçŠ¶æ€å’Œè¿”å›æ•°æ®")]),e._v("ï¼ˆè°ƒç”¨åˆçº¦çš„æ–¹æ³•å¹¶è½¬è´¦ï¼‰")]),e._v(" "),t("li",[t("code",[e._v(".delegatecall(bytes memory)")]),e._v(": ç”¨ç»™å®šçš„æœ‰æ•ˆè½½è·ï¼ˆpayloadï¼‰å‘å‡ºä½çº§ "),t("code",[e._v("DELEGATECALL")]),e._v(" è°ƒç”¨ï¼Œå¹¶"),t("strong",[e._v("è¿”å›äº¤æ˜“æˆåŠŸçŠ¶æ€å’Œè¿”å›æ•°æ®")]),e._v("ï¼ˆè°ƒç”¨åˆçº¦çš„æ–¹æ³•å¹¶è½¬è´¦ï¼‰")]),e._v(" "),t("li",[t("code",[e._v("staticcall(bytes memory)")]),e._v(": ç”¨ç»™å®šçš„æœ‰æ•ˆè½½è·ï¼ˆpayloadï¼‰å‘å‡ºä½çº§ "),t("code",[e._v("STATICCALL")]),e._v(" è°ƒç”¨ï¼Œå¹¶"),t("strong",[e._v("è¿”å›äº¤æ˜“æˆåŠŸçŠ¶æ€å’Œè¿”å›æ•°æ®")]),e._v("ï¼ˆè°ƒç”¨åˆçº¦çš„æ–¹æ³•å¹¶è½¬è´¦ï¼‰")])]),e._v(" "),t("h4",{attrs:{id:"â“µ-address"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-address"}},[e._v("#")]),e._v(" â“µ address()")]),e._v(" "),t("p",[t("strong",[e._v("1.è·å–å½“å‰åˆçº¦åœ°å€")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Address {\n    mapping(address => uint256) public balances; // ç”¨åœ¨ mapping ç»“æ„å†…\n\n    // å­˜æ¬¾\n    function deposit() public payable {\n        balances[msg.sender] += msg.value;\n    }\n\n    function getAddress() external view returns (address) {\n        return address(this);\n    }\n\n    function getBalance1() external view returns (uint256) {\n        return address(this).balance;\n    }\n\n    function getBalance2() external view returns (uint256) {\n        return address(msg.sender).balance;\n    }\n}\n")])])]),t("p",[t("strong",[e._v("2.uint å€¼è½¬æ¢æˆåœ°å€")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    function getAddress()\n        external\n        pure\n        returns (\n            address,\n            address,\n            address,\n            address,\n            address\n        )\n    {\n        return (address(0), address(1), address(3), address(6), address(9));\n    }\n}\n")])])]),t("p",[e._v("è¿”å›ç»“æœå¦‚ä¸‹:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("0: address: 0x0000000000000000000000000000000000000000\n1: address: 0x0000000000000000000000000000000000000001\n2: address: 0x0000000000000000000000000000000000000003\n3: address: 0x0000000000000000000000000000000000000006\n4: address: 0x0000000000000000000000000000000000000009\n")])])]),t("p",[t("strong",[e._v("3.è·å–å³å°†éƒ¨ç½²çš„åœ°å€")])]),e._v(" "),t("p",[e._v("è¿™æ˜¯ "),t("em",[e._v("uint å€¼è½¬æ¢æˆåœ°å€")]),e._v(" çš„ä¸€ç§åº”ç”¨ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    // è·å–å³å°†éƒ¨ç½²çš„åœ°å€\n    function getAddress(bytes memory bytecode, uint256 _salt)\n        external\n        view\n        returns (address)\n    {\n        bytes32 hash = keccak256(\n            abi.encodePacked(\n                bytes1(0xff), // å›ºå®šå­—ç¬¦ä¸²\n                address(this), // å½“å‰å·¥å‚åˆçº¦åœ°å€\n                _salt, // salt\n                keccak256(bytecode) //éƒ¨ç½²åˆçº¦çš„ bytecode\n            )\n        );\n        return address(uint160(uint256(hash)));\n    }\n}\n")])])]),t("h4",{attrs:{id:"â“¶-payable"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-payable"}},[e._v("#")]),e._v(" â“¶ payable()")]),e._v(" "),t("p",[e._v("æ³¨æ„ï¼šæ”¯ä»˜çš„æ—¶å€™ï¼Œåœ°å€å¿…é¡» "),t("code",[e._v("payable")]),e._v(" ç±»å‹ï¼ä» "),t("code",[e._v("address")]),e._v(" åˆ° "),t("code",[e._v("address payable")]),e._v(" çš„è½¬æ¢ã€‚å¯ä»¥é€šè¿‡ "),t("code",[e._v("payable(x)")]),e._v(" è¿›è¡Œ ï¼Œå…¶ä¸­ "),t("code",[e._v("x")]),e._v(" å¿…é¡»æ˜¯ "),t("code",[e._v("address")]),e._v(" ç±»å‹ã€‚")]),e._v(" "),t("p",[e._v("è®©æ™®é€šåœ°å€ä¸º payable æœ‰ä¸¤ç§æ–¹å¼")]),e._v(" "),t("ul",[t("li",[e._v("æ–¹å¼ä¸€: å‚æ•°ä¸­ åœ°å€æ ‡æ³¨ address payable ,å¹¶ä¸”å‡½æ•°çŠ¶æ€å¯å˜æ€§æ ‡ä¸º "),t("code",[e._v("payable")]),e._v(";\n"),t("ul",[t("li",[e._v("è¿™ç§æ›´çœ gas ("),t("strong",[e._v("æ¨è")]),e._v(")")])])]),e._v(" "),t("li",[e._v("æ–¹å¼äºŒ: ä»…åœ¨å†…éƒ¨è¿›è¡Œ "),t("code",[e._v("payable(address)")]),e._v(" æ˜¾ç¤ºè½¬æ¢")])]),e._v(" "),t("h5",{attrs:{id:"ä¾‹å­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¾‹å­"}},[e._v("#")]),e._v(" ä¾‹å­")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Payable {\n    address payable public owner;\n\n    constructor() {\n        // ç›´æ¥èµ‹å€¼ä¼šæŠ¥é”™,å› ä¸º msg.sender ä¸æ˜¯ payable ç±»å‹çš„åœ°å€ã€‚\n        // Type address is not implicitly convertible to expected type address payable.\n        // owner = msg.sender;\n\n        // ä½¿ç”¨ payable å‡½æ•°ï¼Œæ˜¾ç¤ºè½¬æ¢ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚\n        owner = payable(msg.sender);\n    }\n\n    // deposit1 æ²¡æœ‰ payable æ ‡ç¤ºï¼›å¦‚æœä¼ å…¥ETHå¸ï¼Œä¼šæŠ¥é”™\n    // transact to Payable.deposit1 errored: VM error: revert.\n    function deposit1() external {}\n\n    // deposit2 æœ‰ payableï¼Œ æ‰€ä»¥å¯ä»¥å‘é€ETHåˆ°åˆçº¦\n    function deposit2() external payable {}\n\n    function getBalance() external view returns (uint256) {\n        // ä½¿ç”¨ address(this) å°±å¯ä»¥åŒ…è£…å½“å‰åˆçº¦ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨ .balance è·å–ä½™é¢äº†ã€‚\n        return address(this).balance;\n    }\n}\n")])])]),t("p",[t("strong",[e._v("æ³¨æ„ç‚¹")]),e._v(":")]),e._v(" "),t("ul",[t("li",[e._v("å¦‚æœçŠ¶æ€å˜é‡æ˜¯ "),t("code",[e._v("payable")]),e._v(" ç±»å‹ï¼Œèµ‹å€¼çš„æ—¶å€™éœ€è¦ä½¿ç”¨ "),t("code",[e._v("payable()")]),e._v(" è¿›è¡Œæ˜¾ç¤ºè½¬æ¢")]),e._v(" "),t("li",[e._v("å¦‚æœå‡½æ•°æ²¡æœ‰ "),t("code",[e._v("payable")]),e._v(" æ ‡ç¤ºï¼Œé‚£ä¹ˆè°ƒç”¨æ—¶å€™ä¸èƒ½å‘é€ç½‘ç»œä¸»å¸ã€‚\n"),t("ul",[t("li",[e._v("å¦‚æœå°è¯•è¿™ä¹ˆåšä¼šæ”¶åˆ°é”™è¯¯: "),t("code",[e._v("transact to Payable.functionName errored: VM error: revert.")])])])])]),e._v(" "),t("h5",{attrs:{id:"è½¬æ¢-0-åœ°å€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è½¬æ¢-0-åœ°å€"}},[e._v("#")]),e._v(" è½¬æ¢ 0 åœ°å€")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    function getAddress()\n        external\n        pure\n        returns (\n            address,\n            address,\n            address,\n            address,\n            address\n        )\n    {\n        return (address(0), address(1), address(3), address(6), address(999));\n    }\n\n    function getPayaableAddress() external pure returns (address) {\n        // Explicit type conversion not allowed from "int_const 1" to "address payable".\n        // return payable(1);\n        return payable(0);\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“·-transfer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-transfer"}},[e._v("#")]),e._v(" â“· transfer()")]),e._v(" "),t("p",[e._v("å°†ä½™é¢è½¬åˆ°å½“å‰åœ°å€ï¼ˆåˆçº¦åœ°å€è½¬è´¦ï¼‰,è¯­æ³•å¦‚ä¸‹:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address payable>.transfer(uint256 amount)\n")])])]),t("ol",[t("li",[e._v("éœ€è¦ payable address")]),e._v(" "),t("li",[e._v("ä½¿ç”¨å›ºå®šï¼ˆä¸å¯è°ƒèŠ‚ï¼‰çš„ 2300 gas çš„çŸ¿å·¥è´¹ï¼Œé”™è¯¯ä¼š reverts ï¼ˆå›æ»šæ‰€æœ‰çŠ¶æ€ï¼‰\n"),t("ol",[t("li",[e._v("2300 gas è¶³å¤Ÿè½¬è´¦ï¼Œä½†æ˜¯å¦‚æœæ¥æ”¶åˆçº¦å†…çš„ "),t("code",[e._v("fallback")]),e._v(" å’Œ "),t("code",[e._v("receive")]),e._v(" å‡½æ•°æœ‰æ¶æ„ä»£ç ï¼Œå¤æ‚ä»£ç ã€‚å®¹æ˜“å¯¼è‡´ gas è€—å°½çš„é”™è¯¯ã€‚")])])]),e._v(" "),t("li",[e._v("å¤±è´¥æ—¶æŠ›å‡ºå¼‚å¸¸,\n"),t("ol",[t("li",[e._v("å¦‚æœå½“å‰åˆçº¦çš„ä½™é¢ä¸å¤Ÿå¤šï¼Œåˆ™ "),t("code",[e._v("transfer")]),e._v(" å‡½æ•°ä¼šæ‰§è¡Œå¤±è´¥ï¼Œæˆ–è€…å¦‚æœä»¥å¤ªè½¬ç§»è¢«æ¥æ”¶å¸æˆ·æ‹’ç»ï¼Œ "),t("code",[e._v("transfer")]),e._v(" å‡½æ•°åŒæ ·ä¼šå¤±è´¥è€Œè¿›è¡Œå›é€€ã€‚")])])]),e._v(" "),t("li",[e._v("å¦‚æœç›®æ ‡åœ°å€æ˜¯ä¸€ä¸ªåˆçº¦ï¼Œé‚£ä¹ˆç›®æ ‡åˆçº¦å†…éƒ¨çš„ receive/fallback å‡½æ•°ä¼šéšç€è°ƒç”¨ "),t("code",[e._v("transfer")]),e._v("å‡½æ•°ä¸€èµ·æ‰§è¡Œï¼Œè¿™æ˜¯ EVM çš„ç‰¹æ€§ï¼Œæ²¡åŠæ³•é˜»æ­¢ã€‚")])]),e._v(" "),t("p",[e._v("ä¾‹å­æ¼”ç¤º:")]),e._v(" "),t("p",[e._v("æ ¸å¿ƒ: "),t("code",[e._v("_to.transfer(200);")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract SendEth {\n    event Log(string funName, address from, uint256 value, bytes data);\n\n    fallback() external payable {\n        emit Log("fallback", msg.sender, msg.value, msg.data);\n    }\n\n    receive() external payable {\n        emit Log("receive", msg.sender, msg.value, "");\n    }\n\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n\n    // transfer :  åœ°å€å¿…é¡»ä¸º   payable ç±»å‹\n    // æ–¹å¼ä¸€: å‚æ•°ä¸­ åœ°å€æ ‡æ³¨ address payable ,å¹¶ä¸”å‡½æ•°æ ‡æ³¨ payable; è¿™ç§æ›´çœ gas\n    // 28767 gas\n    function transfer1(address payable _to) external payable {\n        _to.transfer(100);\n    }\n\n    // ä¹Ÿå¯ä»¥ åœ¨å†…éƒ¨è¿›è¡Œæ˜¾ç¤ºè½¬æ¢\n    // æ–¹å¼äºŒ: ä»…åœ¨å†…éƒ¨è¿›è¡Œ payable(address) æ˜¾ç¤ºè½¬æ¢\n    // 28813 gas\n    function transfer2(address _to) external {\n        payable(_to).transfer(200);\n    }\n}\n\n')])])]),t("h4",{attrs:{id:"â“¸-send"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-send"}},[e._v("#")]),e._v(" â“¸ send()")]),e._v(" "),t("p",[e._v("å°†ä½™é¢è½¬åˆ°å½“å‰åœ°å€ï¼Œå¹¶"),t("strong",[e._v("è¿”å›äº¤æ˜“æˆåŠŸçŠ¶æ€")]),e._v("ï¼ˆåˆçº¦åœ°å€è½¬è´¦ï¼‰")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address payable>.send(uint256 amount) returns (bool)\n")])])]),t("p",[t("code",[e._v("send")]),e._v(" æ˜¯ "),t("code",[e._v("transfer")]),e._v(" çš„ä½çº§ç‰ˆæœ¬ã€‚å¦‚æœæ‰§è¡Œå¤±è´¥ï¼Œå½“å‰çš„åˆçº¦ä¸ä¼šå› ä¸ºå¼‚å¸¸è€Œç»ˆæ­¢ã€‚"),t("code",[e._v("transfer")]),e._v(" ç­‰ä»·äº"),t("code",[e._v("require(send())")])]),e._v(" "),t("ol",[t("li",[e._v("éœ€è¦ payable address")]),e._v(" "),t("li",[e._v("ä½¿ç”¨å›ºå®šï¼ˆä¸å¯è°ƒèŠ‚ï¼‰çš„ 2300 gas çš„çŸ¿å·¥è´¹ã€‚\n"),t("ol",[t("li",[e._v("gas åŒ"),t("code",[e._v("transfer")]),e._v("ä¸€æ ·çš„æ˜¯ 2300 gas ï¼›è¶³å¤Ÿè½¬è´¦ï¼Œä½†æ˜¯å¦‚æœæ¥æ”¶åˆçº¦å†…çš„ "),t("code",[e._v("fallback")]),e._v(" å’Œ "),t("code",[e._v("receive")]),e._v(" å‡½æ•°æœ‰æ¶æ„ä»£ç ï¼Œå¤æ‚ä»£ç ã€‚å®¹æ˜“å¯¼è‡´ gas è€—å°½çš„é”™è¯¯ã€‚")])])]),e._v(" "),t("li",[e._v("å¤±è´¥æ—¶ä»…ä¼šè¿”å› "),t("code",[e._v("false")]),e._v("ï¼Œä¸ä¼šç»ˆæ­¢æ‰§è¡Œï¼ˆåˆçº¦åœ°å€è½¬è´¦ï¼‰;\n"),t("ol",[t("li",[t("code",[e._v("send()")]),e._v(" æ‰§è¡Œæœ‰ä¸€äº›é£é™©ï¼šä¸ºäº†ä¿è¯å®‰å…¨ï¼Œå¿…é¡»æ£€æŸ¥ send çš„è¿”å›å€¼ï¼Œå¦‚æœäº¤æ˜“å¤±è´¥ï¼Œä¼šå›é€€ä»¥å¤ªå¸ã€‚")])])]),e._v(" "),t("li",[e._v("è¡¥å……ï¼šsend ä¸ transfer å¯¹åº”ï¼Œä½† "),t("strong",[e._v("send æ›´åº•å±‚")]),e._v("ã€‚å¦‚æœæ‰§è¡Œå¤±è´¥ï¼Œtransfer ä¸ä¼šå› å¼‚å¸¸åœæ­¢ï¼Œè€Œ send ä¼šè¿”å› falseã€‚transfer ç›¸å¯¹ send è¾ƒå®‰å…¨")])]),e._v(" "),t("p",[e._v("ä¾‹å­æ¼”ç¤º:")]),e._v(" "),t("p",[e._v("æ ¸å¿ƒ: "),t("code",[e._v("bool success = _to.send(100);")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract SendEth {\n    event Log(string funName, address from, uint256 value, bytes data);\n\n    fallback() external payable {\n        emit Log("fallback", msg.sender, msg.value, msg.data);\n    }\n\n    receive() external payable {\n        emit Log("receive", msg.sender, msg.value, "");\n    }\n\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n\n    // 28791 gas\n    function send1(address payable _to) external payable {\n        bool success = _to.send(100);\n        require(success, "Send Faied");\n    }\n\n    // 28793 gas\n    function send2(address _to) external {\n        bool success = payable(_to).send(100);\n        require(success, "Send Faied");\n    }\n}\n')])])]),t("p",[t("code",[e._v(".transfer(uint256 amount)")]),e._v(" å¤±è´¥æ—¶æŠ›å‡ºå¼‚å¸¸, ç­‰ä»·äº"),t("code",[e._v("require(send())")]),e._v(" ä½¿ç”¨å›ºå®šï¼ˆä¸å¯è°ƒèŠ‚ï¼‰çš„ 2300 gas çš„çŸ¿å·¥è´¹ï¼Œé”™è¯¯ä¼š reverts.")]),e._v(" "),t("h4",{attrs:{id:"â“¹-call-delegatecall-staticcall"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¹-call-delegatecall-staticcall"}},[e._v("#")]),e._v(" â“¹ call/delegatecall/staticcall")]),e._v(" "),t("p",[e._v("ä¸ºäº†ä¸ä¸çŸ¥é“ ABI çš„åˆçº¦è¿›è¡Œäº¤äº’ï¼ŒSolidity æä¾›äº†å‡½æ•° "),t("code",[e._v("call")]),e._v("/"),t("code",[e._v("delegatecall")]),e._v("/"),t("code",[e._v("staticcall")]),e._v(" ç›´æ¥æ§åˆ¶ç¼–ç ã€‚å®ƒä»¬éƒ½å¸¦æœ‰ä¸€ä¸ª "),t("code",[e._v("bytes memory")]),e._v(" å‚æ•°å’Œè¿”å›æ‰§è¡Œ"),t("strong",[e._v("æˆåŠŸçŠ¶æ€")]),e._v("ï¼ˆboolï¼‰å’Œ"),t("strong",[e._v("æ•°æ®")]),e._v("ï¼ˆbytes memoryï¼‰ã€‚")]),e._v(" "),t("p",[e._v("å‡½æ•° "),t("code",[e._v("abi.encode")]),e._v("ï¼Œ"),t("code",[e._v("abi.encodePacked")]),e._v("ï¼Œ"),t("code",[e._v("abi.encodeWithSelector")]),e._v(" å’Œ "),t("code",[e._v("abi.encodeWithSignature")]),e._v(" å¯ç”¨äºç¼–ç ç»“æ„åŒ–æ•°æ®ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("å®ƒä»¬å¯ä»¥æ¥å—ä»»æ„ç±»å‹ï¼Œä»»æ„æ•°é‡çš„å‚æ•°")]),e._v("ã€‚è¿™äº›å‚æ•°ä¼šè¢«æ‰“åŒ…åˆ°ä»¥ 32 å­—èŠ‚ä¸ºå•ä½çš„è¿ç»­åŒºåŸŸä¸­å­˜æ”¾ã€‚å…¶ä¸­ä¸€ä¸ª"),t("strong",[e._v("ä¾‹å¤–æ˜¯å½“ç¬¬ä¸€ä¸ªå‚æ•°è¢«ç¼–ç æˆæ­£å¥½ 4 ä¸ªå­—èŠ‚çš„æƒ…å†µ")]),e._v("ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå‚æ•°åè¾¹ä¸ä¼šå¡«å……åç»­å‚æ•°ç¼–ç ï¼Œä»¥å…è®¸ä½¿ç”¨å‡½æ•°ç­¾åã€‚")]),e._v(" "),t("p",[e._v("ä¸‹é¢å…·ä½“çš„ä»‹ç»ä¸‰ç§ callã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“º-call"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“º-call"}},[e._v("#")]),e._v(" â“º call()")]),e._v(" "),t("p",[e._v("ç”¨ç»™å®šçš„æœ‰æ•ˆè½½è·ï¼ˆpayloadï¼‰å‘å‡ºä½çº§ "),t("code",[e._v("CALL")]),e._v(" è°ƒç”¨ï¼Œå¹¶"),t("strong",[e._v("è¿”å›äº¤æ˜“æˆåŠŸçŠ¶æ€å’Œè¿”å›æ•°æ®")]),e._v("ï¼ˆè°ƒç”¨åˆçº¦çš„æ–¹æ³•å¹¶è½¬è´¦ï¼‰, æ ¼å¼å¦‚ä¸‹ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address>.call(bytes memory) returns (bool, bytes memory)\n")])])]),t("ol",[t("li",[e._v("ä½çº§ "),t("code",[e._v("CALL")]),e._v(" è°ƒç”¨ï¼šä¸éœ€è¦ payable address, æ™®é€šåœ°å€å³å¯\n"),t("ol",[t("li",[e._v("æ³¨æ„: è°ƒç”¨ "),t("code",[e._v("call")]),e._v(" çš„æ—¶å€™ï¼Œåœ°å€å¯ä»¥ä¸å…·å¤‡ payable å±æ€§")])])]),e._v(" "),t("li",[e._v("è¿”å›ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ª "),t("code",[e._v("bool")]),e._v(" å€¼ä»£è¡¨æˆåŠŸæˆ–è€…å¤±è´¥ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å¯èƒ½å­˜åœ¨çš„ "),t("code",[e._v("data")])]),e._v(" "),t("li",[e._v("å‘é€æ‰€æœ‰å¯ç”¨ gasï¼Œä¹Ÿå¯ä»¥è‡ªå·±è°ƒèŠ‚ gasã€‚\n"),t("ol",[t("li",[e._v("å¦‚æœ "),t("code",[e._v("fallback")]),e._v(" å’Œ "),t("code",[e._v("receive")]),e._v(" å†…çš„ä»£ç ç›¸å¯¹å¤æ‚ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯å¦‚æœæ˜¯æ¶æ„ä»£ç ï¼Œéœ€è¦è€ƒè™‘æ¶ˆè€—çš„ gas æ˜¯å¦å€¼å¾—æ‰§è¡Œã€‚")]),e._v(" "),t("li",[t("code",[e._v("_ads.call{value: msg.value,gas:2300}(data)")])])])]),e._v(" "),t("li",[e._v("å½“åˆçº¦è°ƒç”¨åˆçº¦æ—¶ï¼Œä¸çŸ¥é“å¯¹æ–¹æºç å’Œ ABI æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ call è°ƒç”¨å¯¹æ–¹åˆçº¦")]),e._v(" "),t("li",[e._v("æ¨èä½¿ç”¨ call è½¬è´¦ ETHï¼Œä½†æ˜¯ä¸æ¨èä½¿ç”¨ call æ¥è°ƒç”¨å…¶ä»–åˆçº¦ã€‚\n"),t("ol",[t("li",[e._v("åŸå› æ˜¯: call è°ƒç”¨çš„æ—¶å€™ï¼Œå°†åˆçº¦æ§åˆ¶æƒäº¤ç»™å¯¹æ–¹ï¼Œå¦‚æœç¢°åˆ°æ¶æ„ä»£ç ï¼Œæˆ–è€…ä¸å®‰å…¨çš„ä»£ç å°±å¾ˆå®¹æ˜“å‡‰å‡‰ã€‚")])])]),e._v(" "),t("li",[e._v("å½“è°ƒç”¨ä¸å­˜åœ¨çš„åˆçº¦æ–¹æ³•æ—¶å€™ï¼Œä¼šè§¦å‘å¯¹æ–¹åˆçº¦å†…çš„ "),t("code",[e._v("fallback")]),e._v(" æˆ–è€… "),t("code",[e._v("receive")]),e._v("ã€‚\n"),t("ol",[t("li",[e._v("æˆ‘ä»¬çš„åˆçº¦ä¹Ÿå¯ä»¥åœ¨ "),t("code",[e._v("fallback")]),e._v(" / "),t("code",[e._v("receive")]),e._v(" è¿™ä¸¤ä¸ªæ–¹æ³•å†…æŠ›å‡ºäº‹ä»¶ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰äººå¯¹å…¶åšäº†ä»€ä¹ˆæ“ä½œã€‚")])])]),e._v(" "),t("li",[e._v("ä¸‰ç§æ–¹æ³•éƒ½æä¾› "),t("code",[e._v("gas")]),e._v(" é€‰é¡¹ï¼Œè€Œ "),t("code",[e._v("value")]),e._v(" é€‰é¡¹ä»… "),t("code",[e._v("call")]),e._v(" æ”¯æŒ ã€‚ä¸‰ç§ call é‡Œåªæœ‰ "),t("code",[e._v("call")]),e._v(" å¯ä»¥è¿›è¡Œ ETH è½¬è´¦ï¼Œå…¶ä»–ä¸¤ç§ä¸å¯ä»¥è¿›è¡Œè½¬è´¦ã€‚")])]),e._v(" "),t("p",[t("strong",[e._v("ä¾‹å­ 1:å‘é€ ETH")])]),e._v(" "),t("p",[e._v("æ ¸å¿ƒ: "),t("code",[e._v('(bool success, ) = _to.call{value: 100}("");')])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract SendEth {\n    event Log(string funName, address from, uint256 value, bytes data);\n\n    fallback() external payable {\n        emit Log("fallback", msg.sender, msg.value, msg.data);\n    }\n\n    receive() external payable {\n        emit Log("receive", msg.sender, msg.value, "");\n    }\n\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n\n    // 29005\n    function call1(address payable _to) external payable {\n        (bool success, bytes memory data) = _to.call{value: 100}("");\n        require(success, "call Faied");\n    }\n\n    // 29007\n    function call2(address _to) external {\n        (bool success, bytes memory data) = payable(_to).call{value: 100}("");\n        require(success, "call Faied");\n    }\n}\n')])])]),t("p",[t("strong",[e._v("ä¾‹å­ 2ï¼ˆé‡è¦ï¼‰ï¼šè°ƒç”¨å…¶ä»–åˆçº¦æ–¹æ³•")])]),e._v(" "),t("p",[t("strong",[e._v("å®Œæ•´ä»£ç å¦‚ä¸‹")]),e._v(":")]),e._v(" "),t("p",[e._v("åˆ†åˆ«ä½¿ç”¨ "),t("code",[e._v("Test1")]),e._v(" å’Œ "),t("code",[e._v("Test2")]),e._v(" çš„åœ°å€è¿›è¡Œæµ‹è¯•ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test1 {\n    string public name;\n    uint256 public age;\n    address public owner;\n    event Log(string message);\n\n    fallback() external payable {\n        emit Log("fallback was called");\n    }\n\n    receive() external payable {\n        emit Log("receive was called");\n    }\n\n    function setNameAndAge(string memory name_, uint256 age_)\n        external\n        payable\n        returns (string memory __name, uint256 __age)\n    {\n        name = name_;\n        age = age_;\n        owner = msg.sender;\n        return (name_, age_);\n    }\n\n    // è·å–åˆçº¦çš„ä½™é¢\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n}\n\ncontract Test2 {}\n\ncontract CallTest {\n    // éœ€è¦ä¸€ä¸ªç½‘é¡µï¼ŒåŠ¨æ€çš„è§£æ _bys\n    bytes public bys;\n\n    function call_Test1_setNameAndAge(\n        address ads_,\n        string memory name_,\n        uint256 age_\n    ) external payable {\n        bytes memory data = abi.encodeWithSignature(\n            "setNameAndAge(string,uint256)",\n            name_,\n            age_\n        );\n        (bool success, bytes memory _bys) = ads_.call{value: msg.value}(data);\n        require(success, "Call Failed");\n        bys = _bys;\n    }\n}\n')])])]),t("p",[e._v("ç®€å•è¯´ä¸‹è¿™ä¸ªä¾‹å­çš„åŸç†")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/**\næ™®é€šè°ƒç”¨\nç”¨æˆ·A è°ƒç”¨ callB åˆçº¦, å‘é€ 100 wei ; callB è°ƒç”¨ Test1, å‘é€ 50 wei\næ­¤æ—¶åœ¨ Test1 åˆçº¦å†…éƒ¨\n        msg.sender = B\n        msg.value = 50\n        Test1 å†…éƒ¨å¦‚æœæœ‰çŠ¶æ€å˜é‡ä¿®æ”¹ï¼Œåˆ™ä¼šè¢«ä¿®æ”¹\n        å‘é€åˆ° Test1 å†…çš„ETHä¸»å¸ä¹Ÿä¼šè¢«ç•™åœ¨Test1å†…\n */\n")])])]),t("p",[t("strong",[e._v("call æ ¸å¿ƒä»£ç å¦‚ä¸‹")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('bytes memory data = abi.encodeWithSignature(\n    "setNameAndAge(string,uint256)",\n    _name,\n    _age\n);\n(bool success, bytes memory _bys) = _ads.call{value: msg.value}(data);\nrequire(success, "Call Failed");\nbys = _bys;\n')])])]),t("h4",{attrs:{id:"â“»-delegatecall-å§”æ‰˜è°ƒç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“»-delegatecall-å§”æ‰˜è°ƒç”¨"}},[e._v("#")]),e._v(" â“» delegatecall() å§”æ‰˜è°ƒç”¨")]),e._v(" "),t("p",[e._v("å‘å‡ºä½çº§å‡½æ•° "),t("code",[e._v("DELEGATECALL")]),e._v("ï¼Œå¤±è´¥æ—¶è¿”å› falseï¼Œå‘é€æ‰€æœ‰å¯ç”¨ gasï¼Œä¹Ÿå¯ä»¥è‡ªå·±è°ƒèŠ‚ gasã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address>.delegatecall(bytes memory) returns (bool, bytes memory)\n")])])]),t("p",[t("code",[e._v("delegatecall")]),e._v(" ä½¿ç”¨æ–¹æ³•å’Œ "),t("code",[e._v("call")]),e._v(" å®Œå…¨ä¸€æ ·ã€‚åŒºåˆ«åœ¨äºï¼Œ"),t("code",[e._v("delegatecall")]),e._v(" åªè°ƒç”¨ç»™å®šåœ°å€çš„ä»£ç ï¼ˆå‡½æ•°ï¼‰ï¼Œå…¶ä»–çŠ¶æ€å±æ€§å¦‚ï¼ˆå­˜å‚¨ï¼Œä½™é¢ â€¦ï¼‰éƒ½æ¥è‡ªå½“å‰åˆçº¦ã€‚"),t("code",[e._v("delegatecall")]),e._v(" çš„ç›®çš„æ˜¯ä½¿ç”¨å¦ä¸€ä¸ªåˆçº¦ä¸­çš„åº“ä»£ç ã€‚")]),e._v(" "),t("p",[e._v("å§”æ‰˜è°ƒç”¨æ˜¯ï¼š"),t("strong",[e._v("å§”æ‰˜å¯¹æ–¹è°ƒç”¨è‡ªå·±æ•°æ®çš„")]),e._v("ã€‚ç±»ä¼¼æˆæƒè½¬è´¦ï¼Œæ¯”å¦‚æˆ‘éƒ¨ç½²ä¸€ä¸ª Bank åˆçº¦ï¼Œ æˆæƒ ContractA ä½¿ç”¨ Bank åœ°å€å†…çš„èµ„é‡‘ï¼ŒContractA åªæ‹¥æœ‰æ§åˆ¶æƒï¼Œä½†æ˜¯æ²¡æœ‰æ‹¥æœ‰æƒã€‚")]),e._v(" "),t("ul",[t("li",[e._v("å§”æ‰˜è°ƒç”¨åï¼Œæ‰€æœ‰å˜é‡ä¿®æ”¹éƒ½æ˜¯å‘ç”Ÿåœ¨å§”æ‰˜åˆçº¦å†…éƒ¨ï¼Œå¹¶ä¸ä¼šä¿å­˜åœ¨è¢«å§”æ‰˜åˆçº¦ä¸­ã€‚\n"),t("ul",[t("li",[e._v("åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå¯ä»¥é€šè¿‡æ›´æ¢è¢«å§”æ‰˜åˆçº¦ï¼Œæ¥å‡çº§å§”æ‰˜åˆçº¦ã€‚")])])]),e._v(" "),t("li",[e._v("å§”æ‰˜è°ƒç”¨åˆçº¦å†…éƒ¨ï¼Œéœ€è¦å’Œè¢«å§”æ‰˜åˆçº¦çš„å†…éƒ¨å‚æ•°å®Œå…¨ä¸€æ ·ï¼Œå¦åˆ™å®¹æ˜“å¯¼è‡´æ•°æ®æ··ä¹±\n"),t("ul",[t("li",[e._v("å¯ä»¥é€šè¿‡é¡ºåºæ¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æ¨èå®Œå…¨ä¸€æ ·")])])])]),e._v(" "),t("p",[t("strong",[e._v("ä¾‹å­ 1ï¼ˆé‡è¦ï¼‰")])]),e._v(" "),t("p",[e._v("ä»£ç å¦‚ä¸‹:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("DelegateCall")]),e._v(" æ˜¯å§”æ‰˜åˆçº¦")]),e._v(" "),t("li",[t("code",[e._v("TestVersion1")]),e._v(" æ˜¯ç¬¬ 1 æ¬¡è¢«å§”æ‰˜åˆçº¦")]),e._v(" "),t("li",[t("code",[e._v("TestVersion2")]),e._v(" æ˜¯ç¬¬ 2 æ¬¡è¢«å§”æ‰˜åˆçº¦")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// åˆçº¦ç‰ˆæœ¬ V.1\ncontract TestVersion1 {\n    address public sender;\n    uint256 public value;\n    uint256 public num;\n\n    function set(uint256 num_) external payable {\n        sender = msg.sender;\n        value = msg.value;\n        num = num_;\n    }\n}\n\n// åˆçº¦ç‰ˆæœ¬ V.2\ncontract TestVersion2 {\n    address public sender;\n    uint256 public value;\n    uint256 public num;\n\n    function set(uint256 num_) external payable {\n        sender = msg.sender;\n        value = msg.value;\n        num = num_ * 2;\n    }\n}\n\n// å§”æ‰˜è°ƒç”¨æµ‹è¯•\ncontract DelegateCall {\n    address public sender;\n    uint256 public value;\n    uint256 public num;\n\n    function set(address _ads, uint256 num_) external payable {\n        sender = msg.sender;\n        value = msg.value;\n        num = num_;\n        // ç¬¬1ç§ encode\n        // ä¸éœ€çŸ¥é“åˆçº¦åå­—ï¼Œå‡½æ•°å®Œå…¨è‡ªå®šä¹‰\n        bytes memory data1 = abi.encodeWithSignature("set(uint256)", num_);\n        // ç¬¬2ç§ encode\n        // éœ€è¦åˆçº¦åå­—ï¼Œå¯ä»¥é¿å…å‡½æ•°å’Œå‚æ•°å†™é”™\n        bytes memory data2 = abi.encodeWithSelector(TestVersion1.set.selector, num_);\n\n        (bool success, bytes memory _data) = _ads.delegatecall(data2);\n\n        require(success, "DelegateCall set failed");\n    }\n}\n')])])]),t("p",[e._v("ç®€å•è¯´ä¸‹è¿™ä¸ªä¾‹å­çš„åŸç†")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/**\nå§”æ‰˜è°ƒç”¨\nç”¨æˆ·A è°ƒç”¨ DelegateCallB åˆçº¦, å‘é€ 100 wei ; DelegateCallB å§”æ‰˜è°ƒç”¨ Test1\næ­¤æ—¶åœ¨ Test1 åˆçº¦å†…éƒ¨\n        msg.sender = A\n        msg.value = 100\n        Test1 å†…éƒ¨å¦‚æœæœ‰çŠ¶æ€å˜é‡ä¿®æ”¹ï¼Œä¹Ÿä¸ä¼šè¢«ä¿®æ”¹ï¼Œä¼šåœ¨DelegateCallB å†…æ”¹å˜\n        å‘é€åˆ° Test1 å†…çš„ETHä¸»å¸ï¼Œä¼šè¢«ç•™åœ¨ DelegateCallB å†…ï¼Œä¸ä¼šåœ¨Test1 å†…\n */\n")])])]),t("h4",{attrs:{id:"â“¼-staticcall-é™æ€è°ƒç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¼-staticcall-é™æ€è°ƒç”¨"}},[e._v("#")]),e._v(" â“¼ staticcall() é™æ€è°ƒç”¨")]),e._v(" "),t("p",[e._v("ç”¨ç»™å®šçš„æœ‰æ•ˆè½½è·ï¼ˆpayloadï¼‰å‘å‡ºä½çº§ "),t("code",[e._v("STATICCALL")]),e._v(" è°ƒç”¨ï¼Œå¹¶"),t("strong",[e._v("è¿”å›äº¤æ˜“æˆåŠŸçŠ¶æ€å’Œè¿”å›æ•°æ®")]),e._v("ï¼ˆè°ƒç”¨åˆçº¦çš„æ–¹æ³•å¹¶è½¬è´¦ï¼‰")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address>.staticcall(bytes memory) returns (bool, bytes memory)\n")])])]),t("p",[e._v("å®ƒä¸ call åŸºæœ¬ç›¸åŒï¼Œå‘é€æ‰€æœ‰å¯ç”¨ gasï¼Œä¹Ÿå¯ä»¥è‡ªå·±è°ƒèŠ‚ gasï¼Œ"),t("strong",[e._v("ä½†å¦‚æœè¢«è°ƒç”¨çš„å‡½æ•°ä»¥ä»»ä½•æ–¹å¼ä¿®æ”¹çŠ¶æ€å˜é‡ï¼Œéƒ½å°†å›é€€")]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// è¢«è°ƒç”¨çš„åˆçº¦\ncontract Hello1 {\n    function echo() external pure returns (string memory) {\n        return "Hello World!";\n    }\n}\n\ncontract Hello2 {\n    uint8 public a;\n    function echo() external returns (string memory) {\n        a = 1;\n        return "Hello World!";\n    }\n}\n\n// è°ƒç”¨è€…åˆçº¦\ncontract SoldityTest {\n    function callHello(address ads_) external view returns (string memory) {\n        // ç¼–ç è¢«è°ƒç”¨è€…çš„æ–¹æ³•ç­¾å\n        bytes4 methodId = bytes4(keccak256("echo()"));\n\n        // è°ƒç”¨åˆçº¦\n        (bool success, bytes memory data) = ads_.staticcall(\n            abi.encodeWithSelector(methodId)\n        );\n        if (success) {\n            return abi.decode(data, (string));\n        } else {\n            return "error";\n        }\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“½-ä¸‰ç§-call-çš„æ€»ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“½-ä¸‰ç§-call-çš„æ€»ç»“"}},[e._v("#")]),e._v(" â“½ ä¸‰ç§ call çš„æ€»ç»“")]),e._v(" "),t("ol",[t("li",[t("code",[e._v("call")]),e._v(" ï¼Œ "),t("code",[e._v("delegatecall")]),e._v(" å’Œ "),t("code",[e._v("staticcall")]),e._v(" éƒ½æ˜¯éå¸¸ä½çº§çš„å‡½æ•°ï¼Œåº”è¯¥åªæŠŠå®ƒä»¬å½“ä½œæœ€åä¸€æ‹›æ¥ä½¿ç”¨ï¼Œå®ƒä»¬ç ´åäº† Solidity çš„ç±»å‹å®‰å…¨æ€§ã€‚")]),e._v(" "),t("li",[e._v("ä¸‰ç§æ–¹æ³•éƒ½æä¾› "),t("code",[e._v("gas")]),e._v(" é€‰é¡¹ï¼Œè€Œ "),t("code",[e._v("value")]),e._v(" é€‰é¡¹ä»… "),t("code",[e._v("call")]),e._v(" æ”¯æŒ ã€‚æ‰€ä»¥ä¸‰ç§ call é‡Œåªæœ‰ "),t("code",[e._v("call")]),e._v(" å¯ä»¥è¿›è¡Œ ETH è½¬è´¦ï¼Œå…¶ä»–ä¸¤ç§ä¸å¯ä»¥è¿›è¡Œè½¬è´¦ã€‚")]),e._v(" "),t("li",[e._v("ä¸ç®¡æ˜¯è¯»å–çŠ¶æ€è¿˜æ˜¯å†™å…¥çŠ¶æ€ï¼Œæœ€å¥½é¿å…åœ¨åˆçº¦ä»£ç ä¸­ç¡¬ç¼–ç ä½¿ç”¨çš„ gas å€¼ã€‚è¿™å¯èƒ½ä¼šå¼•å…¥"),t("strong",[e._v("é”™è¯¯")]),e._v("ï¼Œè€Œä¸” gas çš„æ¶ˆè€—ä¹Ÿæ˜¯åŠ¨æ€æ”¹å˜çš„ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœåœ¨é€šè¿‡ä½çº§å‡½æ•° "),t("code",[e._v("delegatecall")]),e._v(" å‘èµ·è°ƒç”¨æ—¶éœ€è¦è®¿é—®å­˜å‚¨ä¸­çš„å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªåˆçº¦çš„å­˜å‚¨å¸ƒå±€éœ€è¦ä¸€è‡´ï¼Œä»¥ä¾¿è¢«è°ƒç”¨çš„åˆçº¦ä»£ç å¯ä»¥æ­£ç¡®åœ°é€šè¿‡å˜é‡åè®¿é—®åˆçº¦çš„å­˜å‚¨å˜é‡ã€‚ è¿™ä¸æ˜¯æŒ‡åœ¨åº“å‡½æ•°è°ƒç”¨ï¼ˆé«˜çº§çš„è°ƒç”¨æ–¹å¼ï¼‰æ—¶æ‰€ä¼ é€’çš„å­˜å‚¨å˜é‡æŒ‡é’ˆéœ€è¦æ»¡è¶³é‚£æ ·æƒ…å†µã€‚")])]),e._v(" "),t("blockquote",[t("p",[e._v("âš ï¸ æ³¨æ„: åœ¨ 0.5.0 ç‰ˆæœ¬ä»¥å‰, "),t("code",[e._v(".call")]),e._v(", "),t("code",[e._v(".delegatecall")]),e._v(" and "),t("code",[e._v(".staticcall")]),e._v(" ä»…ä»…è¿”å›æˆåŠŸçŠ¶æ€ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚")])]),e._v(" "),t("blockquote",[t("p",[e._v("âš ï¸ åœ¨ 0.5.0 ç‰ˆæœ¬ä»¥å‰, è¿˜æœ‰ä¸€ä¸ª "),t("code",[e._v("callcode")]),e._v(" å‡½æ•°ï¼Œç°åœ¨å·²ç»å»é™¤ã€‚")])]),e._v(" "),t("h4",{attrs:{id:"â“¾-transfer-send-call-ä¸‰ç§è½¬è´¦çš„æ€»ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¾-transfer-send-call-ä¸‰ç§è½¬è´¦çš„æ€»ç»“"}},[e._v("#")]),e._v(" â“¾ transfer / send / call ä¸‰ç§è½¬è´¦çš„æ€»ç»“")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    mapping(address => uint256) public balances;\n\n    function deposit() public payable {\n        balances[msg.sender] += msg.value;\n    }\n\n    function byTransfer() public {\n        payable(msg.sender).transfer(100);\n    }\n\n    function bySend() public {\n        bool success = payable(msg.sender).send(100);\n        require(success, "Send Fail");\n    }\n\n    // å¦‚æœä½¿ç”¨ transfer æˆ– send å‡½æ•°å¿…é¡»æ·»åŠ fallbackå›é€€å‡½æ•°\n    fallback() external {}\n\n    receive() external payable {}\n}\n')])])]),t("p",[e._v("ç›¸åŒç‚¹:")]),e._v(" "),t("ul",[t("li",[e._v("ä¸‰ç§æ–¹æ³•éƒ½å¯ä»¥è¿›è¡Œè½¬è´¦")]),e._v(" "),t("li",[t("code",[e._v("_to.transfer(100)")]),e._v("ã€"),t("code",[e._v("_to.send(100)")]),e._v("ã€"),t("code",[e._v('_to.call{value: 100}("")')]),e._v(" çš„æ¥æ”¶æ–¹éƒ½æ˜¯"),t("code",[e._v("_to")]),e._v("ã€‚\n"),t("ul",[t("li",[e._v("å¦‚æœ"),t("code",[e._v("_to")]),e._v("æ˜¯åˆçº¦ï¼Œåˆ™åˆçº¦ä¸­å¿…é¡»å¢åŠ  "),t("code",[e._v("fallback")]),e._v(" æˆ–è€… "),t("code",[e._v("receive")]),e._v(" å‡½æ•°ï¼")]),e._v(" "),t("li",[e._v("å¦åˆ™æŠ¥é”™"),t("code",[e._v("In order to receive Ether transfer the contract should have either 'receive' or payable 'fallback' function")])])])])]),e._v(" "),t("p",[e._v("ä¸åŒç‚¹:")]),e._v(" "),t("ul",[t("li",[e._v("ä½çº§ "),t("code",[e._v("CALL")]),e._v(" è°ƒç”¨ï¼šä¸éœ€è¦ "),t("code",[e._v("payable address")]),e._v(" "),t("ul",[t("li",[e._v("transfer å’Œ send åªèƒ½æ˜¯ "),t("code",[e._v("payable address")])])])]),e._v(" "),t("li",[t("code",[e._v("call")]),e._v(" çš„ gas å¯ä»¥åŠ¨æ€è°ƒæ•´\n"),t("ul",[t("li",[e._v("transfer å’Œ send åªèƒ½æ˜¯å›ºå®šåˆ¶ "),t("code",[e._v("2300")])])])]),e._v(" "),t("li",[t("code",[e._v("call")]),e._v(" é™¤äº†å¯ä»¥è½¬è´¦å¤–ï¼Œå¯ä»¥è¿˜å¯ä»¥è°ƒç”¨ä¸çŸ¥é“ ABI çš„æ–¹æ³•ï¼Œè¿˜å¯ä»¥è°ƒç”¨çš„æ—¶å€™è½¬è´¦\n"),t("ul",[t("li",[e._v("å½“è°ƒç”¨ä¸å­˜åœ¨çš„åˆçº¦æ–¹æ³•æ—¶å€™ï¼Œä¼šè§¦å‘å¯¹æ–¹åˆçº¦å†…çš„ "),t("code",[e._v("fallback")]),e._v(" æˆ–è€… "),t("code",[e._v("receive")]),e._v("ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœä½¿ç”¨ "),t("code",[e._v("_to.call{value: 100}(data)")]),e._v("ï¼Œé‚£ä¹ˆ"),t("code",[e._v("data")]),e._v("ä¸­è¢«è°ƒç”¨çš„æ–¹æ³•å¿…é¡»æ·»åŠ  "),t("code",[e._v("payable")]),e._v(" ä¿®é¥°ç¬¦ï¼Œå¦åˆ™è½¬è´¦å¤±è´¥ï¼")]),e._v(" "),t("li",[e._v("å› ä¸ºå¯ä»¥è°ƒç”¨æ–¹æ³•ï¼Œæ‰€ä»¥ call æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œé™¤äº†ä¸€ä¸ª "),t("code",[e._v("bool")]),e._v(" å€¼ä»£è¡¨æˆåŠŸæˆ–è€…å¤±è´¥ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å¯èƒ½å­˜åœ¨çš„ "),t("code",[e._v("data")]),e._v("ï¼Œæ¯”å¦‚åˆ›å»ºåˆçº¦æ—¶å€™å¾—åˆ°éƒ¨ç½²çš„åœ°å€ï¼Œè°ƒç”¨å‡½æ•°æ—¶å€™å¾—åˆ°çš„å‡½æ•°æ”¾å›å€¼ã€‚")])])])]),e._v(" "),t("h4",{attrs:{id:"_0-æ³¨æ„äº‹é¡¹Â·"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-æ³¨æ„äº‹é¡¹Â·"}},[e._v("#")]),e._v(" â“ª æ³¨æ„äº‹é¡¹Â·")]),e._v(" "),t("p",[t("strong",[e._v("send")])]),e._v(" "),t("p",[e._v("ä½¿ç”¨ send æœ‰å¾ˆå¤šå±é™©ï¼šå¦‚æœè°ƒç”¨æ ˆæ·±åº¦å·²ç»è¾¾åˆ° 1024ï¼ˆè¿™æ€»æ˜¯å¯ä»¥ç”±è°ƒç”¨è€…æ‰€å¼ºåˆ¶æŒ‡å®šï¼‰ï¼Œè½¬è´¦ä¼šå¤±è´¥ï¼›å¹¶ä¸”å¦‚æœæ¥æ”¶è€…ç”¨å…‰äº† gasï¼Œè½¬è´¦åŒæ ·ä¼šå¤±è´¥ã€‚ä¸ºäº†ä¿è¯ä»¥å¤ªå¸è½¬è´¦å®‰å…¨ï¼Œæ€»æ˜¯æ£€æŸ¥ send çš„è¿”å›å€¼ï¼Œåˆ©ç”¨ transfer æˆ–è€…ä¸‹é¢æ›´å¥½çš„æ–¹å¼ï¼š ç”¨è¿™ç§æ¥æ”¶è€…å–å›é’±çš„æ¨¡å¼ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("call")])]),e._v(" "),t("p",[e._v("åœ¨æ‰§è¡Œå¦ä¸€ä¸ªåˆçº¦å‡½æ•°æ—¶ï¼Œåº”è¯¥å°½å¯èƒ½é¿å…ä½¿ç”¨ .call() ï¼Œå› ä¸ºå®ƒç»•è¿‡äº†ç±»å‹æ£€æŸ¥ï¼Œå‡½æ•°å­˜åœ¨æ£€æŸ¥å’Œå‚æ•°æ‰“åŒ…ã€‚")]),e._v(" "),t("p",[e._v("ç”±äº EVM ä¼šæŠŠå¯¹ä¸€ä¸ªä¸å­˜åœ¨çš„åˆçº¦çš„è°ƒç”¨ä½œä¸ºæ˜¯æˆåŠŸçš„ã€‚ Solidity ä¼šåœ¨æ‰§è¡Œå¤–éƒ¨è°ƒç”¨æ—¶ä½¿ç”¨ extcodesize æ“ä½œç è¿›è¡Œé¢å¤–æ£€æŸ¥ã€‚ è¿™ç¡®ä¿äº†å³å°†è¢«è°ƒç”¨çš„åˆçº¦è¦ä¹ˆå®é™…å­˜åœ¨ï¼ˆå®ƒåŒ…å«ä»£ç ï¼‰æˆ–è€…è§¦å‘ä¸€ä¸ªå¼‚å¸¸ã€‚ä½çº§è°ƒç”¨ä¸ åŒ…æ‹¬è¿™ä¸ªæ£€æŸ¥ï¼Œ"),t("strong",[e._v("è¿™ä½¿å¾—å®ƒä»¬åœ¨ GAS æ–¹é¢æ›´ä¾¿å®œï¼Œä½†ä¹Ÿæ›´ä¸å®‰å…¨")]),e._v("ã€‚")]),e._v(" "),t("p",[e._v("ä¸Šé¢çš„è¿™ä¸‰ä¸ª call æ–¹æ³•éƒ½æ˜¯åº•å±‚çš„æ¶ˆæ¯ä¼ é€’è°ƒç”¨ï¼Œæœ€å¥½ä»…åœ¨ä¸‡ä¸å¾—å·²æ‰è¿›è¡Œä½¿ç”¨ï¼Œå› ä¸ºä»–ä»¬ç ´åäº† Solidity çš„ç±»å‹å®‰å…¨ã€‚")]),e._v(" "),t("h2",{attrs:{id:"_5ï¸âƒ£-å€¼ç±»å‹-åˆçº¦ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5ï¸âƒ£-å€¼ç±»å‹-åˆçº¦ç±»å‹"}},[e._v("#")]),e._v(" 5ï¸âƒ£ å€¼ç±»å‹:åˆçº¦ç±»å‹")]),e._v(" "),t("p",[e._v("æ¯ä¸€ä¸ªåˆçº¦å®šä¹‰éƒ½æœ‰ä»–è‡ªå·±çš„ç±»å‹ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("å¯ä»¥éšå¼åœ°å°†åˆçº¦è½¬æ¢ä¸ºä»ä»–ä»¬ç»§æ‰¿çš„åˆçº¦ã€‚")]),e._v(" "),t("li",[e._v("åˆçº¦å¯ä»¥æ˜¾å¼è½¬æ¢ä¸º "),t("code",[e._v("address")]),e._v(" ç±»å‹ã€‚")]),e._v(" "),t("li",[e._v("å¯ä»¥è½¬æ¢ä¸º "),t("code",[e._v("address payable")]),e._v(" ç±»å‹")])]),e._v(" "),t("p",[e._v("âš ï¸ æ³¨æ„ï¼šåˆçº¦ä¸æ”¯æŒä»»ä½•è¿ç®—ç¬¦ã€‚")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-14"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-14"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=27",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 5 èŠ‚å€¼ç±»å‹:åˆçº¦ç±»å‹")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=CU5PbGUCeio&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=27",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 5 èŠ‚å€¼ç±»å‹:åˆçº¦ç±»å‹")])])]),e._v(" "),t("h3",{attrs:{id:"_1-åˆ›å»ºçš„ä¾‹å­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-åˆ›å»ºçš„ä¾‹å­"}},[e._v("#")]),e._v(" 1.åˆ›å»ºçš„ä¾‹å­")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract A {\n    uint256 public a = 123;\n\n    fallback() external {}\n\n    receive() external payable {}\n}\n\ncontract C {\n    A public a1;\n    // A public a1 = A(payable(0xa0808B3e1713ff8C66b89aa4d0033c9ACfe37016));\n    A public a2 = new A();\n\n    // å…ˆéƒ¨ç½²åï¼Œç„¶åä¼ å…¥åœ°å€\n    function getA1(A _a) external pure returns (address, address) {\n        return (address(_a), payable(address(_a)));\n    }\n\n    // å†…éƒ¨ç›´æ¥newåˆ›å»º\n    function getA2() external view returns (address, address) {\n        return (address(a2), payable(address(a2)));\n    }\n\n\n    function test1(A _a) external view returns (uint256) {\n        return _a.a();\n    }\n    function test2() external view returns (uint256) {\n        return a2.a();\n    }\n}\n")])])]),t("p",[e._v("å¦‚æœå£°æ˜ä¸€ä¸ªåˆçº¦ç±»å‹çš„å±€éƒ¨å˜é‡ï¼ˆ "),t("code",[e._v("MyContract c")]),e._v(" ï¼‰ï¼Œåˆ™å¯ä»¥è°ƒç”¨è¯¥åˆçº¦çš„å‡½æ•°ã€‚ æ³¨æ„éœ€è¦èµ‹ç›¸åŒåˆçº¦ç±»å‹çš„å€¼ç»™å®ƒã€‚")]),e._v(" "),t("p",[e._v("è¿˜å¯ä»¥å®ä¾‹åŒ–åˆçº¦ï¼ˆå³æ–°åˆ›å»ºä¸€ä¸ªåˆçº¦å¯¹è±¡ï¼‰ï¼Œä½¿ç”¨ "),t("code",[e._v("new")]),e._v(" åˆ›å»ºåˆçº¦ã€‚")]),e._v(" "),t("p",[e._v("åˆçº¦å’Œ address çš„æ•°æ®è¡¨ç¤ºæ˜¯ç›¸åŒçš„.")]),e._v(" "),t("h3",{attrs:{id:"_2-è½¬é’±çš„ä¾‹å­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-è½¬é’±çš„ä¾‹å­"}},[e._v("#")]),e._v(" 2.è½¬é’±çš„ä¾‹å­")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract A {\n    uint256 public a = 123;\n\n    fallback() external {}\n\n    receive() external payable {}\n}\n\ncontract B {\n    // æ²¡æœ‰ fallback / receive\n    uint256 public b = 123;\n}\n\ncontract C {\n    A public a = new A();\n    B public b = new B();\n\n    function transferA() external payable returns (address, address) {\n        payable(address(a)).transfer(msg.value);\n        return (address(a), payable(address(a)));\n    }\n\n\n    function transferB() external payable returns (address, address) {\n        payable(address(b)).transfer(msg.value);\n        return (address(b), payable(address(b)));\n    }\n\n        // è·å–åˆçº¦çš„ä½™é¢\n    function getBalance(address ads_) external view returns (uint256) {\n        return ads_.balance;\n    }\n}\n")])])]),t("h3",{attrs:{id:"_3-åˆçº¦çš„å±æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-åˆçº¦çš„å±æ€§"}},[e._v("#")]),e._v(" 3.åˆçº¦çš„å±æ€§")]),e._v(" "),t("p",[e._v("åˆçº¦ç±»å‹çš„æˆå‘˜æ˜¯åˆçº¦çš„å¤–éƒ¨å‡½æ•°åŠ public çš„ çŠ¶æ€å˜é‡ã€‚")]),e._v(" "),t("p",[e._v("å¯¹äºåˆçº¦ C å¯ä»¥ä½¿ç”¨ type(C) è·å–åˆçº¦çš„ç±»å‹ä¿¡æ¯ï¼Œ")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("type(C).name")]),e._v(" "),t("ul",[t("li",[e._v("è·å¾—åˆçº¦å")])])]),e._v(" "),t("li",[t("code",[e._v("type(C).creationCode")]),e._v(" "),t("ul",[t("li",[e._v("è·å¾—åŒ…å«åˆ›å»ºåˆçº¦å­—èŠ‚ç çš„å†…å­˜å­—èŠ‚æ•°ç»„ã€‚")]),e._v(" "),t("li",[e._v("è¯¥å€¼å’Œåˆçº¦å†…ä½¿ç”¨ "),t("code",[e._v("address(this).code;")]),e._v(" ç»“æœä¸€æ ·ã€‚")]),e._v(" "),t("li",[e._v("å®ƒå¯ä»¥åœ¨å†…è”æ±‡ç¼–ä¸­æ„å»ºè‡ªå®šä¹‰åˆ›å»ºä¾‹ç¨‹ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨ "),t("code",[e._v("create2")]),e._v(" æ“ä½œç ã€‚")]),e._v(" "),t("li",[e._v("ä¸èƒ½åœ¨åˆçº¦æœ¬èº«æˆ–æ´¾ç”Ÿçš„åˆçº¦è®¿é—®æ­¤å±æ€§ã€‚ å› ä¸ºä¼šå¼•èµ·å¾ªç¯å¼•ç”¨ã€‚")])])]),e._v(" "),t("li",[t("code",[e._v("type(C).runtimeCode")]),e._v(" "),t("ul",[t("li",[e._v("è·å¾—åˆçº¦çš„è¿è¡Œæ—¶å­—èŠ‚ç çš„å†…å­˜å­—èŠ‚æ•°ç»„ã€‚è¿™æ˜¯é€šå¸¸ç”± "),t("code",[e._v("C")]),e._v(" çš„æ„é€ å‡½æ•°éƒ¨ç½²çš„ä»£ç ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœ "),t("code",[e._v("C")]),e._v(" æœ‰ä¸€ä¸ªä½¿ç”¨å†…è”æ±‡ç¼–çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆå¯èƒ½ä¸å®é™…éƒ¨ç½²çš„å­—èŠ‚ç ä¸åŒã€‚")]),e._v(" "),t("li",[e._v("è¿˜è¦æ³¨æ„åº“åœ¨éƒ¨ç½²æ—¶ä¿®æ”¹å…¶è¿è¡Œæ—¶å­—èŠ‚ç ä»¥é˜²èŒƒå®šæœŸè°ƒç”¨ï¼ˆguard against regular callsï¼‰ã€‚ ä¸ "),t("code",[e._v(".creationCode")]),e._v(" æœ‰ç›¸åŒçš„é™åˆ¶ï¼Œä¸èƒ½åœ¨åˆçº¦æœ¬èº«æˆ–æ´¾ç”Ÿçš„åˆçº¦è®¿é—®æ­¤å±æ€§ã€‚ å› ä¸ºä¼šå¼•èµ·å¾ªç¯å¼•ç”¨ã€‚")])])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-æ— -constructor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-æ— -constructor"}},[e._v("#")]),e._v(" â“µ æ—  constructor")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    address public owner;\n\n    function getCode() public view returns (bytes memory) {\n        return address(this).code;\n    }\n}\n\ncontract C {\n    string public name = type(Test).name;\n\n    bytes public creationCode = type(Test).creationCode;\n\n    bytes public runtimeCode = type(Test).runtimeCode;\n}\n\n// Test.getCode\n//\n\n// creationCode\n//\n\n// runtimeCode\n// å’Œ Test.getCode ç›¸åŒ\n")])])]),t("h4",{attrs:{id:"â“¶-æœ‰-constructor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-æœ‰-constructor"}},[e._v("#")]),e._v(" â“¶ æœ‰ constructor")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    address public owner;\n\n    constructor() {\n        owner = msg.sender;\n    }\n\n    function getCode() public view returns (bytes memory) {\n        return address(this).code;\n    }\n}\n\ncontract C {\n    string public name = type(Test).name;\n\n    bytes public creationCode = type(Test).creationCode;\n\n    // runtimeCode ä¸èƒ½è·å– constructor ä¿®æ”¹ immutable å˜é‡çš„æ•°æ®\n    // æ¯”å¦‚ Test é‡Œçš„owner ä¸èƒ½æ˜¯ immutable ç±»å‹\n    // "runtimeCode" is not available for contracts containing immutable variables.\n    // ç­‰äºåˆçº¦åœ°å€ä¸Šçš„å±æ€§ address(this).code\n    bytes public runtimeCode = type(Test).runtimeCode;\n}\n\n// Test.getCode\n//\n\n// creationCode\n//\n\n// runtimeCode\n// å’Œ Test.getCode ç›¸åŒ\n')])])]),t("h2",{attrs:{id:"_6ï¸âƒ£-å¼•ç”¨ç±»å‹çš„é¢å¤–æ³¨è§£-æ•°æ®ä½ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6ï¸âƒ£-å¼•ç”¨ç±»å‹çš„é¢å¤–æ³¨è§£-æ•°æ®ä½ç½®"}},[e._v("#")]),e._v(" 6ï¸âƒ£ å¼•ç”¨ç±»å‹çš„é¢å¤–æ³¨è§£:æ•°æ®ä½ç½®")]),e._v(" "),t("p",[e._v("data location ï¼Œä¸­æ–‡åä¸ºæ•°æ®ä½ç½®ã€‚")]),e._v(" "),t("p",[e._v("åœ¨è®²å¼•ç”¨ç±»å‹ä¹‹å‰ï¼Œå…ˆä»‹ç»æ•°æ®ä½ç½®ã€‚è¿™æ˜¯å› ä¸ºåœ¨ Solidity ä¸­ï¼Œå¼•ç”¨ç±»å‹æ˜¯ç”±ç®€å•æ•°æ®ç±»å‹ç»„åˆè€Œæˆï¼Œç›¸æ¯”äºç®€å•çš„å€¼ç±»å‹ï¼Œè¿™äº›ç±»å‹é€šå¸¸é€šè¿‡åç§°å¼•ç”¨ã€‚è¿™äº›ç±»å‹æ¶‰åŠåˆ°çš„æ•°æ®é‡è¾ƒå¤§ï¼Œå¤åˆ¶å®ƒä»¬å¯èƒ½è¦æ¶ˆè€—å¤§é‡ Gasï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä½¿ç”¨å¼•ç”¨æ•°æ®ç±»å‹æ—¶ï¼Œå¿…é¡»è€ƒè™‘å­˜å‚¨ä½ç½®ã€‚æˆ‘ä»¬éœ€è¦ä»”ç»†è€ƒè™‘æ•°æ®æ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè¿˜æ˜¯åœ¨ EVM å­˜å‚¨åŒºä¸­ã€‚è¿™å°±æ˜¯çº¿ä»‹ç»æ•°æ®ä½ç½®çš„åŸå› ã€‚")]),e._v(" "),t("p",[e._v("æ³¨æ„ï¼šæ‰€æœ‰çš„å¼•ç”¨ç±»å‹ï¼Œéƒ½æœ‰æ•°æ®ä½ç½®è¿™ä¸ªé¢å¤–çš„æ³¨è§£æ¥æŒ‡å®šå­˜å‚¨åœ¨å“ªé‡Œï¼Œæ‰€ä»¥ä¸€å®šè¦æŒæ¡å¥½ã€‚")]),e._v(" "),t("p",[e._v("æ€»ç»“ï¼š"),t("strong",[e._v("å¦‚æœä½¿ç”¨å¼•ç”¨ç±»å‹ï¼Œåˆ™å¿…é¡»æ˜ç¡®æŒ‡æ˜æ•°æ®å­˜å‚¨å“ªç§ç±»å‹çš„ä½ç½®ï¼ˆç©ºé—´ï¼‰é‡Œ")]),e._v("ï¼š")]),e._v(" "),t("h3",{attrs:{id:"_1-æ•°æ®ä½ç½®çš„åŸºç¡€ä»‹ç»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ•°æ®ä½ç½®çš„åŸºç¡€ä»‹ç»"}},[e._v("#")]),e._v(" 1.æ•°æ®ä½ç½®çš„åŸºç¡€ä»‹ç»")]),e._v(" "),t("p",[e._v("åœ¨åˆçº¦ä¸­å£°æ˜å’Œä½¿ç”¨çš„å˜é‡éƒ½æœ‰ä¸€ä¸ªæ•°æ®ä½ç½®ï¼Œåˆçº¦å˜é‡çš„æ•°æ®ä½ç½®å°†ä¼šå½±å“ Gas æ¶ˆè€—é‡ã€‚")]),e._v(" "),t("p",[e._v("Solidity æä¾›çš„æœ‰ä¸‰ç§å¦‚ä¸‹æ•°æ®ä½ç½®ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("å­˜å‚¨ storage : çŠ¶æ€å˜é‡ä¿å­˜çš„ä½ç½®ï¼Œåªè¦åˆçº¦å­˜åœ¨å°±ä¸€ç›´å­˜å‚¨ï¼")]),e._v(" "),t("li",[e._v("å†…å­˜ memory : å³æ•°æ®åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤æ•°æ®ä»…åœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…ï¼ˆå‡½æ•°è°ƒç”¨æœŸé—´ï¼‰æœ‰æ•ˆã€‚ä¸èƒ½ç”¨äºå¤–éƒ¨è°ƒç”¨ã€‚")]),e._v(" "),t("li",[e._v("è°ƒç”¨æ•°æ® calldata : ç”¨æ¥ä¿å­˜å‡½æ•°å‚æ•°çš„ç‰¹æ®Šæ•°æ®ä½ç½®ï¼Œæ˜¯ä¸€ä¸ªåªè¯»ä½ç½®ã€‚\n"),t("ul",[t("li",[e._v("è°ƒç”¨æ•°æ® calldata æ˜¯ä¸å¯ä¿®æ”¹çš„ã€éæŒä¹…çš„å‡½æ•°å‚æ•°å­˜å‚¨åŒºåŸŸï¼Œæ•ˆæœå¤§å¤šç±»ä¼¼ å†…å­˜ memory ã€‚")]),e._v(" "),t("li",[e._v("ä¸»è¦ç”¨äºå¤–éƒ¨å‡½æ•°çš„å‚æ•°ï¼Œä½†ä¹Ÿå¯ç”¨äºå…¶ä»–å˜é‡ï¼Œæ— è®ºå¤–éƒ¨å†…éƒ¨å‡½æ•°éƒ½å¯ä»¥ä½¿ç”¨ã€‚")])])])]),e._v(" "),t("p",[e._v("æ ¸å¿ƒï¼šæ›´æ”¹æ•°æ®ä½ç½®æˆ–ç±»å‹è½¬æ¢å°†å§‹ç»ˆäº§ç”Ÿè‡ªåŠ¨è¿›è¡Œä¸€ä»½æ‹·è´ï¼Œè€Œåœ¨åŒä¸€æ•°æ®ä½ç½®å†…ï¼ˆå¯¹äº å­˜å‚¨ storage æ¥è¯´ï¼‰çš„å¤åˆ¶ä»…åœ¨æŸäº›æƒ…å†µä¸‹è¿›è¡Œæ‹·è´ã€‚")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-15"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-15"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=28",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 6 èŠ‚æ•°æ®ä½ç½®: æ•°æ®ä½ç½®çš„åŸºç¡€ä»‹ç»")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=XnHfYzygmG8&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=28",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 6 èŠ‚æ•°æ®ä½ç½®: æ•°æ®ä½ç½®çš„åŸºç¡€ä»‹ç»")])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-storage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-storage"}},[e._v("#")]),e._v(" â“µ storage")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract DataLocation {\n    // storage\n    uint256 stateVariable = 1;\n    uint256[] stateArray = [1, 2, 3];\n\n    // uint storage stateVariable; // Expected identifier but got 'storage'\n    // uint[] memory stateArray; // Expected identifier but got 'memory'\n}\n")])])]),t("p",[e._v("è¯¥å­˜å‚¨ä½ç½®å­˜å‚¨æ°¸ä¹…æ•°æ®ï¼Œè¿™æ„å‘³ç€è¯¥æ•°æ®å¯ä»¥è¢«åˆçº¦ä¸­çš„æ‰€æœ‰å‡½æ•°è®¿é—®ã€‚å¯ä»¥æŠŠå®ƒè§†ä¸ºè®¡ç®—æœºçš„ç¡¬ç›˜æ•°æ®ï¼Œæ‰€æœ‰æ•°æ®éƒ½æ°¸ä¹…å­˜å‚¨ã€‚ä¿å­˜åœ¨å­˜å‚¨åŒº(storage)ä¸­çš„å˜é‡ï¼Œä»¥æ™ºèƒ½åˆçº¦çš„çŠ¶æ€å­˜å‚¨ï¼Œå¹¶ä¸”åœ¨å‡½æ•°è°ƒç”¨ä¹‹é—´ä¿æŒæŒä¹…æ€§ã€‚ä¸å…¶ä»–æ•°æ®ä½ç½®ç›¸æ¯”ï¼Œå­˜å‚¨åŒºæ•°æ®ä½ç½®çš„æˆæœ¬è¾ƒé«˜ã€‚")]),e._v(" "),t("p",[e._v("storage æ˜¯æ°¸ä¹…å­˜å‚¨åœ¨ä»¥å¤ªåŠåŒºå—é“¾ä¸­ï¼Œæ›´å…·ä½“åœ°è¯´å­˜å‚¨åœ¨å­˜å‚¨ Merkle Patricia æ ‘ä¸­ï¼Œ"),t("strong",[e._v("å½¢æˆå¸æˆ·çŠ¶æ€ä¿¡æ¯çš„ä¸€éƒ¨åˆ†")]),e._v("ã€‚ä¸€æ—¦ä½¿ç”¨è¿™ä¸ªç±»å‹ï¼Œæ•°æ®å°†æ°¸è¿œå­˜åœ¨ã€‚ æ‰©å±•: "),t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/39271872",target:"_blank",rel:"noopener noreferrer"}},[e._v("é»˜å…‹å°”æ ‘ï¼ˆmerkle treeï¼‰"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("strong",[e._v("é‡ç‚¹:çŠ¶æ€å˜é‡æ€»æ˜¯å­˜å‚¨åœ¨å­˜å‚¨åŒº(storage)ä¸­,å¹¶ä¸”ä¸èƒ½æ˜¾å¼åœ°æ ‡è®°çŠ¶æ€å˜é‡çš„ä½ç½®ã€‚")]),e._v("ã€‚çŠ¶æ€å˜é‡æ˜¯å¼ºåˆ¶ä¸º storageã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“¶-memory"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-memory"}},[e._v("#")]),e._v(" â“¶ memory")]),e._v(" "),t("p",[e._v("å†…å­˜ä½ç½®æ˜¯ä¸´æ—¶æ•°æ®ï¼Œæ¯”å­˜å‚¨ä½ç½®ä¾¿å®œã€‚å®ƒåªèƒ½åœ¨å‡½æ•°ä¸­è®¿é—®ã€‚é€šå¸¸ï¼Œå†…å­˜æ•°æ®ç”¨äºä¿å­˜ä¸´æ—¶å˜é‡ï¼Œä»¥ä¾¿åœ¨å‡½æ•°æ‰§è¡ŒæœŸé—´è¿›è¡Œè®¡ç®—ã€‚ä¸€æ—¦å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå®ƒçš„å†…å®¹å°±ä¼šè¢«ä¸¢å¼ƒã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆæ¯ä¸ªå•ç‹¬å‡½æ•°çš„å†…å­˜(RAM)ã€‚")]),e._v(" "),t("p",[e._v("memoryï¼š"),t("strong",[e._v("å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå³åˆ†é…ã€å³ä½¿ç”¨ï¼Œè¶Šè¿‡ä½œç”¨åŸŸåˆ™ä¸å¯è®¿é—®ï¼Œç­‰å¾…è¢«å›æ”¶")]),e._v("ã€‚")]),e._v(" "),t("h5",{attrs:{id:"é‡ç‚¹-1-å‡½æ•°å‚æ•°-åŒ…æ‹¬è¿”å›å‚æ•°-éƒ½å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é‡ç‚¹-1-å‡½æ•°å‚æ•°-åŒ…æ‹¬è¿”å›å‚æ•°-éƒ½å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚"}},[e._v("#")]),e._v(" "),t("strong",[e._v("é‡ç‚¹ 1:å‡½æ•°å‚æ•°(åŒ…æ‹¬è¿”å›å‚æ•°)éƒ½å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract DataLocation {\n    function add(uint256 num1, uint256 num2)\n        public\n        pure\n        returns (uint256 result)\n    {\n        return num1 + num2;\n    }\n}\n")])])]),t("p",[e._v("ä¸Šé¢ä¾‹å­ä¸­: å‡½æ•°å‚æ•° "),t("code",[e._v("uint num1")]),e._v(" ä¸ "),t("code",[e._v("uint num2")]),e._v("ï¼Œè¿”å›å€¼ "),t("code",[e._v("uint result")]),e._v(" éƒ½å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚")]),e._v(" "),t("h5",{attrs:{id:"é‡ç‚¹-2-å¼•ç”¨ç±»å‹çš„å±€éƒ¨å˜é‡-éœ€è¦æ˜¾å¼æŒ‡å®šæ•°æ®ä½ç½®-storage-memory"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é‡ç‚¹-2-å¼•ç”¨ç±»å‹çš„å±€éƒ¨å˜é‡-éœ€è¦æ˜¾å¼æŒ‡å®šæ•°æ®ä½ç½®-storage-memory"}},[e._v("#")]),e._v(" "),t("strong",[e._v("é‡ç‚¹ 2:å¼•ç”¨ç±»å‹çš„å±€éƒ¨å˜é‡ï¼Œéœ€è¦æ˜¾å¼æŒ‡å®šæ•°æ®ä½ç½®(storage/memory)")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Locations {\n    struct Book {\n        string title;\n        string author;\n        uint256 book_id;\n    }\n    Book public java; // ä¸€æœ¬ java ä¹¦\n    mapping(address => uint256) public balances;\n\n    function test() public {\n        /* æ­¤å¤„éƒ½æ˜¯å±€éƒ¨å˜é‡  */\n        // å€¼ç±»å‹:æ‰€ä»¥å®ƒä»¬è¢«å­˜å‚¨åœ¨å†…å­˜ä¸­\n        bool flag = true;\n        uint256 number = 1;\n        address account = 0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ac;\n        bytes32 hash = keccak256(abi.encodePacked(bytes1(0xff)));\n\n        // Data location can only be specified for array, struct or mapping types,\n        // but "memory" was given.\n        // bool memory flag2; // é”™è¯¯:å€¼ç±»å‹çš„æ•°æ®ä¸èƒ½æ ‡ç¤º memory\n\n        // å¼•ç”¨ç±»å‹:éœ€è¦æ˜¾ç¤ºæŒ‡å®šæ•°æ®ä½ç½®ï¼Œæ­¤å¤„æŒ‡å®šä¸ºå†…å­˜\n        uint256[] memory localArray; // array\n        // uint8[] memory nums = [1, 2, 3]; // å†…å­˜ä¸­ä¸èƒ½åˆ›å»ºåŠ¨æ€æ•°ç»„\n        uint8[3] memory numsFixed = [1, 2, 3];\n        uint256[] memory a = new uint256[](5); // æ¨è\n        a[1] = 1;\n        a[2] = 2;\n        a[3] = 3;\n        a[4] = 4;\n\n        string memory myStr = "hello"; // string\n\n        // æ˜ å°„ä¸èƒ½åœ¨å‡½æ•°ä¸­åŠ¨æ€åˆ›å»ºï¼Œæ‚¨å¿…é¡»ä»çŠ¶æ€å˜é‡ä¸­åˆ†é…å®ƒä»¬ã€‚\n        // mapping(address => bool) memory myMapping;\n        mapping(address => uint256) storage ref = balances; // mapping\n        java = Book({title: "Solidity", author: "Anbang", book_id: 1}); // struct\n        bytes memory bc = bytes("!"); //\n    }\n}\n')])])]),t("ul",[t("li",[e._v("mapping å’Œ struct ç±»å‹ï¼Œä¸èƒ½åœ¨å‡½æ•°ä¸­åŠ¨æ€åˆ›å»ºï¼Œå¿…é¡»ä»çŠ¶æ€å˜é‡ä¸­åˆ†é…å®ƒä»¬ã€‚")]),e._v(" "),t("li",[e._v("å†…å­˜ä¸­ä¸èƒ½åˆ›å»ºåŠ¨æ€æ•°ç»„")])]),e._v(" "),t("h5",{attrs:{id:"é‡ç‚¹-3-å‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºå‚æ•°å¦‚æœæ˜¯æ•°ç»„-ä½¿ç”¨-memory"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é‡ç‚¹-3-å‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºå‚æ•°å¦‚æœæ˜¯æ•°ç»„-ä½¿ç”¨-memory"}},[e._v("#")]),e._v(" "),t("strong",[e._v("é‡ç‚¹ 3:å‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºå‚æ•°å¦‚æœæ˜¯æ•°ç»„,ä½¿ç”¨ memory")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract DataLocations {\n    // name_ æ˜¯ string ï¼Œæ‰€ä»¥ä½¿ç”¨ memory\n    // mm_ æ˜¯ uint256[] ï¼Œæ‰€ä»¥ä½¿ç”¨ memory\n    // è¾“å‡ºç›¸åŒï¼Œä¹Ÿæ˜¯ä½¿ç”¨ memory\n    function examples2(string memory name_, uint256[] memory mm_)\n        external\n        pure\n        returns (uint256[] memory memArr, string memory myName)\n    {\n        memArr = new uint256[](mm_.length);\n        myName = name_;\n        for (uint256 index = 0; index < mm_.length; index++) {\n            memArr[index] = mm_[index];\n        }\n    }\n}\n")])])]),t("h5",{attrs:{id:"é‡ç‚¹-4-å¼•ç”¨ç±»å‹çš„å±€éƒ¨å˜é‡-æŒ‡å®š-storage-å’Œ-memory-çš„åŒºåˆ«"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é‡ç‚¹-4-å¼•ç”¨ç±»å‹çš„å±€éƒ¨å˜é‡-æŒ‡å®š-storage-å’Œ-memory-çš„åŒºåˆ«"}},[e._v("#")]),e._v(" "),t("strong",[e._v("é‡ç‚¹ 4:å¼•ç”¨ç±»å‹çš„å±€éƒ¨å˜é‡:æŒ‡å®š storage å’Œ memory çš„åŒºåˆ«")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract DataLocations {\n    struct MyStruct {\n        string name;\n        uint256 age;\n    }\n    mapping(address => MyStruct) public myStructs;\n\n    function test1() external returns (MyStruct memory) {\n        myStructs[msg.sender] = MyStruct({name: "Anbang1", age: 18});\n\n        // storage ä¼šä¿®æ”¹çŠ¶æ€å˜é‡\n        MyStruct storage myStruct1 = myStructs[msg.sender];\n        myStruct1.age++;\n        return myStruct1;\n    }\n\n    function test2() external returns (MyStruct memory) {\n        myStructs[msg.sender] = MyStruct({name: "Anbang2", age: 18});\n\n        // memory å‡½æ•°è¿è¡Œå®Œåå³æ¶ˆå¤±ï¼Œä¿®æ”¹çš„å€¼ä¹Ÿä¸ä¼šå‚¨å­˜åœ¨çŠ¶æ€å˜é‡ä¸­\n        MyStruct memory myStruct2 = myStructs[msg.sender];\n        myStruct2.age++;\n        return myStruct2;\n    }\n}\n')])])]),t("ul",[t("li",[t("code",[e._v("storage")]),e._v("ä¿®æ”¹å¼•ç”¨æ•°æ®: ä¼šä¿®æ”¹çŠ¶æ€å˜é‡")]),e._v(" "),t("li",[t("code",[e._v("memory")]),e._v("ä¿®æ”¹å¼•ç”¨æ•°æ®: å‡½æ•°è¿è¡Œå®Œåå³æ¶ˆå¤±ï¼Œä¿®æ”¹çš„å€¼ä¹Ÿä¸ä¼šå‚¨å­˜åœ¨çŠ¶æ€å˜é‡ä¸­")])]),e._v(" "),t("h4",{attrs:{id:"â“·-calldata"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-calldata"}},[e._v("#")]),e._v(" â“· calldata")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract DataLocations {\n    function test(uint256[] calldata mm_)\n        external\n        pure\n        returns (uint256[] calldata)\n    {\n        // mm_[0] = 1; // Calldata arrays are read-only.\n        return mm_;\n    }\n}\n")])])]),t("p",[e._v("calldata æ˜¯ä¸å¯ä¿®æ”¹çš„éæŒä¹…æ€§æ•°æ®ä½ç½®ï¼Œæ‰€æœ‰ä¼ é€’ç»™å‡½æ•°çš„å€¼ï¼Œéƒ½å­˜å‚¨åœ¨è¿™é‡Œã€‚æ­¤å¤–ï¼Œ"),t("code",[e._v("calldata")]),e._v(" æ˜¯å¤–éƒ¨å‡½æ•°(external function)çš„å‚æ•°çš„é»˜è®¤ä½ç½®ã€‚å¤–éƒ¨å‡½æ•°(external function)çš„å‚æ•°å­˜å‚¨åœ¨ calldata ä¸­ã€‚å‡½æ•°çš„è¿”å›å€¼ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ calldata æ•°æ®ä½ç½®çš„æ•°ç»„å’Œç»“æ„ï¼Œä½†æ˜¯æ— æ³•ç»™å…¶åˆ†é…ç©ºé—´ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract DataLocations {\n    // å‚æ•° [1,2,3]      æ¶ˆè€— 25586 gas\n    // å‚æ•° [1,2,3,4,5,6,7,8,9,0] æ¶ˆè€— 32114 gas\n    function iMemory(uint256[] memory _mm)\n        external\n        pure\n        returns (uint256[] memory memArr)\n    {\n        memArr = new uint256[](_mm.length);\n        for (uint256 index = 0; index < _mm.length; index++) {\n            memArr[index] = _mm[index];\n        }\n    }\n\n    // å‚æ•° [1,2,3]      æ¶ˆè€— 24551 gas\n    // å‚æ•° [1,2,3,4,5,6,7,8,9,0] æ¶ˆè€— 29510 gas\n    function iCalldata(uint256[] calldata _mm)\n        external\n        pure\n        returns (uint256[] memory memArr)\n    {\n        memArr = new uint256[](_mm.length);\n        for (uint256 index = 0; index < _mm.length; index++) {\n            memArr[index] = _mm[index];\n        }\n    }\n}\n")])])]),t("ul",[t("li",[t("strong",[e._v("è¦ç‚¹: calldata åªèƒ½ç”¨åœ¨å‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºå‚æ•°ä¸­")])]),e._v(" "),t("li",[t("strong",[e._v("è¦ç‚¹: calldata ç”¨åœ¨è¾“å…¥å‚æ•°ä¸­ï¼Œæ¯” memorg æ›´çœ gas")])]),e._v(" "),t("li",[t("strong",[e._v("è¦ç‚¹: calldata çš„å‚æ•°ä¸å…è®¸ä¿®æ”¹ï¼Œä½†æ˜¯ memorg å‚æ•°å…è®¸ä¿®æ”¹")])])]),e._v(" "),t("p",[e._v("å­˜å‚¨å‡½æ•°å‚æ•°ï¼Œå®ƒæ˜¯åªè¯»çš„ï¼Œä¸ä¼šæ°¸ä¹…å­˜å‚¨çš„ä¸€ä¸ªæ•°æ®ä½ç½®ã€‚å¤–éƒ¨å‡½æ•°(external function)çš„å‚æ•°è¢«å¼ºåˆ¶æŒ‡å®šä¸º calldataï¼Œæ•ˆæœä¸ memory ç±»ä¼¼ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("æ³¨è§£: å¦‚æœå¯ä»¥çš„è¯ï¼Œè¯·å°½é‡ä½¿ç”¨ calldata ä½œä¸ºæ•°æ®ä½ç½®ï¼Œå› ä¸ºå®ƒå°†é¿å…å¤åˆ¶ï¼Œå¹¶ç¡®ä¿ä¸èƒ½ä¿®æ”¹æ•°æ®ã€‚")])]),e._v(" "),t("blockquote",[t("p",[e._v("æ³¨è§£: åœ¨ 0.6.9 ç‰ˆæœ¬ä¹‹å‰ï¼Œå¼•ç”¨ç±»å‹å‚æ•°çš„æ•°æ®ä½ç½®æœ‰é™åˆ¶ï¼Œä¸»è¦è¡¨ç°åœ¨å‡½æ•°çš„å¯è§æ€§ä¸Šï¼›å¤–éƒ¨å‡½æ•°ä¸­ä½¿ç”¨ calldata ï¼Œå…¬å…±å‡½æ•°ä¸­ä½¿ç”¨ memory ï¼Œä»¥åŠå†…éƒ¨å’Œç§æœ‰å‡½æ•°ä¸­çš„ memory æˆ– storage ã€‚ ç°åœ¨ memory å’Œ calldata åœ¨æ‰€æœ‰å‡½æ•°ä¸­éƒ½è¢«å…è®¸ä½¿ç”¨ï¼Œæ— è®ºå…¶å¯è§æ€§å¦‚ä½•ã€‚")])]),e._v(" "),t("h4",{attrs:{id:"â“¸-stack"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-stack"}},[e._v("#")]),e._v(" â“¸ stack")]),e._v(" "),t("p",[e._v("å †æ ˆæ˜¯ç”± EVM (Ethereum è™šæ‹Ÿæœº)ç»´æŠ¤çš„éæŒä¹…æ€§æ•°æ®ã€‚EVM ä½¿ç”¨å †æ ˆæ•°æ®ä½ç½®åœ¨æ‰§è¡ŒæœŸé—´åŠ è½½å˜é‡ã€‚å †æ ˆä½ç½®æœ€å¤šæœ‰ 1024 ä¸ªçº§åˆ«çš„é™åˆ¶ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“¹-å°ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¹-å°ç»“"}},[e._v("#")]),e._v(" â“¹ å°ç»“")]),e._v(" "),t("p",[e._v("æŒ‰ç…§å…³é”®å­—:")]),e._v(" "),t("ul",[t("li",[e._v("storage: å­˜å‚¨åŒº: çŠ¶æ€å˜é‡æ€»æ˜¯å‚¨å­˜åœ¨"),t("strong",[e._v("å­˜å‚¨åŒº")]),e._v("ä¸Š")]),e._v(" "),t("li",[e._v("memory: å†…å­˜åŒº: å±€éƒ¨å˜é‡ä½¿ç”¨ï¼Œåªåœ¨å†…å­˜ä¸­ç”Ÿæ•ˆã€‚\n"),t("ul",[t("li",[e._v("å€¼ç±»å‹çš„å±€éƒ¨å˜é‡ï¼Œå­˜å‚¨åœ¨"),t("strong",[e._v("å†…å­˜")]),e._v("ä¸­ã€‚")]),e._v(" "),t("li",[t("strong",[e._v("å¼•ç”¨ç±»å‹å±€éƒ¨å˜é‡ï¼Œéœ€è¦æ˜¾å¼åœ°æŒ‡å®šæ•°æ®ä½ç½®")]),e._v("ã€‚")]),e._v(" "),t("li",[e._v("å‡½æ•°çš„è¾“å…¥å‚æ•°å¦‚æœæ˜¯æ•°ç»„æˆ–è€… stringï¼Œå¿…é¡»æ˜¯ "),t("code",[e._v("memory")]),e._v(" æˆ– "),t("code",[e._v("calldata")])]),e._v(" "),t("li",[e._v("å†…å­˜ä¸­çš„æ•°ç»„å¿…é¡»æ˜¯å®šé•¿æ•°ç»„ï¼ˆä¸èƒ½ä½¿ç”¨ push èµ‹å€¼ï¼‰ï¼ŒåŠ¨æ€æ•°ç»„åªèƒ½å‚¨å­˜åœ¨çŠ¶æ€å˜é‡ä¸­ã€‚")])])]),e._v(" "),t("li",[e._v("calldata\n"),t("ul",[t("li",[e._v("å’Œ memory ç±»ä¼¼ï¼Œä½†æ˜¯ calldata åªèƒ½ç”¨åœ¨å‡½æ•°çš„è¾“å…¥å‚æ•°ä¸­ã€‚")]),e._v(" "),t("li",[e._v("ç›¸æ¯”ä½¿ç”¨ memory ,åˆçº¦è¾“å…¥å‚æ•°å¦‚æœä½¿ç”¨ calldata, å¯ä»¥èŠ‚çº¦ gas")])])])]),e._v(" "),t("p",[e._v("æŒ‰ç…§å‡½æ•°å‚æ•°:")]),e._v(" "),t("ul",[t("li",[e._v("å†…éƒ¨å‡½æ•°å‚æ•°: (åŒ…æ‹¬è¿”å›å‚æ•°)éƒ½å­˜å‚¨åœ¨**memoryï¼ˆå†…å­˜ï¼‰**ä¸­ã€‚")]),e._v(" "),t("li",[e._v("å¤–éƒ¨å‡½æ•°å‚æ•°: (ä¸åŒ…æ‹¬è¿”å›å‚æ•°)å­˜å‚¨åœ¨ "),t("code",[e._v("calldata")]),e._v(" ä¸­ã€‚")])]),e._v(" "),t("h3",{attrs:{id:"_2-ä¸åŒæ•°æ®ä½ç½®ä¹‹é—´çš„èµ‹å€¼è§„åˆ™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä¸åŒæ•°æ®ä½ç½®ä¹‹é—´çš„èµ‹å€¼è§„åˆ™"}},[e._v("#")]),e._v(" 2.ä¸åŒæ•°æ®ä½ç½®ä¹‹é—´çš„èµ‹å€¼è§„åˆ™")]),e._v(" "),t("p",[e._v("æœ¬å°èŠ‚æ€»ç»“å¦‚ä¸‹:")]),e._v(" "),t("ol",[t("li",[e._v("å°† "),t("strong",{staticStyle:{color:"blue"}},[e._v("å­˜å‚¨å˜é‡")]),e._v(" èµ‹å€¼ç»™ "),t("strong",[e._v("å­˜å‚¨å˜é‡")]),e._v(" (åŒç±»å‹)\n"),t("ul",[t("li",[t("code",[e._v("å€¼ ç±» å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[t("code",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")])])]),e._v(" "),t("li",[e._v("å°† "),t("strong",{staticStyle:{color:"red"}},[e._v("å†…å­˜å˜é‡")]),e._v(" èµ‹å€¼ç»™ "),t("strong",[e._v("å­˜å‚¨å˜é‡")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("å€¼ ç±» å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[t("code",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")])])]),e._v(" "),t("li",[e._v("å°† "),t("strong",{staticStyle:{color:"blue"}},[e._v("å­˜å‚¨å˜é‡")]),e._v(" èµ‹å€¼ç»™ å†…å­˜å˜é‡\n"),t("ul",[t("li",[t("code",[e._v("å€¼ ç±» å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[t("code",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")])])]),e._v(" "),t("li",[e._v("å°† "),t("strong",{staticStyle:{color:"red"}},[e._v("å†…å­˜å˜é‡")]),e._v(" èµ‹å€¼ç»™ å†…å­˜å˜é‡ (åŒç±»å‹)\n"),t("ul",[t("li",[t("code",[e._v("å€¼ ç±» å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[t("code",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": ä¸ä¼šåˆ›å»ºå‰¯æœ¬ã€‚("),t("strong",[e._v("é‡è¦")]),e._v(")")])])])]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-16"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-16"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=29",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 6 èŠ‚æ•°æ®ä½ç½®: ä¸åŒæ•°æ®ä½ç½®ä¹‹é—´çš„èµ‹å€¼è§„åˆ™")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=gR6s2aBbftg&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=29",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 6 èŠ‚æ•°æ®ä½ç½®: ä¸åŒæ•°æ®ä½ç½®ä¹‹é—´çš„èµ‹å€¼è§„åˆ™")])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-å°†å­˜å‚¨å˜é‡èµ‹å€¼ç»™å­˜å‚¨å˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-å°†å­˜å‚¨å˜é‡èµ‹å€¼ç»™å­˜å‚¨å˜é‡"}},[e._v("#")]),e._v(" â“µ å°†"),t("strong",{staticStyle:{color:"blue"}},[e._v("å­˜å‚¨å˜é‡")]),e._v("èµ‹å€¼ç»™å­˜å‚¨å˜é‡")]),e._v(" "),t("p",[e._v("å°†ä¸€ä¸ªçŠ¶æ€(å­˜å‚¨)å˜é‡èµ‹å€¼ç»™å¦ä¸€ä¸ªçŠ¶æ€(å­˜å‚¨)å˜é‡ï¼Œå°†åˆ›å»ºä¸€ä¸ªæ–°çš„å‰¯æœ¬ã€‚")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("å€¼ ç±» å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[t("code",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Locations {\n    // å€¼ç±»å‹\n    uint256 public stateA1 = 10;\n    uint256 public stateA2 = 20;\n    // å¼•ç”¨ç±»å‹\n    string public stateB1 = "ABCD";\n    string public stateB2 = "1234";\n\n    function testA() public returns (uint256) {\n        stateA1 = stateA2;\n        stateA2 = 30;\n        return stateA1; // returns 20\n    }\n\n    function testB() public returns (string memory) {\n        stateB1 = stateB2;\n        bytes(stateB2)[0] = bytes1("9");\n        return stateB1; // returns 1234\n    }\n}\n')])])]),t("p",[t("strong",[e._v("é—®ç­”é¢˜: ä¸Šé¢å‡½æ•° "),t("code",[e._v("testA")]),e._v(" å’Œ "),t("code",[e._v("testB")]),e._v(" çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿ")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("testA")]),e._v(": ç¬¬ä¸€æ¬¡æ‰§è¡Œè¿”å›å€¼æ˜¯ "),t("code",[e._v("20")]),e._v("ï¼Œä¹‹åæ‰§è¡Œè¿”å›å€¼æ˜¯ "),t("code",[e._v("30")])]),e._v(" "),t("li",[t("code",[e._v("testB")]),e._v(": ç¬¬ä¸€æ¬¡æ‰§è¡Œè¿”å›å€¼æ˜¯å­—ç¬¦ä¸² "),t("code",[e._v('"1234"')]),e._v("ï¼Œä¹‹åæ‰§è¡Œè¿”å›å€¼æ˜¯å­—ç¬¦ä¸² "),t("code",[e._v('"9234"')])])]),e._v(" "),t("p",[t("strong",[e._v("å€¼ç±»å‹")]),e._v(": å…ˆå°† stateA2 èµ‹å€¼ç»™ stateA1,å†æŠŠ stateA2 ä¿®æ”¹ï¼›ç»“æœå¾—åˆ°çš„ stateA1 æ˜¯ stateA2 ä¿®æ”¹å‰çš„å€¼ï¼Œè¯´æ˜å¯¹äºå€¼ç±»å‹çš„å±€éƒ¨å˜é‡æ¥è¯´ => åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": å…ˆå°† stateB2 èµ‹å€¼ç»™ stateB1,å†æŠŠ stateB2 ä¿®æ”¹ï¼›ç»“æœå¾—åˆ°çš„ stateB1 æ˜¯ stateB2 ä¿®æ”¹å‰çš„å€¼ï¼Œè¯´æ˜å¯¹äºå¼•ç”¨ç±»å‹çš„å±€éƒ¨å˜é‡æ¥è¯´ => åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“¶-å°†å†…å­˜å˜é‡èµ‹å€¼ç»™å­˜å‚¨å˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-å°†å†…å­˜å˜é‡èµ‹å€¼ç»™å­˜å‚¨å˜é‡"}},[e._v("#")]),e._v(" â“¶ å°†"),t("strong",{staticStyle:{color:"red"}},[e._v("å†…å­˜å˜é‡")]),e._v("èµ‹å€¼ç»™å­˜å‚¨å˜é‡")]),e._v(" "),t("p",[e._v("å°†å†…å­˜å˜é‡èµ‹å€¼ç»™å­˜å‚¨å˜é‡ï¼Œæ€»ä¼šåˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("å€¼ ç±» å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[t("code",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Locations {\n    uint256 public stateA1 = 10; //storage\n    string public stateB1 = "ABCD";\n\n    function testA() public returns (uint256) {\n        uint256 memoryA2 = 20; // memory\n        stateA1 = memoryA2;\n        memoryA2 = 40;\n        return stateA1; // returns 20\n    }\n\n    function testB() public returns (string memory) {\n        string memory memoryB2 = "1234"; // memory\n        stateB1 = memoryB2;\n        bytes(memoryB2)[0] = bytes1("9");\n        return stateB1; // returns 1234\n    }\n}\n')])])]),t("p",[t("strong",[e._v("é—®ç­”é¢˜: ä¸Šé¢å‡½æ•° "),t("code",[e._v("testA")]),e._v(" å’Œ "),t("code",[e._v("testB")]),e._v(" çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿ")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("testA")]),e._v(": æ°¸è¿œè¿”å› "),t("code",[e._v("20")])]),e._v(" "),t("li",[t("code",[e._v("testB")]),e._v(": æ°¸è¿œè¿”å›å­—ç¬¦ä¸² "),t("code",[e._v('"1234"')])])]),e._v(" "),t("p",[t("strong",[e._v("å€¼ç±»å‹")]),e._v(": å…ˆå°† memoryA2 èµ‹å€¼ç»™ stateA1,å†æŠŠ memoryA2 ä¿®æ”¹ï¼›ç»“æœå¾—åˆ°çš„ stateA1 æ˜¯ memoryA2 ä¿®æ”¹å‰çš„å€¼ï¼Œè¯´æ˜å¯¹äºå€¼ç±»å‹çš„å±€éƒ¨å˜é‡æ¥è¯´ => åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": å…ˆå°† memoryB2 èµ‹å€¼ç»™ stateB1,å†æŠŠ memoryB2 ä¿®æ”¹ï¼›ç»“æœå¾—åˆ°çš„ stateB1 æ˜¯ memoryB2 ä¿®æ”¹å‰çš„å€¼ï¼Œè¯´æ˜å¯¹äºå¼•ç”¨ç±»å‹çš„å±€éƒ¨å˜é‡æ¥è¯´ => åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“·-å°†å­˜å‚¨å˜é‡èµ‹å€¼ç»™å†…å­˜å˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-å°†å­˜å‚¨å˜é‡èµ‹å€¼ç»™å†…å­˜å˜é‡"}},[e._v("#")]),e._v(" â“· å°†"),t("strong",{staticStyle:{color:"blue"}},[e._v("å­˜å‚¨å˜é‡")]),e._v("èµ‹å€¼ç»™å†…å­˜å˜é‡")]),e._v(" "),t("p",[e._v("ä»å­˜å‚¨å˜é‡å¤åˆ¶åˆ°å†…å­˜å˜é‡ï¼Œå°†åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ã€‚")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("å€¼ ç±» å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[t("code",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Locations {\n    uint256 public stateA1 = 10; //storage\n    string public stateB1 = "ABCD";\n\n    function testA() public returns (uint256) {\n        uint256 memoryA2 = 20; // memory\n        memoryA2 = stateA1;\n        stateA1 = 40;\n        return memoryA2; // returns ç¬¬ä¸€æ¬¡æ˜¯ 10, ä»¥åéƒ½æ˜¯40\n    }\n\n    function testB() public returns (string memory) {\n        string memory memoryB2 = "1234"; // memory\n        memoryB2 = stateB1;\n        bytes(stateB1)[0] = bytes1("9");\n        return memoryB2; // returns ç¬¬ä¸€æ¬¡æ˜¯ "ABCD", ä»¥åéƒ½æ˜¯ "9BCD"\n    }\n}\n')])])]),t("p",[t("strong",[e._v("é—®ç­”é¢˜: ä¸Šé¢å‡½æ•° testA å’Œ testB çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿ")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("testA")]),e._v(": ç¬¬ä¸€æ¬¡æ‰§è¡Œè¿”å›å€¼æ˜¯ 10ï¼Œä¹‹åæ‰§è¡Œè¿”å›å€¼æ˜¯ 40")]),e._v(" "),t("li",[t("code",[e._v("testB")]),e._v(": ç¬¬ä¸€æ¬¡æ‰§è¡Œè¿”å›å€¼æ˜¯å­—ç¬¦ä¸² "),t("code",[e._v('"ABCD"')]),e._v("ï¼Œä¹‹åæ‰§è¡Œè¿”å›å€¼æ˜¯å­—ç¬¦ä¸² "),t("code",[e._v('"9BCD"')])])]),e._v(" "),t("p",[t("strong",[e._v("å€¼ç±»å‹")]),e._v(": å…ˆå°† stateA1 èµ‹å€¼ç»™ memoryA2,å†æŠŠ stateA1 ä¿®æ”¹ï¼›ç»“æœå¾—åˆ°çš„ memoryA2 æ˜¯ stateA1 ä¿®æ”¹å‰çš„å€¼ï¼Œè¯´æ˜å¯¹äºå€¼ç±»å‹çš„å±€éƒ¨å˜é‡æ¥è¯´ => åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": å…ˆå°† stateB1 èµ‹å€¼ç»™ memoryB2,å†æŠŠ stateB1 ä¿®æ”¹ï¼›ç»“æœå¾—åˆ°çš„ memoryB2 æ˜¯ stateB1 ä¿®æ”¹å‰çš„å€¼ï¼Œè¯´æ˜å¯¹äºå¼•ç”¨ç±»å‹çš„å±€éƒ¨å˜é‡æ¥è¯´ => åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“¸-å°†å†…å­˜å˜é‡èµ‹å€¼ç»™å†…å­˜å˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-å°†å†…å­˜å˜é‡èµ‹å€¼ç»™å†…å­˜å˜é‡"}},[e._v("#")]),e._v(" â“¸ å°†"),t("strong",{staticStyle:{color:"red"}},[e._v("å†…å­˜å˜é‡")]),e._v("èµ‹å€¼ç»™å†…å­˜å˜é‡")]),e._v(" "),t("ul",[t("li",[e._v("å¯¹äºå€¼ç±»å‹çš„å±€éƒ¨å˜é‡: åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[e._v("å¯¹äºå¼•ç”¨ç±»å‹å±€éƒ¨å˜é‡: "),t("strong",[e._v("ä¸ä¼šåˆ›å»ºå‰¯æœ¬")]),e._v("ã€‚(é‡è¦)")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Locations {\n    function testA() public pure returns (uint256) {\n        uint256 memoryA1 = 10; // memory\n        uint256 memoryA2 = 20; // memory\n        memoryA1 = memoryA2;\n        memoryA2 = 40;\n        return memoryA1; // returns æ°¸è¿œæ˜¯ 20\n    }\n\n    function testB() public pure returns (string memory) {\n        string memory memoryB1 = "ABCD"; // memory\n        string memory memoryB2 = "1234"; // memory\n        memoryB1 = memoryB2;\n        bytes(memoryB2)[0] = bytes1("9");\n        return memoryB1; // returns æ°¸è¿œæ˜¯ "9234"\n    }\n}\n')])])]),t("p",[t("strong",[e._v("é—®ç­”é¢˜: ä¸Šé¢å‡½æ•° testA å’Œ testB çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿ")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("testA")]),e._v(": æ°¸è¿œæ˜¯ "),t("code",[e._v("20")])]),e._v(" "),t("li",[t("code",[e._v("testB")]),e._v(": æ°¸è¿œæ˜¯å­—ç¬¦ä¸² "),t("code",[e._v('"9234"')])])]),e._v(" "),t("p",[t("strong",[e._v("å€¼ç±»å‹")]),e._v(": å…ˆå°† memoryA2 èµ‹å€¼ç»™ memoryA1,å†æŠŠ memoryA2 ä¿®æ”¹ï¼›ç»“æœå¾—åˆ°çš„ memoryA1 æ˜¯ memoryA2 ä¿®æ”¹å‰çš„å€¼ï¼Œè¯´æ˜å¯¹äºå€¼ç±»å‹çš„å±€éƒ¨å˜é‡æ¥è¯´ï¼Œæ­¤æ—¶ä»ç„¶åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": å…ˆå°† memoryB2 èµ‹å€¼ç»™ memoryB1,å†æŠŠ memoryB2 ä¿®æ”¹ï¼›ç»“æœå¾—åˆ°çš„ memoryB1 æ˜¯ memoryB2 ä¿®æ”¹åçš„å€¼ã€‚è¯´æ˜å®ƒä»¬éƒ½æŒ‡å‘ç›¸åŒçš„å­˜å‚¨ä½ç½®ï¼Œå¹¶ä¸ä¼šåˆ›å»ºæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("p",[e._v("âš ï¸ é‡ç‚¹ï¼š"),t("strong",[e._v("å¯¹äºå¼•ç”¨ç±»å‹çš„å±€éƒ¨å˜é‡ï¼Œä»ä¸€ä¸ªå†…å­˜å˜é‡å¤åˆ¶åˆ°å¦ä¸€ä¸ªå†…å­˜å˜é‡ä¸ä¼šåˆ›å»ºå‰¯æœ¬ï¼Œå…±äº«å†…å­˜")]),e._v("ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“¹-å°ç»“-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¹-å°ç»“-2"}},[e._v("#")]),e._v(" â“¹ å°ç»“")]),e._v(" "),t("p",[e._v("æ•°æ®ä½ç½®ä¸ä»…ä»…è¡¨ç¤ºæ•°æ®å¦‚ä½•ä¿å­˜ï¼Œå®ƒåŒæ ·å½±å“ç€èµ‹å€¼è¡Œä¸ºï¼š")]),e._v(" "),t("ul",[t("li",[e._v("åœ¨ storage å’Œ memory ä¹‹é—´ä¸¤ä¸¤èµ‹å€¼ï¼ˆæˆ–è€…ä» calldata èµ‹å€¼ ï¼‰ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä»½ç‹¬ç«‹çš„æ‹·è´ã€‚")]),e._v(" "),t("li",[e._v("ä» memory åˆ° memory çš„èµ‹å€¼åªåˆ›å»ºå¼•ç”¨ï¼Œè¿™æ„å‘³ç€æ›´æ”¹å†…å­˜å˜é‡ï¼Œå…¶ä»–å¼•ç”¨ç›¸åŒæ•°æ®çš„æ‰€æœ‰å…¶ä»–å†…å­˜å˜é‡çš„å€¼ä¹Ÿä¼šè·Ÿç€æ”¹å˜ã€‚")]),e._v(" "),t("li",[e._v("ä» storage åˆ°æœ¬åœ°å­˜å‚¨å˜é‡çš„èµ‹å€¼ä¹Ÿåªåˆ†é…ä¸€ä¸ªå¼•ç”¨ã€‚")]),e._v(" "),t("li",[e._v("å…¶ä»–çš„å‘ storage çš„èµ‹å€¼ï¼Œæ€»æ˜¯è¿›è¡Œæ‹·è´ã€‚ è¿™ç§æƒ…å†µçš„ç¤ºä¾‹ï¼Œå¦‚å¯¹çŠ¶æ€å˜é‡æˆ– storage çš„ç»“æ„ä½“ç±»å‹çš„å±€éƒ¨å˜é‡æˆå‘˜çš„èµ‹å€¼ï¼Œå³ä½¿å±€éƒ¨å˜é‡æœ¬èº«æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œä¹Ÿä¼šè¿›è¡Œä¸€ä»½æ‹·è´ã€‚")])]),e._v(" "),t("h3",{attrs:{id:"_3-æ·±åˆ»ç†è§£å¼•ç”¨ç±»å‹èµ‹å€¼å’Œä¿®æ”¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ·±åˆ»ç†è§£å¼•ç”¨ç±»å‹èµ‹å€¼å’Œä¿®æ”¹"}},[e._v("#")]),e._v(" 3.æ·±åˆ»ç†è§£å¼•ç”¨ç±»å‹èµ‹å€¼å’Œä¿®æ”¹")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-17"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-17"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=30",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 6 èŠ‚æ•°æ®ä½ç½®: æ·±åˆ»ç†è§£å¼•ç”¨ç±»å‹èµ‹å€¼å’Œä¿®æ”¹")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=HB-03x5PfX4&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=30",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 6 èŠ‚æ•°æ®ä½ç½®: æ·±åˆ»ç†è§£å¼•ç”¨ç±»å‹èµ‹å€¼å’Œä¿®æ”¹")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Locations {\n    string public stateB1 = "ABCD";\n    struct MyStruct {\n        string name;\n        uint256 age;\n    }\n    mapping(address => MyStruct) public stateC1;\n\n    constructor() {\n        stateC1[msg.sender] = MyStruct({name: "Anbang", age: 1});\n    }\n\n    function testB1() public returns (string memory, string memory) {\n        string memory memoryB2 = "1234"; // memory\n        stateB1 = memoryB2;\n\n        // storage ä¿®æ”¹:ä¼šæ”¹å˜çŠ¶æ€å˜é‡\n        string storage stateB3 = stateB1;\n        bytes(stateB3)[0] = bytes1("9");\n        return (stateB1, stateB3);\n        // returns (9234,9234)\n        // å‚¨å­˜ç©ºé—´ä¸­ stateB1 = 9234\n    }\n\n    function testB2() public returns (string memory, string memory) {\n        string memory memoryB2 = "1234"; // memory\n        stateB1 = memoryB2;\n\n        // memory ä¿®æ”¹:ä¸ä¼šæ”¹å˜çŠ¶æ€å˜é‡\n        string memory memoryB3 = stateB1;\n        bytes(memoryB3)[0] = bytes1("9");\n        return (stateB1, memoryB3);\n        // returns (1234,9234)\n        // å‚¨å­˜ç©ºé—´ä¸­ stateB1 = 1234\n    }\n\n    function testC1() external returns (MyStruct memory, MyStruct memory) {\n        MyStruct memory memoryC2 = MyStruct({name: "Anbang1", age: 18});\n        stateC1[msg.sender] = memoryC2;\n\n        // storage ä¿®æ”¹:ä¼šæ”¹å˜çŠ¶æ€å˜é‡\n        MyStruct storage stateC3 = stateC1[msg.sender];\n        stateC3.age++;\n        return (stateC1[msg.sender], stateC3);\n        // returns ({name: "Anbang1", age: 19},{name: "Anbang1", age: 19})\n        // å‚¨å­˜ç©ºé—´ä¸­ stateC1 = {name: "Anbang1", age: 19}\n    }\n\n    function testC2() external returns (MyStruct memory, MyStruct memory) {\n        MyStruct memory memoryC2 = MyStruct({name: "Anbang2", age: 18});\n        stateC1[msg.sender] = memoryC2;\n\n        // memory ä¿®æ”¹:ä¸ä¼šæ”¹å˜çŠ¶æ€å˜é‡\n        MyStruct memory memoryC3 = stateC1[msg.sender];\n        memoryC3.age++;\n        return (stateC1[msg.sender], memoryC3);\n        // returns ({name: "Anbang2", age: 18},{name: "Anbang2", age: 19})\n        // å‚¨å­˜ç©ºé—´ä¸­ stateC1 = {name: "Anbang2", age: 18}\n    }\n}\n')])])]),t("p",[e._v("é—®ç­”é¢˜ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("testB1 è¿è¡Œåï¼Œè¿”å›ä»€ä¹ˆï¼Ÿ\n"),t("ul",[t("li",[t("code",[e._v("(9234,9234)")])])])]),e._v(" "),t("li",[e._v("testB2 è¿è¡Œåï¼Œè¿”å›ä»€ä¹ˆï¼Ÿ\n"),t("ul",[t("li",[t("code",[e._v("(1234,9234)")])])])]),e._v(" "),t("li",[e._v("testC1 è¿è¡Œåï¼Œè¿”å›ä»€ä¹ˆï¼Ÿ\n"),t("ul",[t("li",[t("code",[e._v('({name: "Anbang1", age: 19},{name: "Anbang1", age: 19})')])])])]),e._v(" "),t("li",[e._v("testC2 è¿è¡Œåï¼Œè¿”å›ä»€ä¹ˆï¼Ÿ\n"),t("ul",[t("li",[t("code",[e._v('({name: "Anbang2", age: 18},{name: "Anbang2", age: 19})')])])])])]),e._v(" "),t("h3",{attrs:{id:"_4-calldata-å’Œ-memeory-åŒºåˆ«"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-calldata-å’Œ-memeory-åŒºåˆ«"}},[e._v("#")]),e._v(" 4.calldata å’Œ memeory åŒºåˆ«")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-18"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-18"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=31",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 6 èŠ‚æ•°æ®ä½ç½®: calldata å’Œ memeory åŒºåˆ«")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=dyUlxfSJOvE&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=31",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 6 èŠ‚æ•°æ®ä½ç½®: calldata å’Œ memeory åŒºåˆ«")])])]),e._v(" "),t("p",[t("strong",[e._v("å‡½æ•°è°ƒç”¨å‡½æ•°æ—¶çš„åŒºåˆ«")]),e._v(":")]),e._v(" "),t("h4",{attrs:{id:"â“µ-calldataå¯ä»¥éšå¼è½¬æ¢ä¸ºmemory"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-calldataå¯ä»¥éšå¼è½¬æ¢ä¸ºmemory"}},[e._v("#")]),e._v(" â“µ "),t("code",[e._v("calldataå¯ä»¥éšå¼è½¬æ¢ä¸ºmemory")])]),e._v(" "),t("ul",[t("li",[e._v("calldata å‚æ•°å¯ä»¥éšå¼è½¬æ¢ä¸º memory")]),e._v(" "),t("li",[e._v("memory å‚æ•°ä¸å¯ä»¥éšå¼è½¬æ¢ä¸º calldata")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract DataLocations {\n    function memoryFn(uint256[] memory _mm)\n        private\n        pure\n        returns (uint256[] memory memArr)\n    {\n        memArr = new uint256[](_mm.length);\n        for (uint256 index = 0; index < _mm.length; index++) {\n            memArr[index] = _mm[index];\n        }\n    }\n\n    function calldataFn(uint256[] calldata _mm)\n        private\n        pure\n        returns (uint256[] memory memArr)\n    {\n        memArr = new uint256[](_mm.length);\n        for (uint256 index = 0; index < _mm.length; index++) {\n            memArr[index] = _mm[index];\n        }\n    }\n\n\n    function examples1(uint256[] memory _mm)\n        external\n        pure\n        returns (uint256[] memory memArr)\n    {\n        // memoryFn å‚æ•°æ˜¯ memoryï¼Œå¯ä»¥è°ƒç”¨\n        // calldataFn å‚æ•°æ˜¯ calldata ï¼Œä¸å¯ä»¥è°ƒç”¨ï¼Œ memory ä¸å¯ä»¥éšå¼è½¬æ¢ä¸º calldata\n        // memory å‚æ•°ï¼Œè°ƒç”¨éœ€è¦ memory å‚æ•°çš„å‡½æ•°: æˆåŠŸ\n        memArr = memoryFn(_mm);\n\n        // memory ä¸èƒ½éšå¼è½¬æ¢ä¸º calldata\n        // memArr = calldataFn(_mm); // memory å‚æ•°ï¼Œè°ƒç”¨éœ€è¦ calldata å‚æ•°çš„å‡½æ•°: ç¦æ­¢\n    }\n\n    function examples2(uint256[] calldata _mm)\n        external\n        pure\n        returns (uint256[] memory memArr)\n    {\n        // calldata å‚æ•°ï¼Œè°ƒç”¨éœ€è¦ calldata å‚æ•°çš„å‡½æ•°: æˆåŠŸ\n        memArr = calldataFn(_mm);\n\n        // memoryFn å‚æ•°æ˜¯ memoryï¼Œå¯ä»¥è°ƒç”¨ï¼Œcalldataå¯ä»¥éšå¼è½¬æ¢ä¸º memory\n        // calldataFn å‚æ•°æ˜¯ calldata ï¼Œç›´æ¥ä½¿ç”¨calldataæ›´çœgas\n        // calldataï¼ˆå°:çº¦æŸå¤šï¼‰ å¯ä»¥éšå¼çš„è½¬æ¢ memoryï¼ˆå¤§ï¼‰\n        // calldata å‚æ•°ï¼Œè°ƒç”¨éœ€è¦ memory å‚æ•°çš„å‡½æ•°: æˆåŠŸ\n        // memArr = memoryFn(_mm);\n    }\n\n}\n")])])]),t("h4",{attrs:{id:"â“¶-calldata-å’Œ-memeory-å¯¹æ¯”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-calldata-å’Œ-memeory-å¯¹æ¯”"}},[e._v("#")]),e._v(" â“¶ calldata å’Œ memeory å¯¹æ¯”")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("contract Test {\n    function memoryFn(uint256[] memory _num)\n        public\n        pure\n        returns (uint256[] memory)\n    {\n        _num[0] = 999; // ä¿®æ”¹å‚æ•°\n        return (_num);\n    }\n\n    function calldataFn(uint256[] calldata _num)\n        public\n        pure\n        returns (uint256[] calldata)\n    {\n        // _num[0] = 999; // ç¦æ­¢ä¿®æ”¹ calldata æ•°æ®\n        return (_num);\n    }\n}\n")])])]),t("h2",{attrs:{id:"_7ï¸âƒ£-å¼•ç”¨ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7ï¸âƒ£-å¼•ç”¨ç±»å‹"}},[e._v("#")]),e._v(" 7ï¸âƒ£ å¼•ç”¨ç±»å‹")]),e._v(" "),t("p",[e._v("Solidity ä¸­ï¼Œæœ‰ä¸€äº›æ•°æ®ç±»å‹ç”±å€¼ç±»å‹ç»„åˆè€Œæˆï¼Œç›¸æ¯”äºç®€å•çš„å€¼ç±»å‹ï¼Œè¿™äº›ç±»å‹é€šå¸¸é€šè¿‡åç§°å¼•ç”¨ï¼Œè¢«ç§°ä¸ºå¼•ç”¨ç±»å‹ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("array\n"),t("ul",[t("li",[e._v("åŸºæœ¬ç±»å‹ç»„æˆçš„æ•°ç»„é›†åˆã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("uint256[5] public T1 = [1, 2, 3, 4, 5];\naddress[5] public A = [0xff...6ac];\nbyte[5] public A = [0xff...6ac];\n")])])]),t("ul",[t("li",[e._v("å­—ç¬¦ä¸²ä¸ bytes æ˜¯ç‰¹æ®Šçš„æ•°ç»„ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯å¼•ç”¨ç±»å‹")])])]),e._v(" "),t("li",[e._v("string: æ˜¯ä¸€ä¸ªåŠ¨æ€å°ºå¯¸çš„ utf-8 ç¼–ç å­—ç¬¦ä¸²\n"),t("ul",[t("li",[e._v("ä»–å…¶å®æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯å˜å­—èŠ‚æ•°ç»„ï¼ŒåŒæ—¶å…¶ä¹Ÿæ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹")])])]),e._v(" "),t("li",[e._v("bytes: åŠ¨æ€åå…­è¿›åˆ¶å­—èŠ‚æ•°ç»„\n"),t("ul",[t("li",[e._v("bytes ç±»ä¼¼äº "),t("code",[e._v("byte[]")]),e._v("ï¼Œä½†å®ƒåœ¨ calldata ä¸­è¢«ç´§å¯†åœ°æ‰“åŒ…ã€‚å› æ­¤ï¼Œç›¸æ¯”äº "),t("code",[e._v("byte[]")]),e._v("ï¼Œbytes åº”è¯¥ä¼˜å…ˆä½¿ç”¨ï¼Œå› ä¸ºæ›´ä¾¿å®œã€‚")]),e._v(" "),t("li",[e._v("string ç­‰ä»·äº bytesï¼Œä½†ä¸å…è®¸é•¿åº¦æˆ–ç´¢å¼•è®¿é—®ã€‚")])])]),e._v(" "),t("li",[e._v("mapping")]),e._v(" "),t("li",[e._v("structï¼šä¸ºäº†å…è®¸ evm çš„ä¼˜åŒ–ï¼Œè¯·ç¡®ä¿ storage ä¸­çš„å˜é‡å’Œ "),t("code",[e._v("struct")]),e._v(" æˆå‘˜çš„ä¹¦å†™é¡ºåºå…è®¸å®ƒä»¬è¢«ç´§å¯†åœ°æ‰“åŒ…ã€‚ä¾‹å¦‚ï¼Œåº”è¯¥æŒ‰ç…§ "),t("code",[e._v("uint128ï¼Œuint128ï¼Œuint256")]),e._v(" çš„é¡ºåºæ¥å£°æ˜çŠ¶æ€å˜é‡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ "),t("code",[e._v("uint128ï¼Œuint256ï¼Œuint128")]),e._v("ï¼Œå› ä¸ºå‰è€…åªå ç”¨ä¸¤ä¸ªå­˜å‚¨æ’æ§½ï¼Œè€Œåè€…å°†å ç”¨ä¸‰ä¸ªã€‚")])]),e._v(" "),t("h3",{attrs:{id:"_1-array-æ•°ç»„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-array-æ•°ç»„"}},[e._v("#")]),e._v(" 1.array æ•°ç»„")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-19"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-19"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=32",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 7 èŠ‚å¼•ç”¨ç±»å‹: array æ•°ç»„")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=rKSExH-ZclU&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=32",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 7 èŠ‚å¼•ç”¨ç±»å‹: array æ•°ç»„")])])]),e._v(" "),t("p",[e._v("æ•°ç»„æ˜¯å­˜å‚¨"),t("strong",[e._v("åŒç±»å…ƒç´ çš„æœ‰åºé›†åˆ")]),e._v("ã€‚æ•°ç»„å£°æ˜æ—¶å¯ä»¥æ˜¯å›ºå®šå¤§å°çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€è°ƒæ•´é•¿åº¦ã€‚")]),e._v(" "),t("p",[e._v("ä¸‹é¢æ˜¯ array çš„æ€»ç»“:")]),e._v(" "),t("ul",[t("li",[e._v("å£°æ˜å’Œåˆå§‹åŒ–æ•°ç»„\n"),t("ul",[t("li",[e._v("æ•°ç»„å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬æ˜ å°„æˆ–ç»“æ„ä½“ã€‚å¯¹ç±»å‹çš„é™åˆ¶æ˜¯æ˜ å°„åªèƒ½å­˜å‚¨åœ¨ å­˜å‚¨ storage ä¸­ï¼Œå¹¶ä¸”å…¬å¼€è®¿é—®å‡½æ•°çš„å‚æ•°éœ€è¦æ˜¯ ABI ç±»å‹ã€‚")])])]),e._v(" "),t("li",[e._v("è®¿é—®å’Œä¿®æ”¹æ•°ç»„å…ƒç´ \n"),t("ul",[t("li",[t("code",[e._v("arr[_index]")]),e._v(":\n"),t("ul",[t("li",[e._v("é€šè¿‡ç´¢å¼•è¿›è¡Œè·å–ç‰¹å®šå…ƒç´ ")]),e._v(" "),t("li",[e._v("å¯ä»¥é€šè¿‡ç´¢å¼•ä¿®æ”¹å€¼")])])]),e._v(" "),t("li",[e._v("çŠ¶æ€å˜é‡æ ‡è®° "),t("code",[e._v("public")]),e._v(" çš„æ•°ç»„ï¼ŒSolidity åˆ›å»ºä¸€ä¸ª "),t("code",[e._v("getterå‡½æ•°")]),e._v(" ã€‚ ä¸‹æ ‡çš„ç´¢å¼•æ•°å­—å°±æ˜¯ "),t("code",[e._v("getterå‡½æ•°")]),e._v(" çš„å‚æ•°ã€‚")]),e._v(" "),t("li",[e._v("è®¿é—®è¶…å‡ºæ•°ç»„é•¿åº¦çš„å…ƒç´ ä¼šå¯¼è‡´å¼‚å¸¸ï¼ˆassert ç±»å‹å¼‚å¸¸ ï¼‰ã€‚ å¯ä»¥ä½¿ç”¨ .push() æ–¹æ³•åœ¨æœ«å°¾è¿½åŠ ä¸€ä¸ªæ–°å…ƒç´ ï¼Œå…¶ä¸­ .push() è¿½åŠ ä¸€ä¸ªé›¶åˆå§‹åŒ–çš„å…ƒç´ å¹¶è¿”å›å¯¹å®ƒçš„å¼•ç”¨ã€‚")])])]),e._v(" "),t("li",[e._v("å‡½æ•°ä¸­è¿”å›æ•°ç»„\n"),t("ul",[t("li",[e._v("å¦‚æœæƒ³æŠŠæ•°ç»„å…¨éƒ¨è¿”å›ï¼Œéœ€è¦é€šè¿‡å‡½æ•°è¿›è¡Œæ“ä½œã€‚åœ¨å‡½æ•°ä¸­è¿”å›æ•°ç»„")])])]),e._v(" "),t("li",[e._v("åŠ¨æ€æ•°ç»„å’Œå®šé•¿æ•°ç»„\n"),t("ul",[t("li",[e._v("åŠ¨æ€æ•°ç»„åªèƒ½å­˜åœ¨äºçŠ¶æ€å˜é‡ä¸­")]),e._v(" "),t("li",[e._v("å†…å­˜ä¸­åªèƒ½åˆ›å»ºå®šé•¿æ•°ç»„")])])]),e._v(" "),t("li",[e._v("åˆ›å»ºå†…å­˜æ•°ç»„\n"),t("ul",[t("li",[e._v("å¯¹äº storage æ•°ç»„ï¼Œå…ƒç´ å¯ä»¥æ˜¯ä»»æ„ç±»å‹(å…¶ä»–æ•°ç»„ã€æ˜ å°„æˆ–ç»“æ„)ã€‚")]),e._v(" "),t("li",[e._v("å¯¹äº memory æ•°ç»„ï¼Œå…ƒç´ ç±»å‹ä¸èƒ½æ˜¯æ˜ å°„ç±»å‹ï¼Œå¦‚æœå®ƒæ˜¯ä¸€ä¸ª public å‡½æ•°çš„å‚æ•°ï¼Œé‚£ä¹ˆå…ƒç´ ç±»å‹å¿…é¡»æ˜¯ ABI ç±»å‹ã€‚")])])]),e._v(" "),t("li",[e._v("æ•°ç»„çš„å±æ€§\n"),t("ul",[t("li",[t("code",[e._v("length")]),e._v(": è·å–æ•°ç»„çš„é•¿åº¦")])])]),e._v(" "),t("li",[e._v("æ•°ç»„çš„æ–¹æ³•\n"),t("ul",[t("li",[e._v("push : åªæœ‰åŠ¨æ€æ•°ç»„å¯ä»¥ä½¿ç”¨ï¼Œåªèƒ½ç”¨åœ¨åŠ¨æ€æ•°ç»„ä¸Š")]),e._v(" "),t("li",[e._v("pop: åˆ é™¤æœ€åä¸€ä¸ªé•¿åº¦ï¼Œåªèƒ½ç”¨åœ¨åŠ¨æ€æ•°ç»„ä¸Š")]),e._v(" "),t("li",[e._v("delete: æ¸…ç©ºå¯¹åº”çš„ç´¢å¼•ï¼›æ¸…ç©ºä¸æ˜¯åˆ é™¤ï¼Œå¹¶ä¸ä¼šæ”¹å˜é•¿åº¦ï¼Œç´¢å¼•ä½ç½®çš„å€¼ä¼šæ”¹ä¸ºé»˜è®¤å€¼ã€‚")]),e._v(" "),t("li",[e._v("æ•°ç»„åˆ‡ç‰‡: "),t("code",[e._v("x[start:end]")])])])]),e._v(" "),t("li",[e._v("å†™ä¸€ä¸ªå®Œå…¨åˆ é™¤çš„ delete æ–¹æ³•")])]),e._v(" "),t("h4",{attrs:{id:"â“µ-æ•°ç»„çš„åˆ›å»º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-æ•°ç»„çš„åˆ›å»º"}},[e._v("#")]),e._v(" â“µ æ•°ç»„çš„åˆ›å»º")]),e._v(" "),t("p",[e._v("æ•°ç»„é•¿åº¦ä¸Šåˆ†ä¸º "),t("strong",[e._v("å›ºå®šé•¿åº¦æ•°ç»„")]),e._v(" å’Œ "),t("strong",[e._v("å¯å˜é•¿åº¦æ•°ç»„")]),e._v("ï¼Œç±»å‹ä¸Šåˆ†ä¸º"),t("strong",[e._v("ä¸€ç»´æ•°ç»„")]),e._v("å’Œ"),t("strong",[e._v("å¤šç»´æ•°ç»„")]),e._v("ï¼›")]),e._v(" "),t("p",[e._v("ä¸€ä¸ªå…ƒç´ ç±»å‹ä¸º "),t("code",[e._v("T")]),e._v("ï¼Œå›ºå®šé•¿åº¦ä¸º "),t("code",[e._v("k")]),e._v(" çš„æ•°ç»„å¯ä»¥å£°æ˜ä¸º "),t("code",[e._v("T[k]")]),e._v("ï¼Œè€ŒåŠ¨æ€æ•°ç»„å£°æ˜ä¸º "),t("code",[e._v("T[]")]),e._v("ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("å›ºå®šé•¿åº¦æ•°ç»„:åˆ›å»º")]),e._v(" "),t("li",[e._v("å¯å˜é•¿åº¦æ•°ç»„:åˆ›å»º")]),e._v(" "),t("li",[e._v("äºŒç»´æ•°ç»„:åˆ›å»º")]),e._v(" "),t("li",[e._v("å…¶å®ƒ\n"),t("ul",[t("li",[t("code",[e._v("uint256[2][] public T = new uint256[2][](10);")])])])])]),e._v(" "),t("h5",{attrs:{id:"_1-å›ºå®šé•¿åº¦æ•°ç»„-åˆ›å»º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-å›ºå®šé•¿åº¦æ•°ç»„-åˆ›å»º"}},[e._v("#")]),e._v(" 1."),t("strong",[e._v("å›ºå®šé•¿åº¦æ•°ç»„:åˆ›å»º")])]),e._v(" "),t("p",[e._v("å›ºå®šé•¿åº¦æ•°ç»„:åˆ›å»º")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    // å›ºå®šé•¿åº¦æ•°ç»„\n    uint256[5] public T = [1, 2, 3, 4, 5];\n    address[5] public A =   [0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ac];\n    uint256[10] public arr1 = [0, 1, 2]; // èµ‹å€¼çš„æ•°ç»„é•¿åº¦ä¸è¶…è¿‡10éƒ½å¯ä»¥\n    uint256[10] public arr2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n\n    // å¦‚æœåˆå§‹åŒ–è¶…å‡ºäº†æ•°ç»„çš„é¢„æœŸé•¿åº¦ï¼ŒæŠ¥é”™:\n    // Type uint8[11] memory is not implicitly convertible to expected\n    // type uint256[10] storage ref.\n    // uint256[10] public arr3 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n}\n")])])]),t("ul",[t("li",[e._v("è¯­æ³•: "),t("code",[e._v("type[arraySize] arrayName;")]),e._v("ï¼Œè¿™æ˜¯ä¸€ç»´æ•°ç»„ï¼Œå…¶ä¸­ arraySize å¿…é¡»æ˜¯ä¸€ä¸ªå¤§äºé›¶çš„æ•´æ•°æ•°å­—ï¼Œtype å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ã€‚")]),e._v(" "),t("li",[e._v("å›ºå®šé•¿åº¦æ•°ç»„åˆ›å»ºåä¸å¯å¯¹é•¿åº¦è¿›è¡Œä¿®æ”¹,ä½†æ˜¯å¯ä»¥å¯¹å†…å®¹è¿›è¡Œä¿®æ”¹\n"),t("ul",[t("li",[e._v("ï¼ˆä¸å¯å¯¹é•¿åº¦è¿›è¡Œä¿®æ”¹æ˜¯ä¸ä¸å¯å˜å­—èŠ‚æ•°ç»„ä¹‹é—´ä¸åŒç‚¹ï¼‰")])])])]),e._v(" "),t("p",[t("strong",[e._v("æ•°ç»„å…ˆå£°æ˜å†èµ‹å€¼")])]),e._v(" "),t("p",[e._v("é€šè¿‡ç´¢å¼•è¿›è¡Œèµ‹å€¼ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    uint256[10] public arr1;\n\n    function test() external {\n        arr1[0] = 1;\n        arr1[1] = 10;\n        arr1[2] = 100;\n        arr1[9] = 900;\n    }\n}\n")])])]),t("h5",{attrs:{id:"_2-å¯å˜é•¿åº¦æ•°ç»„-åˆ›å»º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¯å˜é•¿åº¦æ•°ç»„-åˆ›å»º"}},[e._v("#")]),e._v(" 2."),t("strong",[e._v("å¯å˜é•¿åº¦æ•°ç»„:åˆ›å»º")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    // å¯å˜é•¿åº¦æ•°ç»„\n    uint256[] public T1 = [1, 2, 3, 4, 5]; // æ–¹å¼ 1\n    uint256[] public T2 = new uint256[](5); // æ–¹å¼ 2\n}\n")])])]),t("ul",[t("li",[e._v("æ–¹å¼ 1: "),t("code",[e._v("uint256[] T1 = [1, 2, 3, 4, 5];")]),e._v(" "),t("ul",[t("li",[e._v("è¯¥æ–¹å¼ä¸å¯ä»¥åœ¨å‡½æ•°å†…åˆ›å»º")])])]),e._v(" "),t("li",[e._v("æ–¹å¼ 2: "),t("code",[e._v("uint256[] T2 = new uint256[](5);")]),e._v(" "),t("ul",[t("li",[e._v("ç”¨æ–¹å¼ 2 åˆ›å»ºæ•°ç»„æ—¶ï¼Œè‹¥æ•°ç»„ä¸ºæˆå‘˜å˜é‡, åˆ™é»˜è®¤ä¸º storage ç±»å‹ï¼›")]),e._v(" "),t("li",[e._v("è‹¥ä¸ºå±€éƒ¨å˜é‡é»˜è®¤ä¸º "),t("code",[e._v("memory")]),e._v(" ç±»å‹ï¼Œ"),t("code",[e._v("memory")]),e._v(" ç±»å‹çš„æ•°ç»„ï¼Œå¿…é¡»å£°æ˜é•¿åº¦ï¼Œå¹¶ä¸”é•¿åº¦åˆ›å»ºåä¸å¯å˜ã€‚")]),e._v(" "),t("li",[t("code",[e._v("push")]),e._v(" æ–¹æ³•ä¸èƒ½ç”¨åœ¨ "),t("code",[e._v("memeory")]),e._v(" çš„æ•°ç»„ä¸Š,åªèƒ½é€ä¸ªç´¢å¼•çš„èµ‹å€¼ã€‚")])])])]),e._v(" "),t("h5",{attrs:{id:"_3-å†…å­˜ä¸­åˆ›å»ºæ•°ç»„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-å†…å­˜ä¸­åˆ›å»ºæ•°ç»„"}},[e._v("#")]),e._v(" 3.å†…å­˜ä¸­åˆ›å»ºæ•°ç»„")]),e._v(" "),t("p",[e._v("ä¸èƒ½ç›´æ¥åˆ›å»ºï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    uint256[] public x = [uint256(1), 3, 4];\n\n    // ä¸‹é¢è¿™æ®µä»£ç å¹¶ä¸èƒ½ç¼–è¯‘ã€‚\n    function f() public {\n        uint256[] memory x = [uint256(1), 3, 4];\n    }\n}\n")])])]),t("p",[e._v("å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("new")]),e._v(" å…³é”®å­—åœ¨å†…å­˜ä¸­åˆ›å»ºåŠ¨æ€æ•°ç»„ã€‚åˆ›å»ºæ ¼å¼: "),t("code",[e._v("uint256[] memory x = new uint256[](3);")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract C {\n    function f() public pure {\n        uint256[] memory x = new uint256[](3);\n    }\n}\n")])])]),t("ul",[t("li",[e._v("å†…å­˜ä¸­åˆ›å»ºçš„æ•°ç»„æ˜¯å±€éƒ¨å˜é‡ã€‚")]),e._v(" "),t("li",[e._v("å†…å­˜ä¸­ä¸èƒ½åˆ›å»ºåŠ¨æ€æ•°ç»„ï¼Œå¿…é¡»åˆ›å»ºå®šé•¿æ•°ç»„ã€‚\n"),t("ul",[t("li",[e._v("æ€è€ƒ: æ’å…¥æ’åºçš„ä¾‹å­ä¸­ï¼Œä¼˜åŒ–åçš„ä»£ç æ˜¯åŠ¨æ€æ•°ç»„ï¼Œè¿˜æ˜¯å®šé•¿æ•°ç»„ï¼Ÿ(æ’å…¥æ’åºåœ¨åé¢ç®—æ³•é‚£ä¸€ç« )")])])])]),e._v(" "),t("p",[e._v("memory ç±»å‹çš„æ•°ç»„é•¿åº¦åˆ›å»ºåä¸å¯å˜ï¼Œä¸èƒ½é€šè¿‡ä¿®æ”¹æˆå‘˜å˜é‡ "),t("code",[e._v(".push")]),e._v(" æ”¹å˜ memory æ•°ç»„çš„å¤§å°ã€‚å¿…é¡»æå‰è®¡ç®—æ•°ç»„å¤§å°ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°çš„å†…å­˜æ•°ç»„å¹¶å¤åˆ¶æ¯ä¸ªå…ƒç´ ã€‚")]),e._v(" "),t("p",[e._v("ä¾‹å­ 0 : æ˜¾ç¤ºç»™å„ä¸ªå…ƒç´ èµ‹å€¼:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract C {\n    function f() public pure {\n        uint256[] memory x = new uint256[](3);\n        x[0] = 1;\n        x[1] = 3;\n        x[2] = 4;\n    }\n}\n")])])]),t("p",[e._v("ä¾‹å­ 1: æ–°åˆ†é…çš„æ•°ç»„å…ƒç´ æ€»æ˜¯ä»¥ é»˜è®¤å€¼ åˆå§‹åŒ–ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract FunctionOutputs {\n    function examples1() external pure returns (uint256[] memory) {\n        uint256[] memory a = new uint256[](5);\n        a[1] = 1;\n        a[2] = 2;\n        a[3] = 3;\n        a[4] = 4;\n        return a;\n    }\n\n    // åœ¨ Solidity ä¸­çš„æ‰€æœ‰å˜é‡ï¼Œæ–°åˆ†é…çš„æ•°ç»„å…ƒç´ æ€»æ˜¯ä»¥ é»˜è®¤å€¼ åˆå§‹åŒ–ã€‚\n    function examples2(uint256 _len)\n        external\n        pure\n        returns (uint256[] memory b)\n    {\n        require(_len > 1, "length > 1");\n        b = new uint256[](_len);\n        b[0] = 666;\n    }\n\n    function examples3(uint256 _len) external pure returns (bytes memory b) {\n        require(_len > 1, "length > 1");\n        b = new bytes(_len);\n        b[0] = bytes1("A");\n    }\n}\n')])])]),t("h5",{attrs:{id:"_4-åŠ¨æ€æ•°ç»„å’Œå®šé•¿æ•°ç»„çš„-gas-åŒºåˆ«"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-åŠ¨æ€æ•°ç»„å’Œå®šé•¿æ•°ç»„çš„-gas-åŒºåˆ«"}},[e._v("#")]),e._v(" 4.åŠ¨æ€æ•°ç»„å’Œå®šé•¿æ•°ç»„çš„ gas åŒºåˆ«")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract FunctionOutputs {\n    // 26086 gas\n    uint256[] public nums = [1, 2, 3];\n\n    // 23913 gas\n    uint256[3] public numsFixed = [1, 2, 3];\n}\n")])])]),t("p",[e._v("åœ¨ Remix ä¸­éƒ¨ç½²åï¼Œå¦‚æœè·å– numsï¼Œéœ€è¦ä¼ å…¥ç´¢å¼•è·å– nums çš„å¯¹åº” inedx å€¼ã€‚å…¶ä¸­åŠ¨æ€æ•°ç»„ nums æŸ¥çœ‹éœ€è¦ 26086 gasï¼Œå®šé•¿æ•°ç»„ numsFixed æŸ¥çœ‹ä»…éœ€ 23913 gasã€‚"),t("strong",[e._v("å¦‚æœèƒ½ä½¿ç”¨å®šé•¿æ•°ç»„ï¼Œå°±ä½¿ç”¨å®šé•¿æ•°ç»„ï¼Œå› ä¸ºå®ƒå¾ˆä¾¿å®œã€‚")])]),e._v(" "),t("h5",{attrs:{id:"_5-äºŒç»´æ•°ç»„-åˆ›å»º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-äºŒç»´æ•°ç»„-åˆ›å»º"}},[e._v("#")]),e._v(" 5."),t("strong",[e._v("äºŒç»´æ•°ç»„:åˆ›å»º")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    // length:3\n    uint256[2][3] public T = [[1, 2], [3, 4], [5, 6]];\n\n    function getLength() external view returns (uint256) {\n        return T.length;\n    }\n}\n")])])]),t("ul",[t("li",[e._v("ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªé•¿åº¦ä¸º "),t("code",[e._v("5")]),e._v("ï¼Œå…ƒç´ ç±»å‹ä¸º uint çš„åŠ¨æ€æ•°ç»„çš„æ•°ç»„ï¼ˆäºŒç»´æ•°ç»„ï¼‰ï¼Œåº”å£°æ˜ä¸º "),t("code",[e._v("uint[][5]")]),e._v(" ï¼ˆæ³¨æ„è¿™é‡Œè·Ÿå…¶å®ƒè¯­è¨€æ¯”ï¼Œæ•°ç»„é•¿åº¦çš„å£°æ˜ä½ç½®æ˜¯åçš„ï¼‰ã€‚åœ¨ Solidity ä¸­ï¼Œ "),t("code",[e._v("X[3]")]),e._v(" æ€»æ˜¯ä¸€ä¸ªåŒ…å«ä¸‰ä¸ª X ç±»å‹å…ƒç´ çš„æ•°ç»„ï¼Œå³ä½¿ X æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ•°ç»„.")]),e._v(" "),t("li",[t("code",[e._v("uint256[2][3] public T = [[1, 2], [3, 4], [5, 6]];")])]),e._v(" "),t("li",[t("code",[e._v("T.length")]),e._v(" ä¸º 3")])]),e._v(" "),t("h4",{attrs:{id:"â“¶-è®¿é—®å’Œä¿®æ”¹æ•°ç»„å…ƒç´ "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-è®¿é—®å’Œä¿®æ”¹æ•°ç»„å…ƒç´ "}},[e._v("#")]),e._v(" â“¶ è®¿é—®å’Œä¿®æ”¹æ•°ç»„å…ƒç´ ")]),e._v(" "),t("ul",[t("li",[e._v("é€šè¿‡ç´¢å¼•è®¿é—®æ•°ç»„å…ƒç´ ")]),e._v(" "),t("li",[e._v("é€šè¿‡ç´¢å¼•ä¿®æ”¹æ•°ç»„å…ƒç´ ")])]),e._v(" "),t("p",[e._v("æ³¨æ„: "),t("code",[e._v("arr[index]")]),e._v(" ä¸­çš„ index éœ€è¦å°äº "),t("code",[e._v("arr.length")]),e._v("ï¼›")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    uint256[10] public arr1 = [0, 1, 2]; // èµ‹å€¼çš„æ•°ç»„é•¿åº¦ä¸è¶…è¿‡10éƒ½å¯ä»¥\n    uint256[10] public arr2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n\n    function test() external view returns (uint256, uint256) {\n        return (arr1[2], arr2[5]);\n    }\n\n    function modi() external {\n        arr1[2] = 666;\n        arr2[5] = 666;\n    }\n}\n")])])]),t("p",[e._v("è¿™ç§å¯ä»¥æŸ¥çœ‹åˆ°å…ƒç´ çš„æŒ‡å®šå…ƒç´ ï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½æƒ³è¦æŸ¥çœ‹å…ƒç´ çš„æ‰€æœ‰å†…å®¹ã€‚è¿™æ—¶å€™å°±éœ€è¦å‡½æ•°å¤„ç†ä¸€ä¸‹ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“·-å‡½æ•°ä¸­è¿”å›æ•´ä¸ªæ•°ç»„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-å‡½æ•°ä¸­è¿”å›æ•´ä¸ªæ•°ç»„"}},[e._v("#")]),e._v(" â“· å‡½æ•°ä¸­è¿”å›æ•´ä¸ªæ•°ç»„")]),e._v(" "),t("p",[e._v("é€šè¿‡å‡½æ•°æŠŠæ•°ç»„çš„æ‰€æœ‰å†…å®¹å…¨éƒ¨è¿”å›ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract FunctionOutputs {\n    uint256[] public nums1 = [1, 2, 3];\n    uint256[3] public nums2 = [1, 2, 3];\n\n    function test1() external view returns (uint256[] memory) {\n        return nums1;\n    }\n\n    function test2() external view returns (uint256[3] memory) {\n        return nums2;\n    }\n}\n")])])]),t("h4",{attrs:{id:"â“¸-æ•°ç»„å¸¸é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-æ•°ç»„å¸¸é‡"}},[e._v("#")]),e._v(" â“¸ æ•°ç»„å¸¸é‡")]),e._v(" "),t("p",[e._v("æ­£å¸¸çœ‹åˆ°ä¸‹æ–¹ä»£ç åº”è¯¥æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯æ³¨æ„:å‡½æ•° s ä¸­æ•°ç»„ç±»å‹æ˜¯"),t("code",[e._v("uint256")]),e._v("ï¼Œè€Œå‡½æ•° t ä¸­è¾“å…¥çš„æ•°ç»„ç±»å‹æ˜¯"),t("code",[e._v("uint8")]),e._v(", è¿™é‡Œéœ€è¦å°† uint8 è½¬æ¢ä¸€ä¸‹"),t("code",[e._v("s([uint256(1), uint256(2)]);")]),e._v(";")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract T {\n    function s(uint256[2] memory _arr) public {}\n\n    function t() public {\n        // Invalid type for argument in function call.\n        // Invalid implicit conversion from uint8[2] memory to uint256[2] memory requested.\n        // s([1, 2]); // é»˜è®¤è¿™ä¹ˆå†™ä¸è¡Œçš„ âŒ\n        s([uint256(1), uint256(2)]); // âœ…\n    }\n}\n")])])]),t("p",[e._v("æ•°ç»„å¸¸é‡ï¼ˆå­—é¢é‡ï¼‰æ˜¯åœ¨æ–¹æ‹¬å·ä¸­ï¼ˆ "),t("code",[e._v("[...]")]),e._v(" ï¼‰ åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªé€—å·åˆ†éš”çš„è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ "),t("code",[e._v("[1, a, f(3)]")]),e._v(" ã€‚")]),e._v(" "),t("p",[e._v("æ•°ç»„å¸¸é‡çš„ç±»å‹é€šè¿‡ä»¥ä¸‹çš„æ–¹å¼ç¡®å®š:")]),e._v(" "),t("ul",[t("li",[e._v("å®ƒæ€»æ˜¯ä¸€ä¸ªé™æ€å¤§å°çš„å†…å­˜æ•°ç»„ï¼Œå…¶é•¿åº¦ä¸ºè¡¨è¾¾å¼çš„æ•°é‡ã€‚")]),e._v(" "),t("li",[e._v("æ•°ç»„çš„åŸºæœ¬ç±»å‹æ˜¯åˆ—è¡¨ä¸Šçš„ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„ç±»å‹ï¼Œä»¥ä¾¿æ‰€æœ‰å…¶ä»–è¡¨è¾¾å¼å¯ä»¥éšå¼åœ°è½¬æ¢ä¸ºå®ƒã€‚å¦‚æœä¸å¯ä»¥è½¬æ¢ï¼Œå°†å‡ºç°ç±»å‹é”™è¯¯ã€‚")]),e._v(" "),t("li",[e._v("æ‰€æœ‰å…ƒç´ éƒ½éƒ½å¯ä»¥è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹ä¹Ÿæ˜¯ä¸å¤Ÿçš„ã€‚å…¶ä¸­ä¸€ä¸ªå…ƒç´ å¿…é¡»æ˜¯æ˜ç¡®ç±»å‹çš„ã€‚")])]),e._v(" "),t("p",[e._v("åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œ"),t("code",[e._v("[1, 2, 3]")]),e._v(" çš„ç±»å‹æ˜¯ "),t("code",[e._v("uint8[3] memory")]),e._v("ã€‚ å› ä¸ºæ¯ä¸ªå¸¸é‡çš„ç±»å‹éƒ½æ˜¯ "),t("code",[e._v("uint8")]),e._v(" ï¼Œå¦‚æœä½ å¸Œæœ›ç»“æœæ˜¯ "),t("code",[e._v("uint256[3] memory")]),e._v(" ç±»å‹ï¼Œä½ éœ€è¦å°†ç¬¬ä¸€ä¸ªå…ƒç´ è½¬æ¢ä¸º "),t("code",[e._v("uint256")]),e._v(" ã€‚è™½ç„¶æ‰€æœ‰å…ƒç´ éƒ½éƒ½å¯ä»¥è½¬æ¢ä¸º"),t("code",[e._v("uint256")]),e._v("ï¼Œä½†æ˜¯é»˜è®¤æ˜¯è½¬æ¢ä¸º"),t("code",[e._v("uint8")]),e._v("ï¼Œèƒ½è½¬æˆå°çš„ç±»å‹ï¼Œå°±ä¸ä¼šè½¬æˆå¤§çš„ï¼Œè¿™æ˜¯æ•°ç»„å¸¸é‡çš„"),t("strong",[e._v("æ‡’æƒ°æ€§")]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract LBC {\n    function f() public pure returns (uint256[3] memory) {\n        return g([uint256(1), 2, 3]);\n    }\n\n    function g(uint256[3] memory _arr)\n        internal\n        pure\n        returns (uint256[3] memory)\n    {\n        return _arr;\n    }\n}\n")])])]),t("p",[e._v("å¦‚ä¸‹æ˜¯ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„ä¾‹å­")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract T {\n    int8[2] public a = [1, -1];\n    // int8[2] public a = [int8(1), -1];\n}\n")])])]),t("p",[e._v("æ•°ç»„å¸¸é‡ "),t("code",[e._v("[1, -1]")]),e._v(" æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ç±»å‹æ˜¯ "),t("code",[e._v("uint8")]),e._v(" è€Œç¬¬äºŒä¸ªç±»ä¼¼æ˜¯ "),t("code",[e._v("int8")]),e._v(" ä»–ä»¬ä¸å¯ä»¥éšå¼çš„ç›¸äº’è½¬æ¢ã€‚ ä¸ºäº†ç¡®ä¿å¯ä»¥è¿è¡Œï¼Œä½ æ˜¯å¯ä»¥ä½¿ç”¨ä¾‹å¦‚ï¼š "),t("code",[e._v("[int8(1), -1]")]),e._v(" ã€‚")]),e._v(" "),t("p",[e._v("ç”±äºä¸åŒç±»å‹çš„å›ºå®šå¤§å°çš„å†…å­˜æ•°ç»„ä¸èƒ½ç›¸äº’è½¬æ¢(å°½ç®¡åŸºç¡€ç±»å‹å¯ä»¥)ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨äºŒç»´æ•°ç»„å¸¸é‡ï¼Œä½ å¿…é¡»æ˜¾å¼åœ°æŒ‡å®šä¸€ä¸ªåŸºç¡€ç±»å‹:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    function f() public pure returns (uint24[2][4] memory) {\n        // ä¸‹é¢ä»£ç æ— æ³•å·¥ä½œï¼Œå› ä¸ºæ²¡æœ‰åŒ¹é…å†…éƒ¨ç±»å‹\n        // uint[2][4] memory x = [[0x1, 1], [0xffffff, 2], [0xff, 3], [0xffff, 4]];\n\n        uint24[2][4] memory x = [\n            [uint24(0x1), 1],\n            [0xffffff, 2],\n            [uint24(0xff), 3],\n            [uint24(0xffff), 4]\n        ];\n\n        return x;\n    }\n}\n")])])]),t("h4",{attrs:{id:"â“¹-æ•°ç»„çš„å±æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¹-æ•°ç»„çš„å±æ€§"}},[e._v("#")]),e._v(" â“¹ æ•°ç»„çš„å±æ€§")]),e._v(" "),t("h5",{attrs:{id:"length"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#length"}},[e._v("#")]),e._v(" length")]),e._v(" "),t("p",[e._v("æ•°ç»„æœ‰ "),t("code",[e._v("length")]),e._v(" å±æ€§è¡¨ç¤ºå½“å‰æ•°ç»„çš„é•¿åº¦ã€‚ ä¸€ç»åˆ›å»ºï¼Œå†…å­˜ memory æ•°ç»„çš„å¤§å°å°±æ˜¯å›ºå®šçš„ï¼ˆä½†å´æ˜¯åŠ¨æ€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå¯ä»¥æ ¹æ®è¿è¡Œæ—¶çš„å‚æ•°åˆ›å»ºï¼‰ã€‚")]),e._v(" "),t("p",[e._v("ä¾‹å­ 1: "),t("strong",[e._v("é€šè¿‡ "),t("code",[e._v("arr.length")]),e._v(" è·å–æ•°ç»„çš„é•¿åº¦")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    uint256[10] public arr1 = [0, 1, 2];\n    uint256[10] public arr2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n\n    function test1() external view returns (uint256) {\n        return arr1.length;\n    }\n\n    function test2() external view returns (uint256) {\n        return arr2.length;\n    }\n}\n")])])]),t("p",[e._v("ä¾‹å­ 2: "),t("strong",[e._v("å¯ä»¥é€šè¿‡ length å±æ€§æ¥åˆ¤æ–­é•¿åº¦ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract TX {\n    function f(uint len) public pure {\n        uint[] memory a = new uint[](7);\n        bytes memory b = new bytes(len);\n\n        assert(a.length == 7);\n        assert(b.length == len);\n    }\n}\n")])])]),t("p",[e._v("ä¾‹å­ 3:"),t("strong",[e._v("ä¸èƒ½é€šè¿‡è®¾ç½® "),t("code",[e._v("arr.length")]),e._v(" æ¥è°ƒæ•´åŠ¨æ€æ•°ç»„çš„é•¿åº¦ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    uint256[10] public arr1 = [0, 1, 2];\n    // Member "length" is read-only and cannot be used to resize arrays.\n    function test1() external {\n        arr1.length = 8;\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“º-æ•°ç»„çš„æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“º-æ•°ç»„çš„æ–¹æ³•"}},[e._v("#")]),e._v(" â“º æ•°ç»„çš„æ–¹æ³•")]),e._v(" "),t("ul",[t("li",[e._v("push : åªæœ‰åŠ¨æ€æ•°ç»„å¯ä»¥ä½¿ç”¨ï¼ŒåŠ¨æ€çš„ storage æ•°ç»„ä»¥åŠ "),t("code",[e._v("bytes")]),e._v(" ç±»å‹å¯ä»¥ç”¨ï¼Œ"),t("code",[e._v("string")]),e._v(" ç±»å‹ä¸å¯ä»¥\n"),t("ul",[t("li",[t("code",[e._v("push()")]),e._v(": å®ƒç”¨æ¥æ·»åŠ æ–°çš„é›¶åˆå§‹åŒ–å…ƒç´ åˆ°æ•°ç»„æœ«å°¾ï¼Œå¹¶è¿”å›å…ƒç´ å¼•ç”¨.å› æ­¤å¯ä»¥è¿™æ ·ï¼š"),t("code",[e._v("x.push().t = 2")]),e._v(" æˆ– "),t("code",[e._v("x.push() = b")]),e._v(".")]),e._v(" "),t("li",[t("code",[e._v("push(x)")]),e._v(": ç”¨æ¥åœ¨æ•°ç»„æœ«å°¾æ·»åŠ ä¸€ä¸ªç»™å®šçš„å…ƒç´ ï¼Œè¿™ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼")])])]),e._v(" "),t("li",[t("code",[e._v("pop")]),e._v(": åˆ é™¤æœ€åä¸€ä¸ªé•¿åº¦\n"),t("ul",[t("li",[e._v("å®ƒç”¨æ¥ä»æ•°ç»„æœ«å°¾åˆ é™¤å…ƒç´ ã€‚ åŒæ ·çš„ä¼šåœ¨ç§»é™¤çš„å…ƒç´ ä¸Šéšå«è°ƒç”¨ delete ã€‚")])])]),e._v(" "),t("li",[t("code",[e._v("delete")]),e._v(": åˆ é™¤å¯¹åº”çš„ç´¢å¼•ï¼›åˆ é™¤å¹¶ä¸ä¼šæ”¹å˜é•¿åº¦ï¼Œç´¢å¼•ä½ç½®çš„å€¼ä¼šæ”¹ä¸ºé»˜è®¤å€¼ã€‚")]),e._v(" "),t("li",[t("code",[e._v("x[start:end]")]),e._v(": æ•°ç»„åˆ‡ç‰‡ï¼Œä»…å¯ä½¿ç”¨äº "),t("code",[e._v("calldata")]),e._v(" æ•°ç»„.")])]),e._v(" "),t("h5",{attrs:{id:"push"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#push"}},[e._v("#")]),e._v(" push")]),e._v(" "),t("p",[e._v("é€šè¿‡ "),t("code",[e._v("push()")]),e._v("ã€€å¢åŠ  storage æ•°ç»„çš„é•¿åº¦å…·æœ‰å›ºå®šçš„ gas æ¶ˆè€—ï¼Œå› ä¸º storage æ€»æ˜¯è¢«é›¶åˆå§‹åŒ–ï¼›")]),e._v(" "),t("p",[e._v("ä¾‹å­: çŠ¶æ€å˜é‡çš„å®šé•¿æ•°ç»„å¯ä»¥é€šè¿‡ push æ¥æ”¹å˜é•¿åº¦ã€‚ä½†æ˜¯å†…å­˜ä¸­ä¸å¯ä»¥ä½¿ç”¨ pushã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    uint256[] public a1 = new uint256[](5);\n\n    function setStorageA() external {\n        a1.push(8);\n    }\n\n    function setMemoryA() external pure {\n        uint256[] memory a2 = new uint256[](5);\n\n        // Type uint8[5] memory is not implicitly convertible to expected\n        // type uint256[] memory. uint256[] memory a3 = [1, 2, 3, 4, 5];\n\n        // Member "push" is not available in uint256[] memory outside of storage.\n        // a2.push(8);\n    }\n}\n')])])]),t("h5",{attrs:{id:"pop-delete"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pop-delete"}},[e._v("#")]),e._v(" pop & delete")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract FunctionOutputs {\n    uint256[] private nums = [1, 2, 3];\n    uint256[3] private numsFixed = [1, 2, 3];\n\n    function setArray()\n        external\n        returns (\n            uint256 len1,\n            uint256 len2,\n            uint256 len3\n        )\n    {\n        nums.push(4); // push\n        len1 = nums.length;\n\n        nums.pop(); // åˆ é™¤\n        len2 = nums.length;\n\n        nums[2] = 666;\n\n        delete nums[1];\n        // delete nums;\n        len3 = nums.length;\n    }\n\n    function getArray() external view returns (uint256[] memory) {\n        return nums;\n    }\n}\n")])])]),t("ul",[t("li",[t("code",[e._v("pop")]),e._v(" åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ")]),e._v(" "),t("li",[t("code",[e._v("delete array[x]")]),e._v(" ä»…ä»…æ˜¯æ¸…é™¤å…ƒç´ å¯¹åº”ç´¢å¼•ä¸ºé»˜è®¤å€¼")]),e._v(" "),t("li",[t("code",[e._v("delete array")]),e._v(" array çš„ length é‡ç½®ä¸º 0")])]),e._v(" "),t("p",[e._v("é€šè¿‡ "),t("code",[e._v("pop()")]),e._v("ã€€åˆ é™¤æ•°ç»„æˆæœ¬æ˜¯å¾ˆé«˜çš„,å› ä¸ºå®ƒåŒ…æ‹¬å·²åˆ é™¤çš„å…ƒç´ çš„æ¸…ç†ï¼Œç±»ä¼¼äºåœ¨è¿™äº›å…ƒç´ ä¸Šè°ƒç”¨ "),t("code",[e._v("delete")]),e._v("ã€‚")]),e._v(" "),t("p",[e._v("æ³¨æ„:å¦‚æœéœ€è¦åœ¨å¤–éƒ¨ï¼ˆexternalï¼‰å‡½æ•°ä¸­ä½¿ç”¨å¤šç»´æ•°ç»„ï¼Œè¿™éœ€è¦å¯ç”¨ ABI coder v2ã€‚ public å‡½æ•°ä¸­æ˜¯æ”¯æŒçš„ä½¿ç”¨å¤šç»´æ•°ç»„ã€‚å› ä¸ºå¤šç»´æ•°ç»„ç”¨çš„åœºæ™¯ä¸å¤šï¼Œè¿™é‡Œå°±ä¸ä»‹ç»äº†ã€‚")]),e._v(" "),t("h5",{attrs:{id:"æ•°ç»„åˆ‡ç‰‡-x-start-end"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ•°ç»„åˆ‡ç‰‡-x-start-end"}},[e._v("#")]),e._v(" æ•°ç»„åˆ‡ç‰‡: x[start:end]")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    uint256[] internal nums = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0];\n    uint256[] temp1;\n    uint256[] temp2;\n    uint256[] temp3;\n\n    // è¾“å…¥ [1, 2, 3, 4, 5, 6, 7, 8, 9, 0]\n    function setTemp(uint256[] calldata _arr)\n        external\n        returns (\n            uint256[] memory,\n            uint256[] memory,\n            uint256[] memory\n        )\n    {\n        temp1 = _arr[0:2];\n        temp2 = _arr[:2];\n        temp3 = _arr[2:];\n\n        // Index range access is only supported for dynamic calldata arrays.\n        // temp3 = nums[2:];\n\n        return (temp1, temp2, temp3);\n    }\n}\n")])])]),t("p",[e._v("æ•°ç»„åˆ‡ç‰‡æ˜¯æ•°ç»„è¿ç»­éƒ¨åˆ†çš„è§†å›¾ï¼Œç”¨æ³•å¦‚ï¼š"),t("code",[e._v("x[start:end]")]),e._v(" ï¼Œ "),t("code",[e._v("start")]),e._v(" å’Œ "),t("code",[e._v("end")]),e._v(" æ˜¯ "),t("code",[e._v("uint256")]),e._v(" ç±»å‹ï¼ˆæˆ–ç»“æœä¸º "),t("code",[e._v("uint256")]),e._v(" çš„è¡¨è¾¾å¼ï¼‰ã€‚ "),t("code",[e._v("x[start:end]")]),e._v(" çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ "),t("code",[e._v("x[start]")]),e._v(" ï¼Œ æœ€åä¸€ä¸ªå…ƒç´ æ˜¯ "),t("code",[e._v("x[end - 1]")]),e._v(" ã€‚(åŒ…å« startï¼Œä¸åŒ…å« end)")]),e._v(" "),t("ul",[t("li",[e._v("ç›®å‰æ•°ç»„åˆ‡ç‰‡ï¼Œä»…å¯ä½¿ç”¨äº "),t("code",[e._v("calldata")]),e._v(" æ•°ç»„.")]),e._v(" "),t("li",[e._v("å¦‚æœ "),t("code",[e._v("start")]),e._v(" æ¯” "),t("code",[e._v("end")]),e._v(" å¤§æˆ–è€… "),t("code",[e._v("end")]),e._v(" æ¯”æ•°ç»„é•¿åº¦è¿˜å¤§ï¼Œå°†ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚")]),e._v(" "),t("li",[t("code",[e._v("start")]),e._v(" å’Œ "),t("code",[e._v("end")]),e._v(" éƒ½å¯ä»¥æ˜¯å¯é€‰çš„ï¼š "),t("code",[e._v("start")]),e._v(" é»˜è®¤æ˜¯ 0ï¼Œ è€Œ "),t("code",[e._v("end")]),e._v(" é»˜è®¤æ˜¯æ•°ç»„é•¿åº¦ã€‚")])]),e._v(" "),t("p",[e._v("æ•°ç»„åˆ‡ç‰‡æ²¡æœ‰ä»»ä½•æˆå‘˜ã€‚ å®ƒä»¬å¯ä»¥éšå¼è½¬æ¢ä¸ºå…¶â€œèƒŒåâ€ç±»å‹çš„æ•°ç»„ï¼Œå¹¶æ”¯æŒç´¢å¼•è®¿é—®ã€‚ ç´¢å¼•è®¿é—®ä¹Ÿæ˜¯ç›¸å¯¹äºåˆ‡ç‰‡çš„å¼€å§‹ä½ç½®ã€‚ æ•°ç»„åˆ‡ç‰‡æ²¡æœ‰ç±»å‹åç§°ï¼Œè¿™æ„å‘³ç€æ²¡æœ‰å˜é‡å¯ä»¥å°†æ•°ç»„åˆ‡ç‰‡ä½œä¸ºç±»å‹ï¼Œå®ƒä»¬ä»…å­˜åœ¨äºä¸­é—´è¡¨è¾¾å¼ä¸­ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“»-æ¨¡æ‹Ÿåˆ‡ç‰‡çš„-slice-æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“»-æ¨¡æ‹Ÿåˆ‡ç‰‡çš„-slice-æ–¹æ³•"}},[e._v("#")]),e._v(" â“» æ¨¡æ‹Ÿåˆ‡ç‰‡çš„ slice æ–¹æ³•")]),e._v(" "),t("p",[e._v("åˆ‡ç‰‡å½“å‰ä»…æ”¯æŒ calldata çš„æ•°æ®ï¼Œå¦‚æœæ˜¯ memory å°±ä¸æ”¯æŒäº†ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract FunctionOutputs {\n    function slice(\n        uint256[] memory arr,\n        uint256 begin,\n        uint256 end\n    ) internal pure returns (uint256[] memory) {\n        require(begin < arr.length, "index out of bound");\n\n        //å¦‚æœèµ·å§‹ä½ç½®è¶Šç•Œï¼Œè¿”å›ç©ºæ•°ç»„\n        if (begin >= arr.length) return arr;\n\n        //å¤„ç† begin å’Œ endå°äº0çš„æƒ…å†µï¼Œä½¿ç”¨ uint256 ï¼Œä¸å­˜åœ¨è´Ÿæ•°\n        // if (begin < 0) {\n        //     begin = begin + arr.length < 0 ? 0 : begin + arr.length;\n        // }\n        // if (end < 0) {\n        //     end = end + arr.length < 0 ? 0 : end + arr.length;\n        // }\n\n        //å£°æ˜ä¸€ä¸ªç©ºæ•°ç»„ï¼Œä½œä¸ºå¤åˆ¶åè¿”å›å€¼\n        uint256[] memory temp = new uint256[](end - begin);\n\n        //å¤åˆ¶beginè‡³endçš„å…ƒç´ åˆ° temp ä¸­ åŒ…æ‹¬arr[begin] ä¸åŒ…æ‹¬arr[end]\n        for (uint256 index = begin; index < end; index++) {\n            temp[index - begin] = arr[index];\n        }\n        return temp;\n    }\n\n    function test()\n        external\n        pure\n        returns (\n            uint256[] memory arr,\n            uint256[] memory temp1,\n            uint256[] memory temp2,\n            uint256[] memory temp3\n        )\n    {\n        arr = new uint256[](5);\n        arr[0] = 1;\n        arr[1] = 2;\n        arr[2] = 3;\n        arr[3] = 4;\n        arr[4] = 5;\n\n        temp1 = slice(arr, 1, 3); // [2,3]\n        temp2 = slice(arr, 1, 4); // [2,3,4]\n        temp3 = slice(arr, 1, 5); // [2,3,4,5]\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“¼-delete-å®Œå…¨åˆ é™¤æ•°ç»„çš„æŒ‡å®šç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¼-delete-å®Œå…¨åˆ é™¤æ•°ç»„çš„æŒ‡å®šç´¢å¼•"}},[e._v("#")]),e._v(" â“¼ delete å®Œå…¨åˆ é™¤æ•°ç»„çš„æŒ‡å®šç´¢å¼•")]),e._v(" "),t("p",[e._v("åˆ é™¤æ•°ç»„çš„æŒ‡å®šç´¢å¼•ï¼Œæ•°ç»„çš„é•¿åº¦ä¹Ÿä¼šæ”¹å˜")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract FunctionOutputs {\n    function deletePro(uint256[] memory arr, uint256 _index)\n        internal\n        pure\n        returns (uint256[] memory temp)\n    {\n        require(_index < arr.length, "index out of bound");\n        temp = new uint256[](arr.length - 1);\n        for (uint256 index = 0; index <= temp.length - 1; index++) {\n            if (index >= _index) {\n                temp[_index] = arr[_index + 1];\n            } else {\n                temp[index] = arr[index];\n            }\n        }\n    }\n\n    function test()\n        external\n        pure\n        returns (uint256[] memory arr, uint256[] memory temp)\n    {\n        arr = new uint256[](3);\n        arr[0] = 1;\n        arr[1] = 2;\n        arr[2] = 3;\n        assert(arr[0] == 1);\n        assert(arr[1] == 2);\n        assert(arr[2] == 3);\n        assert(arr.length == 3);\n\n        temp = deletePro(arr, 1);\n        assert(temp[0] == 1);\n        assert(temp[1] == 3);\n        assert(temp.length == 2);\n    }\n}\n')])])]),t("h3",{attrs:{id:"_2-bytes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-bytes"}},[e._v("#")]),e._v(" 2.bytes")]),e._v(" "),t("p",[t("code",[e._v("string")]),e._v(" å’Œ "),t("code",[e._v("bytes")]),e._v(" ç±»å‹çš„å˜é‡æ˜¯ç‰¹æ®Šçš„æ•°ç»„ã€‚ "),t("code",[e._v("bytes")]),e._v(" å¯ä»¥é€šè¿‡ç´¢å¼•æˆ–è€…"),t("code",[e._v(".length")]),e._v("æ¥è®¿é—®æ•°æ®ã€‚string ä¸ bytes ç›¸åŒï¼Œä½†ä¸å…è®¸ç”¨"),t("code",[e._v(".length")]),e._v("æˆ–ç´¢å¼•æ¥è®¿é—®æ•°æ®ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("å¯¹ä»»æ„é•¿åº¦çš„åŸå§‹å­—èŠ‚æ•°æ®ä½¿ç”¨ "),t("code",[e._v("bytes")]),e._v("ï¼Œå¯¹ä»»æ„é•¿åº¦å­—ç¬¦ä¸²ï¼ˆUTF-8ï¼‰æ•°æ®ä½¿ç”¨ "),t("code",[e._v("string")]),e._v(" ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœä½¿ç”¨ä¸€ä¸ªé•¿åº¦é™åˆ¶çš„å­—èŠ‚æ•°ç»„ï¼Œåº”è¯¥ä½¿ç”¨ä¸€ä¸ª "),t("code",[e._v("bytes1")]),e._v(" åˆ° "),t("code",[e._v("bytes32")]),e._v(" çš„å…·ä½“ç±»å‹ï¼Œå› ä¸ºå®ƒä»¬ä¾¿å®œå¾—å¤šã€‚")]),e._v(" "),t("li",[t("code",[e._v("bytesN[]")]),e._v(" å’Œ "),t("code",[e._v("bytes")]),e._v(" å¯ä»¥è½¬æ¢: bytes1 æ˜¯å€¼ç±»å‹ï¼Œæ¯”å¦‚ "),t("code",[e._v("0x61")]),e._v("; "),t("code",[e._v("bytes")]),e._v("æ˜¯å¯å˜å­—èŠ‚æ•°ç»„,å¦‚æœ bytes1 æƒ³è¦å€Ÿç”¨ bytes çš„æ–¹æ³•ï¼Œå°±éœ€è¦è½¬æ¢æˆ bytes;")]),e._v(" "),t("li",[e._v("åŸºæœ¬è§„åˆ™:å¯¹ä»»æ„é•¿åº¦çš„åŸå§‹å­—èŠ‚æ•°æ®ä½¿ç”¨ "),t("code",[e._v("bytes")]),e._v("ï¼Œå¯¹ä»»æ„é•¿åº¦å­—ç¬¦ä¸²ï¼ˆUTF-8ï¼‰æ•°æ®ä½¿ç”¨ "),t("code",[e._v("string")]),e._v(" ã€‚")])]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-20"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-20"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=33",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 7 èŠ‚å¼•ç”¨ç±»å‹: bytes")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=0QfJRgBOOCg&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=33",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 7 èŠ‚å¼•ç”¨ç±»å‹: bytes")])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-åˆ›å»º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-åˆ›å»º"}},[e._v("#")]),e._v(" â“µ åˆ›å»º")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    bytes public welcome = bytes("1.Welcome");\n    bytes public temp1 = new bytes(2); // å¯å˜å­—èŠ‚æ•°ç»„åˆ›å»ºæ–¹å¼\n\n    function test1(uint256 len_) public pure  returns(bytes memory){\n        bytes memory temp2 = new bytes(len_);\n        temp2[0] = "a";\n        return temp2;\n    }\n    function test2() public{\n        temp1[0] = "a";\n    }\n}\n')])])]),t("p",[e._v("çŠ¶æ€å˜é‡çš„åˆ›å»ºæ–¹å¼")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('bytes public welcome = bytes("1.Welcome");\n')])])]),t("p",[e._v("å‡½æ•°ä¸­å¯å˜å­—èŠ‚æ•°ç»„åˆ›å»ºæ–¹å¼ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("bytes memory temp2 = new bytes(length); // å¯å˜å­—èŠ‚æ•°ç»„åˆ›å»ºæ–¹å¼\n")])])]),t("h4",{attrs:{id:"â“¶-bytes-å’Œ-bytes32-åŒºåˆ«"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-bytes-å’Œ-bytes32-åŒºåˆ«"}},[e._v("#")]),e._v(" â“¶ bytes å’Œ "),t("code",[e._v("bytes32[]")]),e._v(" åŒºåˆ«")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// bytes / bytes32 / bytes32[] åŒºåˆ«\n// bytes:å¯å˜å­—èŠ‚æ•°ç»„ ï¼š å¼•ç”¨ç±»å‹\n// bytes32: å›ºå®šé•¿åº¦çš„å­—èŠ‚æ•°ç»„ ï¼š å€¼ç±»å‹\n// bytes32[]: ç”±â€œå›ºå®šé•¿åº¦çš„å­—èŠ‚æ•°ç»„â€ ç»„æˆçš„ æ•°ç»„ç±»å‹\ncontract Demo {\n    bytes public welcome1 = bytes("1.Welcome");\n    bytes32 public welcome2 = "a";\n    bytes32[] public welcome3 = [bytes32("a")];\n}\n')])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    bytes32[] public abcArray = [bytes1("a"), bytes1("b"), bytes1("c")];\n\n    // 0x616263\n    bytes public abcBytes = bytes("abc");\n\n    function getAbcArr() external view returns (bytes32[] memory) {\n        return abcArray;\n    }\n}\n')])])]),t("p",[t("code",[e._v("abcBytes")]),e._v(" çš„å€¼æ˜¯: "),t("code",[e._v("0x616263")]),e._v(";")]),e._v(" "),t("p",[t("code",[e._v("abcArray")]),e._v(" çš„å€¼æ˜¯ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[\n    0x6100000000000000000000000000000000000000000000000000000000000000,\n    0x6200000000000000000000000000000000000000000000000000000000000000,\n    0x6300000000000000000000000000000000000000000000000000000000000000\n]\n")])])]),t("p",[t("code",[e._v("bytes")]),e._v(" æœ‰ç‚¹ç±»ä¼¼äº "),t("code",[e._v("bytes1[]")]),e._v("çš„ç´§æ‰“åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸Šé¢ä¾‹å­ä¸­ bytes32 æ”¹ä¸º bytes1 ç±»å‹è¿›è¡Œå¯¹æ¯”ã€‚")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬æ›´å¤šæ—¶å€™åº”è¯¥ä½¿ç”¨ "),t("code",[e._v("bytes")]),e._v(" è€Œä¸æ˜¯ "),t("code",[e._v("bytes32[]")]),e._v("è¿™ç§æ•°ç»„ç±»å‹ ï¼Œå› ä¸º Gas è´¹ç”¨æ›´ä½;")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("bytes32[]")]),e._v(" ä¼šåœ¨å…ƒç´ ä¹‹é—´æ·»åŠ  31 ä¸ªå¡«å……å­—èŠ‚ã€‚")]),e._v(" "),t("li",[t("code",[e._v("bytes")]),e._v(" ç”±äºç´§å¯†åŒ…è£…ï¼Œè¿™æ²¡æœ‰å¡«å……å­—èŠ‚ã€‚")])]),e._v(" "),t("h4",{attrs:{id:"â“·-å±æ€§-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-å±æ€§-2"}},[e._v("#")]),e._v(" â“· å±æ€§")]),e._v(" "),t("ul",[t("li",[e._v("è·å– bytes é•¿åº¦\n"),t("ul",[t("li",[e._v("bytesVar.length:ä»¥å­—èŠ‚é•¿åº¦è¡¨ç¤ºå­—ç¬¦ä¸²çš„é•¿åº¦")])])]),e._v(" "),t("li",[e._v("è·å–æŒ‡å®šç´¢å¼•çš„æ•°æ®"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("bytes1 temp1 = bytes(welcome)[_index]; // è¿”å›å›ºå®šé•¿åº¦çš„ bytes1\n")])])])]),e._v(" "),t("li",[e._v("ä¿®æ”¹ bytes\n"),t("ul",[t("li",[t("code",[e._v("bytesVar[7] = 'x'")])])])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    bytes public welcome = bytes("1.Welcome");\n\n    function getLength() public view returns (uint256 welcomeLength) {\n        welcomeLength = welcome.length;\n    }\n\n    function modi() public {\n        welcome[0] = bytes1("2");\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“¸-æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-æ–¹æ³•"}},[e._v("#")]),e._v(" â“¸ æ–¹æ³•")]),e._v(" "),t("ul",[t("li",[e._v("bytes æ‹¼æ¥\n"),t("ul",[t("li",[t("code",[e._v("bytes.concat(...) returns (bytes memory):")])]),e._v(" "),t("li",[e._v("å¦‚æœä¸ä½¿ç”¨å‚æ•°è°ƒç”¨ bytes.concat å°†è¿”å›ç©ºæ•°ç»„ã€‚")])])]),e._v(" "),t("li",[e._v("push æ–¹æ³•\n"),t("ul",[t("li",[t("code",[e._v("a.push(b)")]),e._v(" å¾€å­—èŠ‚æ•°ç»„æ·»åŠ å­—èŠ‚")])])]),e._v(" "),t("li",[t("code",[e._v("delete bys;")]),e._v(":æ¸…ç©ºå­—èŠ‚æ•°ç»„")]),e._v(" "),t("li",[t("code",[e._v("x[start:end]")]),e._v(": æ•°ç»„åˆ‡ç‰‡")]),e._v(" "),t("li",[t("code",[e._v("bytes()")]),e._v(": å°†å­—ç¬¦ä¸²è½¬æ¢åˆ° bytes")]),e._v(" "),t("li",[t("code",[e._v("string()")]),e._v(":å°† bytes æ•°æ®è½¬æ¢åˆ°å­—ç¬¦ä¸²")]),e._v(" "),t("li",[e._v("æ¯”è¾ƒä¸¤ä¸ª bytes\n"),t("ul",[t("li",[t("code",[e._v("keccak256(bytes1) == keccak256(bytes2)")])])])])]),e._v(" "),t("h5",{attrs:{id:"bytes-concat-æ‹¼æ¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bytes-concat-æ‹¼æ¥"}},[e._v("#")]),e._v(" bytes.concat æ‹¼æ¥")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("bytes.concat(...) returns (bytes memory)")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    bytes public welcome = bytes("a");\n    bytes public concatBytes = bytes.concat(welcome, bytes("b"), bytes1("c"),"a");\n}\n')])])]),t("p",[e._v("bytes.concat å‡½æ•°å¯ä»¥è¿æ¥ä»»æ„æ•°é‡çš„ "),t("code",[e._v("bytes")]),e._v(" æˆ– "),t("code",[e._v("bytes1")]),e._v(" ... "),t("code",[e._v("bytes32")]),e._v(" å€¼ã€‚ è¯¥å‡½æ•°è¿”å›ä¸€ä¸ª "),t("code",[e._v("bytes memory")]),e._v(" ï¼ŒåŒ…å«æ‰€æœ‰å‚æ•°çš„å†…å®¹ï¼Œæ— å¡«å……æ–¹å¼æ‹¼æ¥åœ¨ä¸€èµ·ã€‚ å¦‚æœä½ æƒ³ä½¿ç”¨å­—ç¬¦ä¸²å‚æ•°æˆ–å…¶ä»–ä¸èƒ½éšå¼è½¬æ¢ä¸º "),t("code",[e._v("bytes")]),e._v(" çš„ç±»å‹ï¼Œä½ éœ€è¦å…ˆå°†å®ƒä»¬è½¬æ¢ä¸º "),t("code",[e._v("bytes")]),e._v("æˆ– "),t("code",[e._v("bytes1/â€¦/ bytes32")]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    bytes public welcome = bytes("a");\n    bytes public concatBytes = bytes.concat();\n}\n')])])]),t("p",[e._v("å¦‚æœä½ ä¸ä½¿ç”¨å‚æ•°è°ƒç”¨ "),t("code",[e._v("bytes.concat")]),e._v(" å°†è¿”å›ç©ºæ•°ç»„ã€‚")]),e._v(" "),t("h5",{attrs:{id:"push-æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#push-æ–¹æ³•"}},[e._v("#")]),e._v(" push æ–¹æ³•")]),e._v(" "),t("p",[e._v("æ³¨æ„ï¼š push æ˜¯å•ä¸ªå­—èŠ‚ï¼Œæ˜¯ "),t("code",[e._v("bytes1")]),e._v("çš„å›ºå®šé•¿åº¦,è€Œä¸æ˜¯ "),t("code",[e._v("bytes")]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    bytes public welcome1 = bytes("Welcome");\n    bytes public welcome2 = new bytes(10);\n\n    function testPush() public {\n        welcome1.push(bytes("A")[0]);\n        welcome2.push(bytes("B")[0]);\n    }\n}\n')])])]),t("h5",{attrs:{id:"pop-æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pop-æ–¹æ³•"}},[e._v("#")]),e._v(" pop æ–¹æ³•")]),e._v(" "),t("p",[e._v("åˆ é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    bytes public welcome1 = bytes("Welcome");\n    bytes public welcome2 = new bytes(10);\n\n    function testPop() public {\n        welcome1.pop();\n        welcome2.pop();\n    }\n}\n')])])]),t("h5",{attrs:{id:"delete-æ¸…ç©ºå­—èŠ‚æ•°ç»„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete-æ¸…ç©ºå­—èŠ‚æ•°ç»„"}},[e._v("#")]),e._v(" "),t("code",[e._v("delete")]),e._v(" æ¸…ç©ºå­—èŠ‚æ•°ç»„")]),e._v(" "),t("p",[e._v("ä½¿ç”¨ "),t("code",[e._v("delete")]),e._v(" å…¨å±€å…³é”®å­—;")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("delete bytesName")])]),e._v(" "),t("li",[t("code",[e._v("delete bytesName[index]")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    bytes public welcome1 = bytes("Welcome");\n\n    function deleteAll() public {\n        delete welcome1;\n    }\n\n    function deleteIndex(uint256 index_) public {\n        delete welcome1[index_];\n    }\n}\n')])])]),t("h5",{attrs:{id:"x-start-end-æ•°ç»„åˆ‡ç‰‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#x-start-end-æ•°ç»„åˆ‡ç‰‡"}},[e._v("#")]),e._v(" "),t("code",[e._v("x[start:end]")]),e._v(":æ•°ç»„åˆ‡ç‰‡")]),e._v(" "),t("p",[e._v("æ³¨æ„ï¼šæ•°ç»„åˆ‡ç‰‡åªèƒ½ç”¨åœ¨ calldata ç±»å‹ä¸Šã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Proxy {\n    bytes public welcome1 = bytes("Welcome");\n    bytes4 public temp1 = bytes4(welcome1); // 0x57656c63\n\n    // æŠŠ welcome1 çš„å€¼ä¼ å…¥å‚æ•°\n    function forward(bytes calldata payload)\n        external pure\n        returns(bytes memory temp2,bytes4 temp3)\n    {\n        // åˆ‡ç‰‡æ–¹æ³•åªèƒ½ç”¨åœ¨ calldata ä¸Šã€‚\n        temp2 = payload[:4];\n        temp3 = bytes4(payload[:4]);\n    }\n}\n')])])]),t("p",[e._v("å¦ä¸€ä¸ªä¾‹å­: "),t("code",[e._v("bts_[:4]")]),e._v(" å’Œ "),t("code",[e._v("bytes4(bts_)")]),e._v(" ç»“æœä¸ä¸€æ ·ï¼")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// x[start:end]\n//      1.åªèƒ½ç”¨åœ¨ caldata ç±»å‹çš„æ•°æ®ä¸Š\n//      2.åˆ‡å‡ºæ¥çš„æ˜¯æ•°ç»„ï¼š`bts_[:4]` å’Œ `bytes4(bts_)` ç»“æœä¸ä¸€æ ·ï¼\n//          ä¸¤è€…è™½ç„¶çœ‹èµ·æ¥å€¼æ„ä¹‰ï¼Œä½†æ˜¯ç±»å‹ä¸ä¸€æ ·ï¼å¤„ç†çš„æ—¶å€™ä¹Ÿéœ€è¦æ³¨æ„\ncontract Demo {\n    // 0x57656c636f6d65\n    bytes public welcome1 = bytes("Welcome");\n    bytes4 public welcome2 = bytes4(welcome1);\n\n    // bytes: temp1 0x57656c63\n    // bytes4: temp2 0x57656c63\n    function test(bytes calldata bts_) public pure returns(\n        bytes memory temp1,\n        bytes4 temp2,\n        bytes4 temp3\n    ){\n        temp1 = bts_[:4]; // åˆ‡çš„è¿”å›å€¼æ˜¯æ•°ç»„\n        temp2 = bytes4(bts_[:4]); //\n        temp3 = bytes4(bts_); // åˆ‡ï¼š ç”±å¤§åˆ°å° => åˆ‡å‡ºæ¥çš„æ˜¯å€¼ç±»å‹\n    }\n\n}\n')])])]),t("p",[e._v("ä¾‹å­: "),t("strong",[e._v("æ•°ç»„åˆ‡ç‰‡åœ¨ ABI è§£ç æ•°æ®çš„æ—¶å€™éå¸¸æœ‰ç”¨")]),e._v("ï¼Œå¦‚ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Proxy {\n    /// è¢«å½“å‰åˆçº¦ç®¡ç†çš„ å®¢æˆ·ç«¯åˆçº¦åœ°å€\n    address client;\n\n    constructor(address client_) {\n        client = client_;\n    }\n\n    /// åœ¨è¿›è¡Œå‚æ•°éªŒè¯ä¹‹åï¼Œè½¬å‘åˆ°ç”±clientå®ç°çš„ "setOwner(address)"\n    function forward(bytes calldata payload) external {\n        bytes4 sig = bytes4(payload[:4]);\n\n        // ç”±äºæˆªæ–­è¡Œä¸ºï¼Œä¸æ‰§è¡Œ bytes4(payload) æ˜¯ç›¸åŒçš„\n        // bytes4 sig = bytes4(payload);\n\n        if (sig == bytes4(keccak256("setOwner(address)"))) {\n            address owner = abi.decode(payload[4:], (address));\n            require(owner != address(0), "Address of owner cannot be zero.");\n        }\n        (bool status, ) = client.delegatecall(payload);\n        require(status, "Forwarded call failed.");\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“¹-å­—ç¬¦ä¸²-åˆ°-bytes-çš„è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¹-å­—ç¬¦ä¸²-åˆ°-bytes-çš„è½¬æ¢"}},[e._v("#")]),e._v(" â“¹ å­—ç¬¦ä¸² åˆ° bytes çš„è½¬æ¢")]),e._v(" "),t("p",[e._v("è½¬æ¢æ–¹æ³•: å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("bytes()")]),e._v(" æ„é€ å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º "),t("code",[e._v("bytes")]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    function trans(string memory _str) external pure returns (bytes memory) {\n        return bytes(_str);\n    }\n}\n")])])]),t("h4",{attrs:{id:"â“º-bytes-åˆ°-å­—ç¬¦ä¸²-çš„è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“º-bytes-åˆ°-å­—ç¬¦ä¸²-çš„è½¬æ¢"}},[e._v("#")]),e._v(" â“º bytes åˆ° å­—ç¬¦ä¸² çš„è½¬æ¢")]),e._v(" "),t("p",[e._v("è½¬æ¢æ–¹æ³•: å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("string()")]),e._v(" æ„é€ å‡½æ•°å°† "),t("code",[e._v("bytes")]),e._v(" è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚")]),e._v(" "),t("p",[e._v("æ³¨æ„: å­—èŠ‚æ•°ç»„åˆ†ä¸ºåŠ¨æ€å¤§å°å’Œå›ºå®šå¤§å°çš„ã€‚å¦‚æœæ˜¯å›ºå®šå¤§å°å­—èŠ‚æ•°ç»„ï¼Œéœ€è¦å…ˆè½¬ä¸ºåŠ¨æ€å¤§å°å­—èŠ‚æ•°ç»„ã€‚")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("åŠ¨æ€å¤§å°å­—èŠ‚æ•°ç»„")]),e._v(" â€”> "),t("code",[e._v("string")])]),e._v(" "),t("li",[t("code",[e._v("å›ºå®šå¤§å°å­—èŠ‚æ•°ç»„")]),e._v(" â€”> "),t("code",[e._v("åŠ¨æ€å¤§å°å­—èŠ‚æ•°ç»„")]),e._v(" â€”> "),t("code",[e._v("string")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Test {\n    string public data1;\n    string public data2;\n\n    // `åŠ¨æ€å¤§å°å­—èŠ‚æ•°ç»„` â€”> `string`\n    function trans1() external {\n        bytes memory bstr = new bytes(2);\n        bstr[0] = "a";\n        bstr[1] = "b";\n        data1 = string(bstr);\n    }\n\n    // `å›ºå®šå¤§å°å­—èŠ‚æ•°ç»„` â€”> `åŠ¨æ€å¤§å°å­—èŠ‚æ•°ç»„` â€”> `string`\n    function trans2() external {\n        // å›ºå®šå¤§å°å­—èŠ‚æ•°ç»„\n        bytes2 ab = 0x6162;\n\n        // `å›ºå®šå¤§å°å­—èŠ‚æ•°ç»„` â€”> `åŠ¨æ€å¤§å°å­—èŠ‚æ•°ç»„`\n        bytes memory temp = new bytes(ab.length); // å¯å˜å­—èŠ‚æ•°ç»„åˆ›å»ºæ–¹å¼\n        for (uint256 i = 0; i < ab.length; i++) {\n            temp[i] = ab[i];\n        }\n\n        // `åŠ¨æ€å¤§å°å­—èŠ‚æ•°ç»„` â€”> `string`\n        data2 = string(temp);\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“»-æ¯”è¾ƒ-2-ä¸ª-bytes-å€¼æ˜¯å¦ç›¸ç­‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“»-æ¯”è¾ƒ-2-ä¸ª-bytes-å€¼æ˜¯å¦ç›¸ç­‰"}},[e._v("#")]),e._v(" â“» æ¯”è¾ƒ 2 ä¸ª bytes å€¼æ˜¯å¦ç›¸ç­‰")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    bytes welcome1 = bytes("Welcome");\n    bytes welcome2 = bytes("Welcome");\n\n    function test1() public view returns (bool) {\n        return keccak256(welcome2) == keccak256(welcome1);\n    }\n}\n')])])]),t("h3",{attrs:{id:"_3-string"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-string"}},[e._v("#")]),e._v(" 3.string")]),e._v(" "),t("p",[e._v("Solidity ä¸­ï¼Œå­—ç¬¦ä¸²å€¼ä½¿ç”¨åŒå¼•å·("),t("code",[e._v('""')]),e._v(")æˆ–å•å¼•å·("),t("code",[e._v("''")]),e._v(")åŒ…æ‹¬ï¼Œå­—ç¬¦ä¸²ç±»å‹ç”¨ string è¡¨ç¤ºã€‚"),t("code",[e._v("string")]),e._v(" å’Œ "),t("code",[e._v("bytes")]),e._v(" ç±»å‹çš„å˜é‡æ˜¯ç‰¹æ®Šçš„æ•°ç»„ï¼Œæ˜¯å¼•ç”¨ç±»å‹ã€‚")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-21"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-21"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=34",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 7 èŠ‚å¼•ç”¨ç±»å‹: string")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=nnJgvvObd5o&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=34",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 7 èŠ‚å¼•ç”¨ç±»å‹: string")])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-æ ¼å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-æ ¼å¼"}},[e._v("#")]),e._v(" â“µ æ ¼å¼")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("\"abc\"\n'hello'\n")])])]),t("p",[e._v("ä¾‹å­")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract For {\n    string public a = \"a\" \"b\" \"c\";\n    string public b = \"abc\";\n    string public c = 'x' 'y' 'z';\n    string public d = 'xyz';\n}\n")])])]),t("h4",{attrs:{id:"â“¶-å±æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-å±æ€§"}},[e._v("#")]),e._v(" â“¶ å±æ€§")]),e._v(" "),t("p",[e._v("string å¹¶æ²¡æœ‰è·å–å…¶å­—ç¬¦ä¸²é•¿åº¦çš„ length å±æ€§; ä¹Ÿæ²¡æä¾›è·å–æŸä¸ªç´¢å¼•å­—èŠ‚ç çš„ç´¢å¼•å±æ€§ã€‚")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬å¯ä»¥é€šè¿‡æŠŠ string è½¬æ¢æˆ "),t("code",[e._v("bytes")]),e._v("ï¼Œå€ŸåŠ©"),t("code",[e._v("bytes")]),e._v(" çš„å±æ€§ã€‚")]),e._v(" "),t("p",[e._v("ä¾‹å­: ä¸‹é¢æ˜¯ä½¿ç”¨ "),t("code",[e._v("getLength()")]),e._v(" è·å–é•¿åº¦ï¼Œä½¿ç”¨"),t("code",[e._v("modi()")]),e._v("ä¿®æ”¹å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ "),t("code",[e._v("getIndexValue()")]),e._v(" è·å–å­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•çš„æ•°æ®ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    string public welcome = "1.Welcome";\n\n    function getLength() public view returns (uint256 welcomeLength) {\n        welcomeLength = bytes(welcome).length;\n    }\n\n    function getIndexValue(uint256 _index) public view returns (string memory) {\n        bytes1 temp1 = bytes(welcome)[_index]; // è¿”å›å›ºå®šé•¿åº¦çš„ bytes1\n        bytes memory temp2 = new bytes(1); // å¯å˜å­—èŠ‚æ•°ç»„åˆ›å»ºæ–¹å¼\n        temp2[0] = temp1;\n        return string(temp2);\n    }\n\n    function modi() public {\n        bytes(welcome)[0] = bytes1("2");\n    }\n}\n')])])]),t("ul",[t("li",[e._v("è·å–å­—ç¬¦ä¸²çš„é•¿åº¦\n"),t("ul",[t("li",[t("code",[e._v("bytes(str).length")]),e._v(":ä»¥å­—èŠ‚é•¿åº¦è¡¨ç¤ºå­—ç¬¦ä¸²çš„é•¿åº¦")])])]),e._v(" "),t("li",[e._v("æŸä¸ªå­—ç¬¦ä¸²ç´¢å¼•çš„å­—èŠ‚ç \n"),t("ul",[t("li",[t("code",[e._v("bytes1 temp1 = bytes(str)[_index];")]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function getIndexValue(uint256 _index) public view return(string memory) {\n    bytes1 temp1 = bytes(welcome)[_index]; // è¿”å›å›ºå®šé•¿åº¦çš„ bytes1\n    bytes memory temp2 = new bytes(1); // å¯å˜å­—èŠ‚æ•°ç»„åˆ›å»ºæ–¹å¼\n    temp2[0] = temp1;\n    return string(temp2);\n}\n")])])])])])]),e._v(" "),t("li",[e._v("ä¿®æ”¹å­—ç¬¦ä¸²\n"),t("ul",[t("li",[t("code",[e._v("bytes(s)[7] = 'x'")])])])])]),e._v(" "),t("h4",{attrs:{id:"â“·-æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-æ–¹æ³•"}},[e._v("#")]),e._v(" â“· æ–¹æ³•")]),e._v(" "),t("p",[e._v("Solidity string æœ¬èº«å¹¶æ²¡æœ‰æ“ä½œå‡½æ•°ï¼Œéœ€è¦å€ŸåŠ©å…¨å±€çš„å‡½æ•°")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("å­—ç¬¦ä¸²æ‹¼æ¥")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("string.concat()")])]),e._v(" "),t("li",[e._v("å¦‚æœä¸ä½¿ç”¨å‚æ•°è°ƒç”¨ string.concat å°†è¿”å›ç©ºæ•°ç»„ã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("å°† bytes è½¬æ¢åˆ° å­—ç¬¦ä¸²")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("string()")])])])]),e._v(" "),t("li",[t("p",[e._v("å°† å­—ç¬¦ä¸² è½¬æ¢åˆ° bytes")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("bytes()")])])])]),e._v(" "),t("li",[t("p",[e._v("æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("keccak256(abi.encodePacked(s1)) == keccak256(abi.encodePacked(s2))")])]),e._v(" "),t("li",[t("code",[e._v("keccak256(bytes(s1)) == keccak256(bytes(s2))")]),e._v(":æ›´çœ gas")])])]),e._v(" "),t("li",[t("p",[e._v("æœ‰æ²¡æœ‰å¦‚ä¸‹åŠæ³•å‘¢ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("push")]),e._v(" "),t("li",[e._v("pop")]),e._v(" "),t("li",[e._v("delete")]),e._v(" "),t("li",[t("code",[e._v("x[start:end]")])])])])]),e._v(" "),t("h4",{attrs:{id:"â“¸-å­—ç¬¦ä¸²æ‹¼æ¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-å­—ç¬¦ä¸²æ‹¼æ¥"}},[e._v("#")]),e._v(" â“¸ å­—ç¬¦ä¸²æ‹¼æ¥")]),e._v(" "),t("p",[e._v("å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("string.concat")]),e._v(" è¿æ¥ä»»æ„æ•°é‡çš„ string å­—ç¬¦ä¸²ã€‚ è¯¥å‡½æ•°è¿”å›ä¸€ä¸ª "),t("code",[e._v("string memory")]),e._v(" ï¼ŒåŒ…å«æ‰€æœ‰å‚æ•°çš„å†…å®¹ï¼Œæ— å¡«å……æ–¹å¼æ‹¼æ¥åœ¨ä¸€èµ·ã€‚ å¦‚æœä½ æƒ³ä½¿ç”¨ä¸èƒ½éšå¼è½¬æ¢ä¸º string çš„å…¶ä»–ç±»å‹ä½œä¸ºå‚æ•°ï¼Œä½ éœ€è¦å…ˆæŠŠå®ƒä»¬è½¬æ¢ä¸º stringã€‚")]),e._v(" "),t("p",[t("strong",[e._v("string.concat ä¾‹å­")])]),e._v(" "),t("p",[e._v("è¾“å…¥å­—ç¬¦ä¸²ï¼Œè¾“å‡ºæ‹¼æ¥åçš„å­—ç¬¦ä¸²")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    string public welcome = "Welcome";\n\n    // å†™ä¸€ä¸ª welcome username çš„å°æ–¹æ³•\n    // Welcome Anbang!\n    function test(string memory name_)\n        public\n        view\n        returns(string memory concatString){\n            bytes memory bs = bytes("!");\n            // welcome + name_ + bs\n            // å†…éƒ¨æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œå¦‚æœæ˜¯bytesï¼Œéœ€è¦è½¬æ¢ä¸º string ç±»å‹\n            concatString = string.concat(\n                welcome,\n                name_,\n                string(bs)\n            );\n        }\n}\n')])])]),t("p",[e._v("å¦‚æœä½ ä¸ä½¿ç”¨å‚æ•°è°ƒç”¨ "),t("code",[e._v("string.concat")]),e._v(" æˆ– "),t("code",[e._v("bytes.concat")]),e._v(" å°†è¿”å›ç©ºæ•°ç»„ã€‚")]),e._v(" "),t("p",[e._v("æ¨èäº†è§£ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// è¿™æ˜¯ä¸€ç§ string.concat æ–¹æ³•çš„å®ç°\nfunction strConcat(string memory _a, string memory _b)\n    internal\n    pure\n    returns (string memory)\n{\n    bytes memory _ba = bytes(_a);\n    bytes memory _bb = bytes(_b);\n    string memory ret = new string(_ba.length + _bb.length);\n    bytes memory bret = bytes(ret);\n    uint256 k = 0;\n    for (uint256 i = 0; i < _ba.length; i++) bret[k++] = _ba[i];\n    for (uint256 i = 0; i < _bb.length; i++) bret[k++] = _bb[i];\n    return string(ret);\n}\n")])])]),t("h4",{attrs:{id:"â“¹-bytes-å’Œ-å­—ç¬¦ä¸²-ä¹‹é—´è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¹-bytes-å’Œ-å­—ç¬¦ä¸²-ä¹‹é—´è½¬æ¢"}},[e._v("#")]),e._v(" â“¹ bytes å’Œ å­—ç¬¦ä¸² ä¹‹é—´è½¬æ¢")]),e._v(" "),t("p",[e._v("è§ bytes ç« èŠ‚ä¸­çš„å†…å®¹ï¼Œè¿™é‡Œä¸å†é‡å¤ä»‹ç»ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“º-æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“º-æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰"}},[e._v("#")]),e._v(" â“º æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰")]),e._v(" "),t("p",[e._v("æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å€ŸåŠ© keccak256 æ¥ä½¿ç”¨:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("keccak256(abi.encodePacked(s1)) == keccak256(abi.encodePacked(s2))")])]),e._v(" "),t("li",[t("code",[e._v("keccak256(bytes(s1)) == keccak256(bytes(s2))")]),e._v(" : æ›´æ¨èè¿™ä¸ªï¼Œçœ gas")])]),e._v(" "),t("p",[e._v("æ³¨æ„ï¼šä¸Šé¢ "),t("code",[e._v("abi.encodePacked")]),e._v(" çš„è¿”å›å€¼æ˜¯ "),t("code",[e._v("bytes")]),e._v(" ç±»å‹ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    string public hello = "Hello";\n\n    // string è½¬æˆ bytes\n    function test1() public view\n        returns (bytes memory,bytes memory) {\n        return (abi.encodePacked(hello),bytes(hello));\n    }\n\n    function test2(string calldata hello_) public view returns (bool) {\n        // è¿™é‡Œåªè¦èƒ½å¤Ÿè½¬æ¢æˆ bytesçš„éƒ½å¯ä»¥ã€‚\n        // æ›´å¤šæ–¹æ³•å¯ä»¥å‚è€ƒåé¢ä»‹ç»çš„ å…¨å±€ ABI ç¼–ç å‡½æ•°\n        return\n            keccak256(abi.encodePacked(hello)) ==\n            keccak256(abi.encodePacked(hello_));\n    }\n\n    function test3(string calldata hello_) public view returns (bool) {\n        return keccak256(bytes(hello)) == keccak256(bytes(hello_));\n    }\n\n}\n')])])]),t("p",[e._v("å‡ ä¸ªå¸¸ç”¨çš„å…¨å±€ ABI ç¼–ç å‡½æ•°çš„ç®€å•ç”¨æ³•ä»‹ç»ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    string public hello = "Hello Anbang";\n    bytes public temp1 = abi.encodePacked(hello);\n    bytes public temp2 = abi.encode(hello);\n\n    bytes public temp3 = abi.encodeWithSignature(hello);\n    bytes public temp4 = abi.encodeWithSignature("Hello Anbang1");\n}\n')])])]),t("p",[e._v("å¦‚æœæ¯”è¾ƒå¤šä¸ªå‚æ•°çš„æ‹¼æ¥å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œè°¨æ…ä½¿ç”¨ "),t("code",[e._v("abi.encodePacked")]),e._v("äº†ï¼Œå› ä¸ºç´§å‹ç¼©æœºåˆ¶çš„é—®é¢˜ã€‚è¯¦ç»†å¯ä»¥åœ¨ "),t("code",[e._v("abi.encodePacked")]),e._v(" ä¸­äº†è§£")]),e._v(" "),t("h3",{attrs:{id:"_4-mapping-æ˜ å°„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-mapping-æ˜ å°„"}},[e._v("#")]),e._v(" 4.mapping æ˜ å°„")]),e._v(" "),t("p",[e._v("mapping å¯ä»¥çœ‹ä½œä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œä¼šæ‰§è¡Œè™šæ‹ŸåŒ–åˆå§‹åŒ–ï¼Œä½¿æ‰€æœ‰å¯èƒ½çš„å€¼éƒ½æ˜¯è¯¥ç±»å‹çš„é»˜è®¤å€¼ã€‚å…¶å® mapping å¹¶ä¸æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œæ²¡æœ‰ key é›†åˆï¼Œä¹Ÿæ²¡æœ‰ value é›†åˆï¼Œæ‰€ä»¥ mapping æ²¡åŠæ³•éå†/è¿­ä»£ã€‚")]),e._v(" "),t("p",[e._v("æ•°ç»„ä¸­æ‰¾æŸä¸€ä¸ªå€¼ï¼Œéœ€è¦å¾ªç¯éå†ï¼Œè¿™æ˜¯å¾ˆæ¶ˆè€— Gas çš„ï¼Œè€Œä½¿ç”¨ mapping å°±å¯ä»¥å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ˜ å°„å¯ä»¥å¾ˆæ–¹ä¾¿çš„è·å–æŸä¸ªå€¼ã€‚æ˜ å°„å¹¶æ²¡æœ‰åšè¿­ä»£çš„æ–¹æ³•ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("æ˜ å°„å£°æ˜")]),e._v(" "),t("li",[e._v("æ˜ å°„çš„è®¾ç½®ï¼Œè·å–ï¼Œåˆ é™¤")])]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-22"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-22"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=35",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 7 èŠ‚å¼•ç”¨ç±»å‹: mapping æ˜ å°„")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=bNc2nJX4cT0&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=35",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 7 èŠ‚å¼•ç”¨ç±»å‹: mapping æ˜ å°„")])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-æœ¬èŠ‚é‡ç‚¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-æœ¬èŠ‚é‡ç‚¹"}},[e._v("#")]),e._v(" â“µ æœ¬èŠ‚é‡ç‚¹")]),e._v(" "),t("p",[e._v("å£°æ˜æ˜ å°„ç±»å‹çš„è¯­æ³•ï¼š"),t("code",[e._v("mapping(_KeyType => _ValueType)")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("_KeyType")]),e._v("ï¼šå¯ä»¥æ˜¯ä»»ä½•å†…ç½®ç±»å‹ï¼Œæˆ–è€… bytes å’Œ å­—ç¬¦ä¸²ã€‚\n"),t("ul",[t("li",[e._v("é”®æ˜¯å”¯ä¸€çš„ï¼Œå…¶èµ‹å€¼æ–¹å¼ä¸ºï¼š"),t("code",[e._v("map[a]=test")]),e._v("; æ„æ€æ˜¯é”®ä¸º a,å€¼ä¸º testï¼›ã€‚")])])]),e._v(" "),t("li",[t("code",[e._v("_ValueType")]),e._v("ï¼š å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ä¹Ÿå¯ä»¥ã€‚")]),e._v(" "),t("li",[e._v("mapping æ”¯æŒåµŒå¥—ã€‚")]),e._v(" "),t("li",[e._v("æ˜ å°„çš„æ•°æ®ä½ç½®(data location)åªèƒ½æ˜¯ "),t("code",[e._v("storage")]),e._v("ï¼Œé€šå¸¸ç”¨äºçŠ¶æ€å˜é‡ã€‚")]),e._v(" "),t("li",[t("code",[e._v("mapping")]),e._v(" ä¸èƒ½ç”¨äº "),t("code",[e._v("public")]),e._v(" å‡½æ•°çš„å‚æ•°æˆ–è¿”å›ç»“æœ\n"),t("ul",[t("li",[e._v("æ˜ å°„åªèƒ½æ˜¯ storage çš„æ•°æ®ä½ç½®ï¼Œå› æ­¤åªå…è®¸ä½œä¸ºçŠ¶æ€å˜é‡ æˆ– ä½œä¸ºå‡½æ•°å†…çš„ storage å¼•ç”¨ æˆ– ä½œä¸ºåº“å‡½æ•°çš„å‚æ•°ã€‚å®ƒä»¬ä¸èƒ½ç”¨åˆçº¦å…¬æœ‰å‡½æ•°çš„å‚æ•°æˆ–è¿”å›å€¼ã€‚")]),e._v(" "),t("li",[e._v("è¿™äº›é™åˆ¶åŒæ ·é€‚ç”¨äºåŒ…å«æ˜ å°„çš„æ•°ç»„å’Œç»“æ„ä½“ã€‚")])])]),e._v(" "),t("li",[e._v("æ˜ å°„å¯ä»¥æ ‡è®°ä¸º "),t("code",[e._v("public")]),e._v("ï¼ŒSolidity è‡ªåŠ¨ä¸ºå®ƒåˆ›å»º getter å‡½æ•°ã€‚\n"),t("ul",[t("li",[t("code",[e._v("_KeyType")]),e._v(" å°†æˆä¸º "),t("code",[e._v("getter")]),e._v(" çš„å¿…é¡»å‚æ•°ï¼Œå¹¶ä¸” getter ä¼šè¿”å› "),t("code",[e._v("_ValueType")]),e._v("ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœ "),t("code",[e._v("ValueType")]),e._v(" æ˜¯ä¸€ä¸ªæ˜ å°„ã€‚è¿™æ—¶åœ¨ä½¿ç”¨ "),t("code",[e._v("getter")]),e._v(" æ—¶å°†éœ€è¦é€’å½’åœ°ä¼ å…¥æ¯ä¸ª "),t("code",[e._v("KeyType")]),e._v(" å‚æ•°ï¼Œ")])])])]),e._v(" "),t("p",[e._v("é—®ç­”é¢˜ï¼šä¸ºä»€ä¹ˆæ˜ å°„ä¸èƒ½åƒå“ˆå¸Œè¡¨ä¸€æ ·éå†ï¼Ÿ")]),e._v(" "),t("p",[e._v("æ˜ å°„ä¸å“ˆå¸Œè¡¨ä¸åŒçš„åœ°æ–¹ï¼š"),t("strong",[e._v("åœ¨æ˜ å°„ä¸­,å¹¶ä¸å­˜å‚¨ keyï¼Œè€Œæ˜¯å­˜å‚¨å®ƒçš„ "),t("code",[e._v("keccak256")]),e._v(" å“ˆå¸Œå€¼ï¼Œä»è€Œä¾¿äºæŸ¥è¯¢å®é™…çš„å€¼")]),e._v("ã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œæ˜ å°„æ˜¯æ²¡æœ‰é•¿åº¦çš„ï¼Œä¹Ÿæ²¡æœ‰ "),t("code",[e._v("key çš„é›†åˆ")]),e._v("æˆ– "),t("code",[e._v("value çš„é›†åˆ")]),e._v("çš„æ¦‚å¿µã€‚æ˜ å°„åªèƒ½æ˜¯å­˜å‚¨çš„æ•°æ®ä½ç½®ï¼Œå› æ­¤åªå…è®¸ä½œä¸ºçŠ¶æ€å˜é‡æˆ–ä½œä¸ºå‡½æ•°å†…çš„å­˜å‚¨å¼•ç”¨ æˆ– ä½œä¸ºåº“å‡½æ•°çš„å‚æ•°ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“¶-åˆ›å»ºæ ¼å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-åˆ›å»ºæ ¼å¼"}},[e._v("#")]),e._v(" â“¶ åˆ›å»ºæ ¼å¼")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Mapping {\n    // æ™®é€š\n    mapping(address => uint256) public balances;\n\n    // åµŒå¥—\n    mapping(address => mapping(address => bool)) public friends;\n}\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// ä¸èƒ½åƒ array ä¸€æ ·è¿”å›æ‰€æœ‰\ncontract Demo {\n    mapping(address => uint256) public balances;\n\n    function getAllBalance() public view\n        returns(mapping(address => uint256) memory){\n        return balances;\n    }\n\n}\n")])])]),t("h4",{attrs:{id:"â“·-å¦‚ä½•è·å–-è®¾ç½®-åˆ é™¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-å¦‚ä½•è·å–-è®¾ç½®-åˆ é™¤"}},[e._v("#")]),e._v(" â“· å¦‚ä½•è·å–-è®¾ç½®-åˆ é™¤")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Mapping {\n    // æ™®é€š\n    mapping(address => uint256) public balances;\n\n    // åµŒå¥—\n    mapping(address => mapping(address => bool)) public friends;\n\n    constructor() {\n        balances[msg.sender] = 100;\n    }\n\n    function blanceGet() external view returns (uint256) {\n        // è·å–\n        return balances[msg.sender];\n    }\n\n    function blanceSet(uint256 amount) external {\n        // è®¾ç½®\n        balances[msg.sender] += amount;\n    }\n\n    function blanceDelete() external {\n        // åˆ é™¤\n        delete balances[msg.sender];\n    }\n\n    function friendGet() external view returns (bool) {\n        // è·å–\n        return friends[msg.sender][address(0)];\n    }\n\n    function friendSet() external {\n        // è®¾ç½®\n        friends[msg.sender][address(0)] = true;\n    }\n\n    function friendDelete() external {\n        // åˆ é™¤\n        delete friends[msg.sender][address(0)];\n        // delete friends[msg.sender];\n    }\n}\n")])])]),t("h4",{attrs:{id:"â“¸-ä½œä¸ºå±€éƒ¨å˜é‡çš„ä½¿ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-ä½œä¸ºå±€éƒ¨å˜é‡çš„ä½¿ç”¨"}},[e._v("#")]),e._v(" â“¸ ä½œä¸ºå±€éƒ¨å˜é‡çš„ä½¿ç”¨")]),e._v(" "),t("p",[t("code",[e._v("mapping")]),e._v(" ç±»å‹å¯ä»¥ç”¨åšå±€éƒ¨å˜é‡ï¼Œä½†åªèƒ½å¼•ç”¨çŠ¶æ€å˜é‡ï¼Œè€Œä¸”å­˜å‚¨ä½ç½®ä¸º storageã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// ä½œä¸ºå±€éƒ¨å˜é‡çš„ä½¿ç”¨\ncontract Demo {\n    // æ™®é€š mapping\n    mapping(address => uint256) public balances; // æ™®é€šmapping\n\n    // storage: æ”¹å˜å†…éƒ¨ refï¼Œä¼šå½±å“ balances çš„å€¼\n    // ä¸èƒ½å£°æ˜ä¸º memory\n    function updataBalance() public returns(uint256){\n        // mapping(address=>uint256) memory ref = balances; // âŒ\n        mapping(address=>uint256) storage ref = balances;\n        ref[msg.sender] += 3;\n        return ref[msg.sender];\n    }\n\n}\n")])])]),t("h4",{attrs:{id:"â“¹-åœ¨-erc20-token-ä¸­çš„ç”¨æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¹-åœ¨-erc20-token-ä¸­çš„ç”¨æ³•"}},[e._v("#")]),e._v(" â“¹ åœ¨ ERC20 token ä¸­çš„ç”¨æ³•")]),e._v(" "),t("p",[e._v("ä¸‹é¢çš„ä¾‹å­æ˜¯ã€€ ERC20 token ã€€çš„ç®€å•ç‰ˆæœ¬ï¼ "),t("code",[e._v("_allowances")]),e._v(" æ˜¯ä¸€ä¸ªåµŒå¥— mapping çš„ä¾‹å­ï¼ "),t("code",[e._v("_allowances")]),e._v(" ç”¨æ¥è®°å½•å…¶ä»–çš„è´¦å·ï¼Œå¯ä»¥å…è®¸ä»å…¶è´¦å·ä½¿ç”¨å¤šå°‘æ•°é‡çš„å¸ï¼")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// mapping åœ¨ ERC20 token ä¸­çš„ç”¨æ³•\ncontract MappingExample {\n    // ä½™é¢\n    mapping(address => uint256) private _balances;\n    // æˆæƒ:\n    // æˆæƒäºº - ä»£ç†äºº - æˆæƒé‡‘é¢\n    mapping(address => mapping(address => uint256)) private _allowances;\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n    event Approval(\n        address indexed owner,\n        address indexed spender,\n        uint256 value\n    );\n\n    // è·å–ï¼šæˆæƒé‡‘é¢\n    function allowance(address owner, address spender)\n        public\n        view\n        returns (uint256)\n    {\n        return _allowances[owner][spender];\n    }\n\n    // æ£€æŸ¥ï¼šæˆæƒé‡‘é¢å¤§äºç­‰äºéœ€è¦æ“ä½œçš„é‡‘é¢\n    function transferFrom(\n        address sender,\n        address recipient,\n        uint256 amount\n    ) public returns (bool) {\n        require(\n            _allowances[sender][msg.sender] >= amount,\n            "ERC20: Allowance not high enough."\n        );\n        _allowances[sender][msg.sender] -= amount; // è®¾ç½®é¢åº¦\n        _transfer(sender, recipient, amount);\n        return true;\n    }\n    // è®¾ç½®ï¼š\n    function approve(address spender, uint256 amount) public returns (bool) {\n        require(spender != address(0), "ERC20: approve to the zero address");\n\n        _allowances[msg.sender][spender] = amount;\n        emit Approval(msg.sender, spender, amount);\n        return true;\n    }\n\n    function _transfer(\n        address sender,\n        address recipient,\n        uint256 amount\n    ) internal {\n        require(sender != address(0), "ERC20: transfer from the zero address");\n        require(recipient != address(0), "ERC20: transfer to the zero address");\n        require(_balances[sender] >= amount, "ERC20: Not enough funds.");\n\n        _balances[sender] -= amount;\n        _balances[recipient] += amount;\n        emit Transfer(sender, recipient, amount);\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“º-å¯è¿­ä»£æ˜ å°„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“º-å¯è¿­ä»£æ˜ å°„"}},[e._v("#")]),e._v(" â“º å¯è¿­ä»£æ˜ å°„")]),e._v(" "),t("p",[e._v("éå†æ‰€æœ‰ Mapping å†…çš„æ•°æ®ï¼Œï¼ˆMapping é…åˆ array ï¼‰")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    mapping(address => uint256) public balances;\n    // ç”¨äºæ£€æŸ¥:åœ°å€æ˜¯å¦å·²ç»å­˜åœ¨äº balancesKey\n    mapping(address => bool) public balancesInserted;\n    address[] public balancesKey; // æ‰€æœ‰åœ°å€\n\n    // è®¾ç½®\n    function set(address ads_,uint256 amount_) external{\n        balances[ads_] = amount_;\n        // 1.æ£€æŸ¥\n        if(!balancesInserted[ads_]){\n            // 2.ä¿®æ”¹æ£€æŸ¥æ¡ä»¶\n            balancesInserted[ads_] = true;\n            // 3.æ­£åœ¨çš„æ“ä½œ\n            balancesKey.push(ads_);\n        }\n    }\n    // è·å–\n    function get(uint256 index_) external view returns(uint256){\n        require(index_<balancesKey.length,"index_ error");\n        return balances[balancesKey[index_]];\n    }\n    // è·å–æ‰€æœ‰\n    function totalAddress() external view returns(uint256){\n        return balancesKey.length;\n    }\n\n    // è·å–ç¬¬ä¸€ä¸ªå€¼\n    function first() external view returns(uint256){\n        return balances[balancesKey[0]];\n    }\n    // æœ€åä¸€ä¸ªå€¼\n    function latest() external view returns(uint256){\n        return balances[balancesKey[balancesKey.length-1]];\n    }\n}\n')])])]),t("ul",[t("li",[t("p",[e._v("æ›´å®Œå–„çš„å®ç°: https://github.com/ethereum/dapp-bin/blob/master/library/iterable_mapping.sol")])]),e._v(" "),t("li",[t("p",[e._v("æ›´æ–°çš„å®ç°: https://learnblockchain.cn/docs/solidity/types.html#iterable-mappings")])])]),e._v(" "),t("h3",{attrs:{id:"_5-struct-ç»“æ„ä½“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-struct-ç»“æ„ä½“"}},[e._v("#")]),e._v(" 5.struct ç»“æ„ä½“")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-23"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-23"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=36",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 7 èŠ‚å¼•ç”¨ç±»å‹: struct ç»“æ„ä½“")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=US5_yCXw1kE&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=36",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 7 èŠ‚å¼•ç”¨ç±»å‹: struct ç»“æ„ä½“")])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-åˆ›å»ºè¯­æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-åˆ›å»ºè¯­æ³•"}},[e._v("#")]),e._v(" â“µ åˆ›å»ºè¯­æ³•")]),e._v(" "),t("p",[e._v("è¦å®šä¹‰ç»“æ„ä½“ï¼Œä½¿ç”¨ "),t("code",[e._v("struct")]),e._v(" å…³é”®å­—ã€‚"),t("code",[e._v("struct")]),e._v(" å…³é”®å­—å®šä¹‰äº†ä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼ŒåŒ…å«å¤šä¸ªæˆå‘˜ã€‚ç»“æ„ä½“æ˜¯å¯ä»¥å°†å¤šä¸ªå˜é‡è¿›è¡Œç¼–ç»„çš„è‡ªå®šä¹‰ç±»å‹")]),e._v(" "),t("p",[e._v("struct è¯­å¥çš„æ ¼å¼å¦‚ä¸‹")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("struct StructName {\n   type1 typeName1;\n   type2 typeName2;\n   type3 typeName3;\n}\n")])])]),t("p",[e._v("ä¾‹å­:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    struct Book {\n        string title;\n        string author;\n        uint256 book_id;\n    }\n    Book public book = Book("Solidity", "Anbang", 1);\n}\n')])])]),t("h4",{attrs:{id:"â“¶-ä¸‰ç§åˆ›å»ºæ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-ä¸‰ç§åˆ›å»ºæ–¹æ³•"}},[e._v("#")]),e._v(" â“¶ ä¸‰ç§åˆ›å»ºæ–¹æ³•")]),e._v(" "),t("p",[e._v("åŸºç¡€æ–¹å¼ï¼š"),t("code",[e._v("Test t = Test(1,2);")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Structs {\n    struct Book {\n        string title;\n        string author;\n        uint256 book_id;\n    }\n\n    uint256 private bookId;\n    Book[] public bookcase; // ä¹¦æŸœ:æ•°ç»„ç±»å‹\n\n    function setA1Bookcase() external {\n        // ç¬¬1ç§ç”Ÿæˆæ–¹æ³•ï¼šé¡ºåºä¸€å®šè¦å’Œç»“æ„ä¸€è‡´\n        Book memory temp = Book(\n            unicode"Solidity é«˜çº§ç¨‹åºè®¾è®¡",\n            "Anbang",\n            ++bookId\n        );\n        bookcase.push(temp);\n    }\n\n    // âœ… æœ€ä¼˜æ–¹æ¡ˆï¼Œæ¨è: å…ˆå†™å…¥å†…å­˜ï¼Œç„¶åpush\n    function setB1Bookcase() external {\n        // ç¬¬ 2 ç§ç”Ÿæˆ\n        Book memory temp = Book({\n            title: unicode"Solidity é«˜çº§ç¨‹åºè®¾è®¡",\n            author: "Anbang",\n            book_id: ++bookId\n        });\n        bookcase.push(temp);\n    }\n\n    function setB2Bookcase() external {\n        // ç¬¬ 2 ç§ç”Ÿæˆ: ç›´æ¥ pushï¼Œæ— å˜é‡\n        bookcase.push(\n            Book({\n                title: unicode"Solidity é«˜çº§ç¨‹åºè®¾è®¡",\n                author: "Anbang",\n                book_id: ++bookId\n            })\n        );\n    }\n\n    function setC1Bookcase() external {\n        // ç¬¬ 3 ç§ç”Ÿæˆ: æ¨è\n        Book memory temp;\n        temp.title = unicode"Solidity é«˜çº§ç¨‹åºè®¾è®¡";\n        temp.author = "Anbang";\n        temp.book_id = ++bookId;\n        bookcase.push(temp);\n    }\n}\n')])])]),t("p",[e._v("æ€»ç»“ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// ç¬¬ 1 ç§ç”Ÿæˆ\nBook memory solidity1 = Book(unicode"Solidity é«˜çº§ç¨‹åºè®¾è®¡", "Anbang", ++bookId);\n\n// ç¬¬ 2 ç§ç”Ÿæˆ\nBook memory solidity2 = Book({\n    title: unicode"Solidity é«˜çº§ç¨‹åºè®¾è®¡",\n    author: "Anbang",\n    book_id: ++bookId,\n});\n\n// ç¬¬ 3 ç§ç”Ÿæˆ\nBook memory temp;\ntemp.title = unicode"Solidity é«˜çº§ç¨‹åºè®¾è®¡";\ntemp.author = "Anbang";\ntemp.book_id = ++bookId;\n')])])]),t("h4",{attrs:{id:"â“·-è¯»å–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-è¯»å–"}},[e._v("#")]),e._v(" â“· è¯»å–")]),e._v(" "),t("p",[e._v("å‡½æ•°å†…ä»…è¯»å–ç»“æ„ä½“ï¼Œä½¿ç”¨ memory å’Œ storage åŒºåˆ«:")]),e._v(" "),t("ol",[t("li",[e._v("å‡½æ•°å†…è¯»å–å¹¶è¿”å›,å¦‚æœä½¿ç”¨ memory å˜é‡æ¥æ”¶:\n"),t("ol",[t("li",[e._v("ä»çŠ¶æ€å˜é‡æ‹·è´åˆ°å†…å­˜ä¸­ï¼Œç„¶åå†…å­˜ä¸­çš„å˜é‡æ‹·è´åˆ°è¿”å›å€¼ã€‚ä¸¤æ¬¡æ‹·è´ï¼Œæ¶ˆè€— gas å¤š")]),e._v(" "),t("li",[t("code",[e._v("Book memory _book = book;")])])])]),e._v(" "),t("li",[e._v("å‡½æ•°å†…è¯»å–å¹¶è¿”å›ï¼Œå¦‚æœä½¿ç”¨ storage å˜é‡æ¥æ”¶:\n"),t("ol",[t("li",[e._v("ç›´æ¥ä»çŠ¶æ€å˜é‡è¯»å–ï¼ŒçŠ¶æ€å˜é‡æ‹·è´åˆ°è¿”å›å€¼ã€‚1 æ¬¡æ‹·è´ï¼Œæ¶ˆè€— gas å°")])])]),e._v(" "),t("li",[e._v("æ€»ç»“: è¯»å–æ—¶å€™æ¨èä½¿ç”¨ "),t("code",[e._v("storage")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// è¯»å–\ncontract Demo {\n    struct Book {\n        string title;\n        string author;\n        uint256 book_id;\n    }\n    Book public book = Book("Solidity", "Anbang", 1);\n\n    // memory  30029 gas\n    // å‡½æ•°å†…è¯»å–å¹¶è¿”å›ï¼šä½¿ç”¨ memory å˜é‡æ¥æ”¶\n    //  ä¸¤æ¬¡æ‹·è´ï¼Œæ‰€ä»¥æ¶ˆè€—çš„ gas å¤š\n    function get1() external view\n        returns(\n            string memory,\n            string memory,\n            uint256\n        )\n    {\n         // ä»çŠ¶æ€å˜é‡æ‹·è´åˆ°å†…å­˜ä¸­\n        Book memory _book = book;\n        // å†…å­˜ä¸­çš„å˜é‡æ‹·è´åˆ°è¿”å›å€¼ï¼›2æ¬¡æ‹·è´\n        return (_book.title,_book.author,_book.book_id);\n    }\n\n    // storage 29983 gas\n    // å‡½æ•°å†…è¯»å–å¹¶è¿”å›ï¼šä½¿ç”¨ storage å˜é‡æ¥æ”¶\n    function get2() external view\n        returns(\n            string memory,\n            string memory,\n            uint256\n        )\n    {\n        // ä»çŠ¶æ€å˜é‡è¯»å–ï¼Œæ²¡æœ‰æ‹·è´çš„è¡Œä¸º\n        Book storage _book = book;\n\n        // çŠ¶æ€å˜é‡æ‹·è´åˆ°è¿”å›å€¼ã€‚1æ¬¡æ‹·è´\n        return (_book.title,_book.author,_book.book_id);\n    }\n\n}\n')])])]),t("h4",{attrs:{id:"â“¸-ä¿®æ”¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-ä¿®æ”¹"}},[e._v("#")]),e._v(" â“¸ ä¿®æ”¹")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// ä¿®æ”¹\ncontract Demo {\n    struct Book {\n        string title;\n        string author;\n        uint256 book_id;\n    }\n    Book public book = Book("Solidity", "Anbang", 1);\n\n    function modi() external {\n        book.title = "Solidity 666";\n    }\n}\n')])])]),t("p",[e._v("å‡½æ•°å†…è¯»å–æ—¶ï¼Œæ ‡è®° "),t("code",[e._v("memory")]),e._v(" / "),t("code",[e._v("storage")]),e._v(",ä¼šäº§ç”Ÿå®Œå…¨ä¸åŒçš„ç»“æœï¼›")]),e._v(" "),t("p",[e._v("ç‰¹åˆ«æ³¨æ„ï¼š"),t("strong",[e._v("å¦‚æœç»“æ„ä½“å†…åŒ…å« "),t("code",[e._v("mapping")]),e._v(" ç±»å‹ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ "),t("code",[e._v("storage")]),e._v("ï¼Œä¸å¯ä»¥ä½¿ç”¨ memeory.")]),e._v("ï¼Œå¦åˆ™æŠ¥é”™ "),t("code",[e._v("Type struct ContractName.StructName memory is only valid in storage because it contains a (nested) mapping.")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    struct Book {\n        string title;\n        string author;\n        uint256 book_id;\n    }\n    Book public book = Book("Solidity", "Anbang", 1);\n\n    // view\n    function test1() external view {\n        Book memory bookLocal = book;\n        bookLocal.author = "Anbang666";\n    }\n    // ä¸èƒ½ç”¨viewï¼šå› ä¸ºå†™çŠ¶æ€å˜é‡äº†\n    function test2() external {\n        Book storage bookLocal = book;\n        bookLocal.author = "Anbang777";\n    }\n}\n')])])]),t("p",[e._v("å‡½æ•°å†…è·å–å¹¶ä¿®æ”¹ç»“æ„ä½“ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("å› ä¸ºè¦ä¿®æ”¹çŠ¶æ€å˜é‡ï¼Œæ‰€ä»¥ä½¿ç”¨ storage")]),e._v(" "),t("li",[e._v("å‡½æ•°å†…ç›´æ¥ä¿®æ”¹å˜é‡; åœ¨ä¿®æ”¹ä¸€ä¸ªå±æ€§æ—¶æ¯”è¾ƒçœ Gas è´¹ç”¨")]),e._v(" "),t("li",[e._v("å‡½æ•°å†…å…ˆè·å–å­˜å‚¨åˆ° storage å†ä¿®æ”¹:ä¿®æ”¹å¤šä¸ªå±æ€§çš„æ—¶å€™æ¯”è¾ƒçœ Gas è´¹ç”¨")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Structs {\n    struct Book {\n        string title;\n        string author;\n        uint256 book_id;\n    }\n    uint256 private bookId;\n    Book public book1; // Bookç±»å‹\n    Book public book2; // Bookç±»å‹\n\n    mapping(address => Book) public students; // mapping ç±»å‹\n\n    // è®¾ç½® book1\n    function setBook1() external {\n        Book memory temp;\n        temp.title = unicode"Solidity é«˜çº§ç¨‹åºè®¾è®¡";\n        temp.author = "Anbang";\n        temp.book_id = ++bookId;\n        book1 = temp;\n    }\n\n    // è®¾ç½® book2\n    // âœ… æœ€ä¼˜æ–¹æ¡ˆï¼Œæ¨è:ç›´æ¥ä¿®æ”¹\n    function setBook2() external {\n        book2.title = unicode"Solidity é«˜çº§ç¨‹åºè®¾è®¡";\n        book2.author = "Anbang";\n        book2.book_id = ++bookId;\n    }\n\n    // âœ… æœ€ä¼˜æ–¹æ¡ˆï¼Œæ¨è:ç›´æ¥ä¿®æ”¹\n    function set1Student() external {\n        Book storage temp = students[msg.sender];\n        temp.title = unicode"Solidity é«˜çº§ç¨‹åºè®¾è®¡";\n        temp.author = "Anbang";\n        temp.book_id = ++bookId;\n    }\n\n    function set2Student() external {\n        Book memory temp;\n        temp.title = unicode"Solidity é«˜çº§ç¨‹åºè®¾è®¡";\n        temp.author = "Anbang";\n        temp.book_id = ++bookId;\n        students[msg.sender] = temp;\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“¹-åˆ é™¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¹-åˆ é™¤"}},[e._v("#")]),e._v(" â“¹ åˆ é™¤")]),e._v(" "),t("p",[e._v("åˆ é™¤ç»“æ„ä½“çš„å˜é‡ï¼Œä»…ä»…æ˜¯é‡ç½®æ•°æ®ï¼Œå¹¶ä¸æ˜¯å®Œå…¨çš„åˆ é™¤ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    struct Book {\n        string title;\n        string author;\n        uint256 book_id;\n    }\n    Book public book = Book("Solidity", "Anbang", 1);\n\n    function del() external\n    {\n        delete book;\n    }\n}\n')])])]),t("h2",{attrs:{id:"_8ï¸âƒ£-ç±»å‹è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8ï¸âƒ£-ç±»å‹è½¬æ¢"}},[e._v("#")]),e._v(" 8ï¸âƒ£ ç±»å‹è½¬æ¢")]),e._v(" "),t("p",[e._v("Solidity å…è®¸ç±»å‹ä¹‹é—´è¿›è¡Œéšå¼è½¬æ¢å’Œæ˜¾å¼è½¬æ¢ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("å‰æ–‡å›é¡¾")]),e._v(": "),t("code",[e._v("bytes1")]),e._v(" å¯¹åº” "),t("code",[e._v("uint8")]),e._v("ï¼Œå¯¹åº”ä¸¤ä½è¿ç»­çš„åå…­è¿›åˆ¶æ•°å­— "),t("code",[e._v("0xXX")]),e._v("ã€‚")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-24"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-24"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=37",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 8 èŠ‚: ç±»å‹è½¬æ¢")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=uJ0DDcietlw&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=37",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 8 èŠ‚: ç±»å‹è½¬æ¢")])])]),e._v(" "),t("h3",{attrs:{id:"_1-éšå¼è½¬æ¢-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-éšå¼è½¬æ¢-2"}},[e._v("#")]),e._v(" 1.éšå¼è½¬æ¢")]),e._v(" "),t("h4",{attrs:{id:"â“µ-å‘ç”Ÿåœºæ™¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-å‘ç”Ÿåœºæ™¯"}},[e._v("#")]),e._v(" â“µ å‘ç”Ÿåœºæ™¯")]),e._v(" "),t("p",[e._v("åœ¨"),t("strong",[e._v("èµ‹å€¼")]),e._v(", "),t("strong",[e._v("å‡½æ•°å‚æ•°ä¼ é€’")]),e._v("ä»¥åŠåº”ç”¨è¿ç®—ç¬¦æ—¶ï¼Œä¼šå‘ç”Ÿéšå¼è½¬æ¢ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“¶-è½¬æ¢çš„æ ‡å‡†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-è½¬æ¢çš„æ ‡å‡†"}},[e._v("#")]),e._v(" â“¶ è½¬æ¢çš„æ ‡å‡†")]),e._v(" "),t("ol",[t("li",[e._v("å€¼ç±»å‹")]),e._v(" "),t("li",[e._v("æºç±»å‹å¿…é¡»æ˜¯ç›®æ ‡ç±»å‹çš„å­é›†ã€‚")])]),e._v(" "),t("p",[e._v("ä¾‹å¦‚ï¼Œ"),t("code",[e._v("uint8")]),e._v(" å¯ä»¥è½¬æ¢ä¸º "),t("code",[e._v("uint16")]),e._v("/"),t("code",[e._v("uint24")]),e._v("../"),t("code",[e._v("uint256")]),e._v("ï¼Œå› ä¸º"),t("code",[e._v("uint8")]),e._v("æ˜¯"),t("code",[e._v("uint16")]),e._v("è¿™äº›ç±»å‹çš„å­é›†ã€‚ä½†æ˜¯ "),t("code",[e._v("int8")]),e._v(" ä¸å¯ä»¥è½¬æ¢ä¸º "),t("code",[e._v("uint256")]),e._v("ï¼Œå› ä¸º "),t("code",[e._v("int8")]),e._v(" å¯ä»¥åŒ…å« "),t("code",[e._v("uint256")]),e._v(" ä¸­ä¸å…è®¸çš„è´Ÿå€¼ï¼Œæ¯”å¦‚ "),t("code",[e._v("-1")]),e._v("ã€‚")]),e._v(" "),t("h4",{attrs:{id:"â“·-ç›¸äº¤é›†åˆçš„ç±»å‹-ä¸èƒ½éšå¼è½¬æ¢ã€‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-ç›¸äº¤é›†åˆçš„ç±»å‹-ä¸èƒ½éšå¼è½¬æ¢ã€‚"}},[e._v("#")]),e._v(" â“· ç›¸äº¤é›†åˆçš„ç±»å‹ï¼Œä¸èƒ½éšå¼è½¬æ¢ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    int8 public a1 = 3;\n\n    // Type int8 is not implicitly convertible to expected type uint16.\n    // uint16 public a2 = a1;\n\n    uint8 public b1 = 3;\n    uint16 public b2 = b1;\n}\n")])])]),t("h4",{attrs:{id:"â“¸-æŠŠæ•´æ•°å­—é¢é‡èµ‹å€¼ç»™æ•´å‹æ—¶-ä¸èƒ½è¶…å‡ºèŒƒå›´è€Œå‘ç”Ÿæˆªæ–­-å¦åˆ™ä¼šæŠ¥é”™ã€‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-æŠŠæ•´æ•°å­—é¢é‡èµ‹å€¼ç»™æ•´å‹æ—¶-ä¸èƒ½è¶…å‡ºèŒƒå›´è€Œå‘ç”Ÿæˆªæ–­-å¦åˆ™ä¼šæŠ¥é”™ã€‚"}},[e._v("#")]),e._v(" â“¸ æŠŠæ•´æ•°å­—é¢é‡èµ‹å€¼ç»™æ•´å‹æ—¶ï¼Œä¸èƒ½è¶…å‡ºèŒƒå›´è€Œå‘ç”Ÿæˆªæ–­ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo1 {\n    uint8 public a = 12; // no error\n    uint32 public b = 1234; // no error\n    uint16 public c = 0x01;\n\n    // Type int_const 123456 is not implicitly convertible\n    // to expected type uint8. Literal is too large to fit in uint8.\n    // uint8 d = 123456;\n}\n")])])]),t("h4",{attrs:{id:"â“¹-å‡½æ•°å‚æ•°ä¼ é€’"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¹-å‡½æ•°å‚æ•°ä¼ é€’"}},[e._v("#")]),e._v(" â“¹ å‡½æ•°å‚æ•°ä¼ é€’")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// å‡½æ•°çš„ä¼ å‚\ncontract Demo {\n    uint256 public a;\n\n    function test1(uint256 u_) public {\n        a = u_;\n    }\n\n    function test2() external {\n        uint8 temp = 3;\n        test1(temp); //\n    }\n}\n")])])]),t("p",[e._v("æ•°ç»„ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// å‡½æ•°çš„ä¼ å‚\ncontract Demo {\n    uint256 public a;\n\n    function test1(uint256[3] memory u_) public {\n        a = u_[0];\n    }\n\n    // ç¦æ­¢çš„ï¼š\n    function test2() external {\n        // function call. Invalid implicit conversion from uint8[3]\n        // memory to uint256[3] memory requested.\n        // test1([1,2,3]);\n        test1([uint256(1),uint256(2),uint256(3)]);\n    }\n}\n")])])]),t("h4",{attrs:{id:"â“º-è¿ç®—ç¬¦åº”ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“º-è¿ç®—ç¬¦åº”ç”¨"}},[e._v("#")]),e._v(" â“º è¿ç®—ç¬¦åº”ç”¨")]),e._v(" "),t("p",[e._v("åˆ™ç¼–è¯‘å™¨å°†å°è¯•å°†"),t("strong",[e._v("å…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°")]),e._v("éšå¼è½¬æ¢ä¸º"),t("strong",[e._v("å¦ä¸€ä¸ªæ“ä½œæ•°çš„ç±»å‹")]),e._v("ï¼ˆèµ‹å€¼ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ã€‚ è¿™æ„å‘³ç€æ“ä½œå§‹ç»ˆä»¥æ“ä½œæ•°ä¹‹ä¸€çš„ç±»å‹æ‰§è¡Œã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// è¿ç®—ç¬¦\ncontract Demo {\n    uint8 public  x = 1;\n    uint16 public  y = 2;\n\n    // uint8 + uint16 => uint16 + uint16 = uint16\n    // uint16 => uint32\n    uint32 public  z = x + y;\n}\n")])])]),t("p",[e._v("åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼ŒåŠ æ³•çš„æ“ä½œæ•° x å’Œ y æ²¡æœ‰ç›¸åŒçš„ç±»å‹ï¼Œuint8 å¯ä»¥è¢«éšå¼è½¬æ¢ä¸º uint16ï¼Œç›¸åå´ä¸å¯ä»¥ã€‚ å› æ­¤åœ¨æ‰§è¡ŒåŠ æ³•ä¹‹å‰ï¼Œå°† uint8 è½¬æ¢ä¸º uint16 çš„ç±»å‹ï¼Œç»“æœç±»å‹æ˜¯ uint16ã€‚å› ä¸ºå®ƒè¢«èµ‹å€¼ç»™ uint32 ç±»å‹çš„å˜é‡ï¼Œåˆè¿›è¡Œäº†å¦ä¸€ä¸ªç±»ä¼¼é€»è¾‘çš„éšå¼è½¬æ¢.")]),e._v(" "),t("h3",{attrs:{id:"_2-æ˜¾å¼è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ˜¾å¼è½¬æ¢"}},[e._v("#")]),e._v(" 2.æ˜¾å¼è½¬æ¢")]),e._v(" "),t("p",[e._v("å¯ä»¥ä½¿ç”¨ç±»å‹å…³é”®å­—ï¼Œæ˜¾å¼åœ°å°†æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    // uint8 => uint16\n    uint8 public a1 = 3;\n    uint16 public a2 = uint16(a1);\n\n    int8 public b1 = 3;\n    //Explicit type conversion not allowed from "int8" to "uint256".\n    // uint256 b2 = uint256(b1);\n}\n')])])]),t("h4",{attrs:{id:"â“µ-int-uint-æ•´å‹è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-int-uint-æ•´å‹è½¬æ¢"}},[e._v("#")]),e._v(" â“µ int/uint æ•´å‹è½¬æ¢")]),e._v(" "),t("p",[e._v("æ•´å‹åŠ å¤§æ•°æ®ä½ç½®æ˜¯ä»å·¦ä¾§å¢åŠ ï¼Œå‡å°æ•°æ®ä½ç½®ä¹Ÿæ˜¯ä»å·¦ä¾§ç§»é™¤ï¼›ï¼ˆ"),t("strong",[e._v("æ•´å‹æ˜¯å³å¯¹é½")]),e._v("ï¼‰")]),e._v(" "),t("ul",[t("li",[e._v("æ•´å‹è½¬æ¢æˆæ›´å¤§çš„ç±»å‹ï¼Œä»å·¦ä¾§æ·»åŠ å¡«å……ä½ã€‚")]),e._v(" "),t("li",[e._v("æ•´å‹è½¬æ¢æˆæ›´å°çš„ç±»å‹ï¼Œä¼šä¸¢å¤±å·¦ä¾§æ•°æ®ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    // æ•´å‹è½¬æ¢æˆæ›´å¤§çš„ç±»å‹ï¼Œä»å·¦ä¾§æ·»åŠ å¡«å……ä½ã€‚\n    // uint16 => uint32\n    uint16 public a1 = 22136;       // ç­‰äº 0x5678\n    uint32 public a2 = uint32(a1); // a2 = 22136\n\n    // uint16 => uint8\n    uint8 public a3 = uint8(a1); // b4 = 0x78\n    uint8 public a4 = 0x78;\n\n    // æ•´å‹è½¬æ¢æˆæ›´å°çš„ç±»å‹ï¼Œä¼šä¸¢å¤±å·¦ä¾§æ•°æ®ã€‚\n    // uint32 => uint16\n    uint32 public b1 = 0x12345678; // 0x12345678\n    uint16 public b2 = uint16(b1); // 0x5678 | b2 = 22136\n}\n")])])]),t("p",[t("strong",[e._v("æ•´æ•°æ˜¾å¼è½¬æ¢ä¸ºæ›´å¤§çš„ç±»å‹")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("uint16 a = 0x1234;\nuint32 b = uint32(a); // b ä¸º 0x00001234 now\n")])])]),t("p",[t("strong",[e._v("æ•´æ•°æ˜¾å¼è½¬æ¢æˆæ›´å°çš„ç±»å‹")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("uint32 a = 0x12345678;\nuint16 b = uint16(a); // æ­¤æ—¶ b çš„å€¼æ˜¯ 0x5678\n")])])]),t("h4",{attrs:{id:"â“¶-bytes-å­—èŠ‚ç±»å‹è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-bytes-å­—èŠ‚ç±»å‹è½¬æ¢"}},[e._v("#")]),e._v(" â“¶ bytes å­—èŠ‚ç±»å‹è½¬æ¢")]),e._v(" "),t("p",[e._v("å­—èŠ‚åŠ å¤§æ•°æ®ä½ç½®æ˜¯ä»å³ä¾§å¢åŠ ï¼Œå‡å°æ•°æ®ä½ç½®ä¹Ÿæ˜¯ä»å³ä¾§ç§»é™¤ï¼›ï¼ˆ"),t("strong",[e._v("å­—èŠ‚æ˜¯å·¦å¯¹é½")]),e._v("ï¼‰")]),e._v(" "),t("ul",[t("li",[e._v("å­—èŠ‚è½¬æ¢ä¸ºæ›´å¤§çš„ç±»å‹æ—¶ï¼Œä»å³ä¾§æ·»åŠ å¡«å……ä½ã€‚")]),e._v(" "),t("li",[e._v("å­—èŠ‚è½¬æ¢åˆ°æ›´å°çš„ç±»å‹æ—¶ï¼Œä¸¢å¤±å³ä¾§æ•°æ®ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    // å­—èŠ‚è½¬æ¢ä¸ºæ›´å¤§çš„ç±»å‹æ—¶ï¼Œä»å³ä¾§æ·»åŠ å¡«å……ä½ã€‚\n    // bytes2 =>bytes4\n    bytes2 public a1 = 0x5678;\n    bytes4 public a2 = bytes4(a1); // a2 = 0x56780000\n\n    // å­—èŠ‚è½¬æ¢åˆ°æ›´å°çš„ç±»å‹æ—¶ï¼Œä¸¢å¤±å³ä¾§æ•°æ®ã€‚\n    // bytes4 => bytes2\n    bytes4 public b1 = 0x12345678;\n    bytes2 public b2 = bytes2(b1); // b2 = 0x1234\n}\n")])])]),t("p",[t("strong",[e._v("bytes æ˜¾å¼è½¬æ¢æˆæ›´å°çš„ç±»å‹")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("bytes2 a = 0x1234;\nbytes1 b = bytes1(a); // b ä¸º 0x12\n")])])]),t("p",[t("strong",[e._v("bytes æ˜¾å¼è½¬æ¢æˆæ›´å¤§çš„ç±»å‹")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("bytes2 a = 0x1234;\nbytes4 b = bytes4(a); // b ä¸º 0x12340000\n")])])]),t("h4",{attrs:{id:"â“·-bytes-ä¸-uint-è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“·-bytes-ä¸-uint-è½¬æ¢"}},[e._v("#")]),e._v(" â“· bytes ä¸ uint è½¬æ¢")]),e._v(" "),t("p",[e._v("åªæœ‰å½“å­—èŠ‚ç±»å‹å’Œæ•´æ•°ç±»å‹å¤§å°ç›¸åŒæ—¶ï¼Œæ‰å¯ä»¥è¿›è¡Œè½¬æ¢ã€‚")]),e._v(" "),t("p",[e._v("å› ä¸ºæ•´æ•°å’Œå®šé•¿å­—èŠ‚æ•°ç»„åœ¨æˆªæ–­ï¼ˆæˆ–å¡«å……ï¼‰æ—¶è¡Œä¸ºæ˜¯ä¸åŒçš„ï¼Œå¦‚æœè¦åœ¨ä¸åŒçš„å¤§å°çš„æ•´æ•°å’Œå®šé•¿å­—èŠ‚æ•°ç»„ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œ"),t("strong",[e._v("å¿…é¡»ä½¿ç”¨ä¸€ä¸ªä¸­é—´ç±»å‹æ¥æ˜ç¡®è¿›è¡Œæ‰€éœ€æˆªæ–­å’Œå¡«å……çš„è§„åˆ™")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("bytes2 a = 0x1234;\nuint32 b = uint16(a);           // b ä¸º 0x00001234\nuint32 c = uint32(bytes4(a));   // c ä¸º 0x12340000\n\nuint8  d = uint8(uint16(a));    // d ä¸º 0x34\nuint8  e = uint8(bytes1(a));    // e ä¸º 0x12\n")])])]),t("p",[t("strong",[e._v("1.bytes è½¬æ¢æˆ uint")]),e._v(": "),t("strong",[e._v("å…ˆè½¬ç±»å‹ï¼Œå†è½¬å¤§å°")])]),e._v(" "),t("ul",[t("li",[e._v("æ¨èå…ˆæŠŠ bytes æ˜¾ç¤ºè½¬æ¢æˆæ•°å­—ç±»å‹åï¼Œå†è½¬æ¢æˆæ›´å¤§æˆ–æ›´å°çš„æ•°å­—")])]),e._v(" "),t("div",{staticClass:"language-code-block:: solidity extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// - `uint8`  ç­‰äºä¸¤ä½è¿ç»­çš„åå…­è¿›åˆ¶æ•°å­— `0xXX`\n// - `bytes1` ç­‰äºä¸¤ä½è¿ç»­çš„åå…­è¿›åˆ¶æ•°å­— `0xXX`\n// - `bytes1` ç­‰äº `uint8`\ncontract Demo1 {\n    // bytes => uint\n    bytes2 public a1 = 0x5678; // : åè¿›åˆ¶æ•°å­— = 22136\n    bytes4 public a2 = bytes4(a1); // a2 = 0x56780000 : åè¿›åˆ¶æ•°å­— = 1450704896\n    bytes1 public a3 = bytes1(a1); // a3 = 0x56 : åè¿›åˆ¶æ•°å­— = 86\n\n    // -- å¢å¤§\n    // bytes æ˜¾ç¤ºè½¬æ¢æˆæ•°å­—åï¼Œæ˜¾ç¤ºè½¬æ¢æ›´å¤§çš„æ•°å­— (è¿™é‡Œä¹Ÿå¯ä»¥éšå¼å®Œæˆ)\n    uint32 public a4 = uint32(uint16(a1)); // âœ… a4 = 0x00005678 : åè¿›åˆ¶ = 22136\n    // bytes æ˜¾ç¤ºè½¬æ¢æˆæ›´å¤§æ•°å­—å¯¹åº”çš„çš„bytesï¼Œç„¶åbytesæ˜¾ç¤ºè½¬æ¢æˆåŒ¹é…çš„æ•°å­—\n    uint32 public a5 = uint32(bytes4(a1)); // âŒ a5 = 0x56780000 : åè¿›åˆ¶ = 1450704896\n\n    // -- å‡å°\n    // bytes æ˜¾ç¤ºè½¬æ¢æˆæ•°å­—åï¼Œæ˜¾ç¤ºè½¬æ¢æˆæ›´å°çš„æ•°å­—\n    uint8 public a6 = uint8(uint16(a1)); // âœ… a6 = 0x78 : åè¿›åˆ¶ = 120\n    // bytes æ˜¾ç¤ºè½¬æ¢æˆæ›´å°æ•°å­—å¯¹åº”çš„çš„bytesï¼Œç„¶åbytesæ˜¾ç¤ºè½¬æ¢æˆåŒ¹é…çš„æ•°å­—\n    uint8 public a7 = uint8(bytes1(a1)); // âŒ a7 = 0x56 : åè¿›åˆ¶ = 86\n}\n")])])]),t("p",[t("strong",[e._v("2.uint è½¬æ¢æˆ bytes")]),e._v(": "),t("strong",[e._v("å…ˆè½¬å¤§å°ï¼Œå†è½¬ç±»å‹")])]),e._v(" "),t("ul",[t("li",[e._v("æ¨èå…ˆæŠŠ uint æ˜¾ç¤ºè½¬æ¢æˆæ›´å¤§ bytes å¯¹åº”çš„ uintï¼Œç„¶å uint å†æ˜¾ç¤ºè½¬æ¢æˆåŒ¹é…çš„ bytes")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo2 {\n    // uint => bytes\n    uint16 public b1 = 0x5678; // 0x5678 : åè¿›åˆ¶ = 22136\n    uint32 public b2 = uint32(b1); // b2 = 0x00005678 : åè¿›åˆ¶ = 22136\n    uint8 public b3 = uint8(b1); // b3 = 0x78 : åè¿›åˆ¶ = 120\n    // -- å¢å¤§\n    // uint æ˜¾ç¤ºè½¬æ¢æˆbytesç±»å‹åï¼Œå†æ˜¾ç¤ºè½¬æ¢æˆæ›´å¤§æˆ–æ›´å°çš„bytes\n    bytes4 public b4 = bytes4(bytes2(b1)); // âŒ b4 = 0x56780000\n    // uint æ˜¾ç¤ºè½¬æ¢æˆæ›´å¤§byteså¯¹åº”çš„uintï¼Œç„¶åuintå†æ˜¾ç¤ºè½¬æ¢æˆåŒ¹é…çš„bytes\n    bytes4 public b5 = bytes4(uint32(b1)); //  âœ… b5 = 0x00005678\n\n    // -- å‡å°\n    // uint æ˜¾ç¤ºè½¬æ¢æˆbytesç±»å‹åï¼Œå†æ˜¾ç¤ºè½¬æ¢æˆæ›´å¤§æˆ–æ›´å°çš„bytes\n    bytes1 public b6 = bytes1(bytes2(b1)); // âŒ b4 = 0x56\n    // uint æ˜¾ç¤ºè½¬æ¢æˆæ›´å¤§byteså¯¹åº”çš„uintï¼Œç„¶åuintå†æ˜¾ç¤ºè½¬æ¢æˆåŒ¹é…çš„bytes\n    bytes1 public b7 = bytes1(uint8(b1)); // âœ… b4 = 0x78\n}\n")])])]),t("h4",{attrs:{id:"â“¸-bytes-å’Œ-bytesn-ä¹‹é—´è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¸-bytes-å’Œ-bytesn-ä¹‹é—´è½¬æ¢"}},[e._v("#")]),e._v(" â“¸ bytes å’Œ bytesN ä¹‹é—´è½¬æ¢")]),e._v(" "),t("p",[t("code",[e._v("bytes")]),e._v(" æ•°ç»„å’Œ "),t("code",[e._v("bytes calldata")]),e._v(" åˆ‡ç‰‡å¯ä»¥æ˜¾ç¤ºè½¬æ¢ä¸ºå›ºå®šé•¿åº¦çš„ bytes ç±»å‹("),t("code",[e._v("bytes1...bytes32")]),e._v(").")]),e._v(" "),t("ul",[t("li",[e._v("å¦‚æœæ•°ç»„æ¯”å›ºå®šé•¿åº¦çš„ bytes ç±»å‹é•¿ï¼Œåˆ™åœ¨æœ«å°¾å¤„ä¼šå‘ç”Ÿæˆªæ–­ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœæ•°ç»„æ¯”ç›®æ ‡ç±»å‹çŸ­ï¼Œå®ƒå°†åœ¨æœ«å°¾ç”¨é›¶å¡«å……ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract C {\n    // 0x6162636465666768\n    bytes public bts = "abcdefgh";\n    bytes3 public b1 = bytes3(bts);\n    bytes8 public b2 = bytes8(bts);\n    bytes16 public b3 = bytes16(bts);\n    bytes32 public b4 = bytes32(bts);\n}\n')])])]),t("p",[t("strong",[e._v("è¡¥å……")]),e._v("ï¼šä½¿ç”¨åˆ‡ç‰‡ä¹Ÿå¯ä»¥æŠŠæ•°æ®ä» bytes è½¬ä¸º bytesNã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract C {\n    // 0x6162636465666768\n    bytes public bts = "abcdefgh";\n\n    function f(bytes calldata bts_)\n        public\n        pure\n        returns (bytes3,bytes16)\n    {\n\n        bytes3 b1 = bytes3(bts_);\n        bytes16 b2 = bytes16(bts_[:8]);\n        return (b1, b2);\n    }\n}\n')])])]),t("h4",{attrs:{id:"â“¹-bytes-ä¸-address-è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¹-bytes-ä¸-address-è½¬æ¢"}},[e._v("#")]),e._v(" â“¹ bytes ä¸ address è½¬æ¢")]),e._v(" "),t("p",[e._v("address çš„æ ¼å¼æ˜¯ "),t("code",[e._v("0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ac")]),e._v("ï¼Œæ˜¯ä¸€ä¸ª "),t("strong",[e._v("bytes20")]),e._v(" çš„æ•°æ®ã€‚")]),e._v(" "),t("p",[e._v("åœ°å€æ˜¯å– "),t("code",[e._v("bytes32")]),e._v(" æ•°æ®ä¸­çš„å 20 ä½ã€‚å¦‚æœæƒ³åˆ é™¤å‰é¢çš„ 12 ä½æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ solidity assembly (å†…è”æ±‡ç¼–) æ¥æˆªå–ï¼Œä¹Ÿå¯ä»¥å€ŸåŠ© "),t("code",[e._v("uint")]),e._v(" è½¬æ¢æˆæ›´å°çš„ç±»å‹ï¼Œä¼šä¸¢å¤±å·¦ä¾§æ•°æ®çš„ç‰¹æ€§æ¥å®Œæˆã€‚")]),e._v(" "),t("p",[e._v("ä»£ç å¦‚ä¸‹:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    // è·å–å³å°†éƒ¨ç½²çš„åœ°å€\n    function getAddress(bytes memory bytecode, uint256 _salt)\n        external\n        view\n        returns (address)\n    {\n        bytes32 hash = keccak256(\n            abi.encodePacked(\n                bytes1(0xff), // å›ºå®šå­—ç¬¦ä¸²\n                address(this), // å½“å‰å·¥å‚åˆçº¦åœ°å€\n                _salt, // salt\n                keccak256(bytecode) //éƒ¨ç½²åˆçº¦çš„ bytecode\n            )\n        );\n        // bytes è½¬æ¢æˆ uint: å…ˆè½¬ç±»å‹ï¼Œå†è½¬å¤§å°\n        //      bytes32 => uint256 => uint160\n        // uint160 è½¬ address\n        //      uint160 => address\n        return address(uint160(uint256(hash)));\n    }\n}\n")])])]),t("p",[e._v("å‰æ–‡ä»‹ç»è¿‡ç¼–ç çš„æ–¹å¼: "),t("code",[e._v("keccak256(abi.encodePacked())")]),e._v("ï¼Œè¿”å›çš„æ˜¯ "),t("code",[e._v("bytes32")]),e._v(" ç±»å‹ã€‚")]),e._v(" "),t("p",[e._v("è¿™ä¸ªå°ä¾‹å­æ˜¯"),t("strong",[e._v("åˆçº¦éƒ¨ç½²åˆçº¦")]),e._v("é‚£ç« èŠ‚ä¸­ create2 ä»£ç çš„ä¸€éƒ¨åˆ†ï¼Œç›¸å…³çš„æ›´å¤šæ¼”ç¤ºè¯·æŸ¥çœ‹ create2 åˆ›å»ºã€‚")]),e._v(" "),t("h3",{attrs:{id:"_3-æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²"}},[e._v("#")]),e._v(" 3.æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²")]),e._v(" "),t("h4",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-25"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-25"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=38",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 8 èŠ‚: ç±»å‹è½¬æ¢ æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=BoiR3shgaic&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=38",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 8 èŠ‚: ç±»å‹è½¬æ¢ æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²")])])]),e._v(" "),t("h4",{attrs:{id:"â“µ-ç›´æ¥å€ŸåŠ©-bytes-å’Œ-string-æœªå®Œæˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“µ-ç›´æ¥å€ŸåŠ©-bytes-å’Œ-string-æœªå®Œæˆ"}},[e._v("#")]),e._v(" â“µ ç›´æ¥å€ŸåŠ© bytes å’Œ stringï¼ˆæœªå®Œæˆï¼‰")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    // `å›ºå®šå¤§å°å­—èŠ‚æ•°ç»„` â€”> `åŠ¨æ€å¤§å°å­—èŠ‚æ•°ç»„` â€”> `string`\n    function test(uint8 num_) public pure returns (bytes1 ab,string memory data) {\n        // å›ºå®šå¤§å°å­—èŠ‚æ•°ç»„\n        ab = bytes1(num_);\n\n        // `å›ºå®šå¤§å°å­—èŠ‚æ•°ç»„` â€”> `åŠ¨æ€å¤§å°å­—èŠ‚æ•°ç»„`\n        bytes memory temp = new bytes(ab.length); // å¯å˜å­—èŠ‚æ•°ç»„åˆ›å»ºæ–¹å¼\n        for (uint8 i = 0; i < ab.length; i++) {\n            temp[i] = ab[i];\n        }\n\n        // `åŠ¨æ€å¤§å°å­—èŠ‚æ•°ç»„` â€”> `string`\n        data = string(temp);\n    }\n}\n")])])]),t("h4",{attrs:{id:"â“¶-å€ŸåŠ©å•ä¸ªæ•°å­—è½¬æ¢-æ¨è"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#â“¶-å€ŸåŠ©å•ä¸ªæ•°å­—è½¬æ¢-æ¨è"}},[e._v("#")]),e._v(" â“¶ å€ŸåŠ©å•ä¸ªæ•°å­—è½¬æ¢ï¼ˆæ¨èï¼‰")]),e._v(" "),t("p",[e._v("è¿™ç§æ–¹æ³•æ˜¯å€ŸåŠ©å°† 0-9 çš„æ•°å­—è¿›è¡Œè½¬æ¢ï¼Œç„¶åè¶…è¿‡åä½çš„æ•°å­—ï¼Œé€šè¿‡ "),t("code",[e._v("%")]),e._v(" æ¥å¾—åˆ°ï¼Œå¹¶ä¸”æ‹¼æ¥åœ¨ä¸€èµ·ã€‚\næ¨èæ–¹æ³•ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    function uintToString(uint256 _uint)\n        public\n        pure\n        returns (string memory str)\n    {\n        if (_uint == 0) return "0";\n        while (_uint != 0) {\n            //å–æ¨¡\n            uint256 remainder = _uint % 10;\n            //æ¯å–ä¸€ä½å°±ç§»åŠ¨ä¸€ä½ï¼Œä¸ªä½ã€åä½ã€ç™¾ä½ã€åƒä½â€¦â€¦\n            _uint = _uint / 10;\n            //å°†å­—ç¬¦æ‹¼æ¥ï¼Œæ³¨æ„å­—ç¬¦ä½ç½®\n            str =  string.concat(toStr(remainder), str);\n        }\n    }\n\n    function toStr(uint256 num_) internal pure returns (string memory) {\n        require(num_ < 10,"error");\n        bytes memory alphabet = "0123456789";\n        bytes memory str = new bytes(1);\n        str[0] = alphabet[num_];\n        return string(str);\n    }\n}\n')])])]),t("p",[e._v("ä¸Šé¢ä»£ç çš„ toStr åƒä¸‡ä¸è¦å†™ä¸‹é¢çš„è¿™ç§åƒåœ¾ä»£ç ï¼Œå†™ä¸‹é¢è¿™ç§åƒåœ¾æ˜¯å¯¹è‡ªå·±èŒä¸šçš„ä¸å°Šé‡ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    function toStr(uint8 step) external pure returns (string memory str) {\n        string memory str;\n        if (step == 0) {\n            str = "0";\n        } else if (step == 1) {\n            str = "1";\n        } else if (step == 2) {\n            str = "2";\n        } else if (step == 3) {\n            str = "3";\n        } else if (step == 4) {\n            str = "4";\n        } else {\n            str = "?";\n        }\n    }\n}\n')])])]),t("p",[e._v("toStr çš„å¦å¤–ä¸€ç§å®ç°ï¼Œæ¨èäº†è§£ä¸€ä¸‹ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    //è¿™ä¸ªå‡½æ•°æœ€å…³é”®ï¼Œæ¯”è¾ƒå–å·§ï¼Œç”¨æ¥å°†uint256ç±»å‹çš„ 0-9 æ•°å­—è½¬æˆå­—ç¬¦\n    function toStr2(uint256 value) public pure returns (string memory) {\n        bytes memory alphabet = "0123456789abcdef";\n        //è¿™é‡ŒæŠŠæ•°å­—è½¬æˆäº†bytes32ç±»å‹ï¼Œä½†æ˜¯å› ä¸ºæˆ‘ä»¬çŸ¥é“æ•°å­—æ˜¯ 0-9 ï¼Œæ‰€ä»¥å‰é¢å…¶å®éƒ½æ˜¯å¡«å……äº†0\n        bytes memory data = abi.encodePacked(value);\n        bytes memory str = new bytes(1);\n        //æ‰€ä»¥æœ€åä¸€ä½æ‰æ˜¯çœŸæ­£çš„æ•°å­—\n        uint256 i = data.length - 1;\n        str[0] = alphabet[uint256(uint8(data[i] & 0x0f))];\n        return string(str);\n    }\n}\n')])])]),t("h2",{attrs:{id:"_9ï¸âƒ£-å­—é¢å¸¸é‡ä¸åŸºæœ¬ç±»å‹çš„è½¬æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9ï¸âƒ£-å­—é¢å¸¸é‡ä¸åŸºæœ¬ç±»å‹çš„è½¬æ¢"}},[e._v("#")]),e._v(" 9ï¸âƒ£ å­—é¢å¸¸é‡ä¸åŸºæœ¬ç±»å‹çš„è½¬æ¢")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-26"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-26"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=39",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 9 èŠ‚: å­—é¢å¸¸é‡ä¸åŸºæœ¬ç±»å‹çš„è½¬æ¢")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=oRtB3wH5Z0I&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=39",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« ç¬¬ 9 èŠ‚: å­—é¢å¸¸é‡ä¸åŸºæœ¬ç±»å‹çš„è½¬æ¢")])])]),e._v(" "),t("h3",{attrs:{id:"_1-åè¿›åˆ¶å’Œåå…­è¿›åˆ¶å­—é¢å¸¸é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-åè¿›åˆ¶å’Œåå…­è¿›åˆ¶å­—é¢å¸¸é‡"}},[e._v("#")]),e._v(" 1.åè¿›åˆ¶å’Œåå…­è¿›åˆ¶å­—é¢å¸¸é‡")]),e._v(" "),t("p",[e._v("åè¿›åˆ¶å’Œåå…­è¿›åˆ¶å­—é¢å¸¸é‡å¯ä»¥éšå¼è½¬æ¢ä¸ºä»»ä½•è¶³ä»¥è¡¨ç¤ºå®ƒè€Œä¸ä¼šæˆªæ–­çš„æ•´æ•°ç±»å‹ï¼š")]),e._v(" "),t("div",{staticClass:"language-solidity extra-class"},[t("pre",{pre:!0,attrs:{class:"language-solidity"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// SPDX-License-Identifier: MIT")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("pragma")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("solidity")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("^")]),t("span",{pre:!0,attrs:{class:"token version number"}},[e._v("0.8.17")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("contract")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Demo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("uint8")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("12")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//  å¯è¡Œ")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("uint32")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1234")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// å¯è¡Œ")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("uint16")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" c "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0x01")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// uint16 d = 0x123456; // å¤±è´¥, ä¼šæˆªæ–­ä¸º 0x3456")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("âš ï¸ï¼šåœ¨ 0.8.0 ä¹‹å‰,ä»»ä½•åè¿›åˆ¶å’Œåå…­è¿›åˆ¶å¸¸é‡éƒ½å¯ä»¥æ˜¾ç¤ºè½¬åŒ–ä¸ºæ•´å‹ï¼Œä¸è¿‡ä» 0.8.0 å¼€å§‹ï¼Œåªæœ‰åœ¨åŒ¹é…æ•°æ®èŒƒå›´æ—¶ï¼Œæ‰èƒ½è¿›è¡Œè¿™ä¸ªè½¬æ¢ï¼Œå°±åƒéšå¼è½¬æ¢é‚£æ ·ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_2-æ•´å‹å­—é¢å¸¸é‡ä¸-bytesn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ•´å‹å­—é¢å¸¸é‡ä¸-bytesn"}},[e._v("#")]),e._v(" 2.æ•´å‹å­—é¢å¸¸é‡ä¸ bytesN")]),e._v(" "),t("ul",[t("li",[e._v("åè¿›åˆ¶å­—é¢å¸¸é‡ä¸èƒ½éšå¼è½¬æ¢ä¸ºå®šé•¿å­—èŠ‚æ•°ç»„ã€‚")]),e._v(" "),t("li",[e._v("åå…­è¿›åˆ¶å­—é¢å¸¸é‡å¯ä»¥è½¬æ¢ä¸ºå®šé•¿å­—èŠ‚æ•°ç»„ï¼Œä½†ä»…å½“åå…­è¿›åˆ¶æ•°å­—å¤§å°å®Œå…¨ç¬¦åˆå®šé•¿å­—èŠ‚æ•°ç»„é•¿åº¦çš„æ—¶å€™ã€‚")]),e._v(" "),t("li",[e._v("é›¶çš„"),t("strong",[e._v("åè¿›åˆ¶")]),e._v("å’Œ"),t("strong",[e._v("åå…­è¿›åˆ¶å­—é¢å¸¸é‡")]),e._v("éƒ½å¯ä»¥è½¬æ¢ä¸ºä»»ä½•å®šé•¿å­—èŠ‚æ•°ç»„ç±»å‹ï¼Œé›¶å€¼æ˜¯ä¾‹å¤–ï¼Œæ¯”è¾ƒç‰¹æ®Š")])]),e._v(" "),t("div",{staticClass:"language-solidity extra-class"},[t("pre",{pre:!0,attrs:{class:"language-solidity"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// SPDX-License-Identifier: MIT")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("pragma")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("solidity")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("^")]),t("span",{pre:!0,attrs:{class:"token version number"}},[e._v("0.8.17")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("contract")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Demo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// åå…­è¿›åˆ¶")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("bytes2")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0x1234")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// å¯è¡Œ")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("bytes2")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0x0012")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// å¯è¡Œ")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// bytes2 public c = 0x12; // 0x12ä¸å¯è¡Œ ,0x1200 å¯è¡Œï¼Œéœ€è¦å®Œå…¨ç¬¦åˆé•¿åº¦")]),e._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// åè¿›åˆ¶")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// bytes4 public x = 1; // ä¸å¯è¡Œ")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// bytes2 public y = 2; // ä¸å¯è¡Œ")]),e._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 0 å’Œ 0x0")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("bytes4")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" d "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0x0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// å¯è¡Œ")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("bytes4")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" e "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// å¯è¡Œ")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h3",{attrs:{id:"_3-å­—ç¬¦ä¸²å­—é¢å¸¸é‡ä¸-bytesn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-å­—ç¬¦ä¸²å­—é¢å¸¸é‡ä¸-bytesn"}},[e._v("#")]),e._v(" 3.å­—ç¬¦ä¸²å­—é¢å¸¸é‡ä¸ bytesN")]),e._v(" "),t("p",[e._v("å­—ç¬¦ä¸²å­—é¢å¸¸é‡å’Œåå…­è¿›åˆ¶å­—ç¬¦ä¸²å­—é¢å¸¸é‡å¯ä»¥éšå¼è½¬æ¢ä¸ºå®šé•¿å­—èŠ‚æ•°ç»„ï¼ˆéœ€è¦å®ƒä»¬çš„å­—ç¬¦æ•°ä¸å­—èŠ‚ç±»å‹çš„å¤§å°ç›¸åŒ¹é…ï¼‰")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    bytes2 public a = hex"1234"; // å¯è¡Œ\n    bytes2 public b = hex"12"; // å¯è¡Œ\n    bytes2 public c = "xy"; // å¯è¡Œ\n    bytes2 public d = "x"; // å¯è¡Œ\n    // bytes2 public e = hex"123"; // ä¸å¯è¡Œ\n    // bytes2 public f = "xyz"; // ä¸å¯è¡Œ\n}\n')])])]),t("h3",{attrs:{id:"_4-åå…­è¿›åˆ¶å­—é¢å¸¸é‡ä¸åœ°å€ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-åå…­è¿›åˆ¶å­—é¢å¸¸é‡ä¸åœ°å€ç±»å‹"}},[e._v("#")]),e._v(" 4.åå…­è¿›åˆ¶å­—é¢å¸¸é‡ä¸åœ°å€ç±»å‹")]),e._v(" "),t("p",[e._v("é€šè¿‡æ ¡éªŒå’Œæµ‹è¯•çš„æ­£ç¡®å¤§å°çš„åå…­è¿›åˆ¶å­—é¢å¸¸é‡ä¼šä½œä¸º "),t("code",[e._v("address")]),e._v("ç±»å‹ã€‚æ²¡æœ‰å…¶ä»–å­—é¢å¸¸é‡å¯ä»¥éšå¼è½¬æ¢ä¸º "),t("code",[e._v("address")]),e._v(" ç±»å‹ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    address public ads1 = 0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ac;\n    // address public ads2 = 0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ab; // âŒ\n}\n")])])]),t("h2",{attrs:{id:"ğŸ†—-å®æˆ˜-1-todo-list"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ†—-å®æˆ˜-1-todo-list"}},[e._v("#")]),e._v(" ğŸ†— å®æˆ˜ 1: Todo List")]),e._v(" "),t("p",[e._v("TodoList: æ˜¯ç±»ä¼¼ä¾¿ç­¾ä¸€æ ·åŠŸèƒ½çš„ä¸œè¥¿ï¼Œè®°å½•æˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…ï¼Œä»¥åŠå®ŒæˆçŠ¶æ€ã€‚")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-27"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-27"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=40",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« å®æˆ˜ 1: Todo List")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=jkYlSW9XJjo&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=40",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« å®æˆ˜ 1: Todo List")])])]),e._v(" "),t("h3",{attrs:{id:"_1-éœ€è¦å®Œæˆçš„åŠŸèƒ½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-éœ€è¦å®Œæˆçš„åŠŸèƒ½"}},[e._v("#")]),e._v(" 1.éœ€è¦å®Œæˆçš„åŠŸèƒ½")]),e._v(" "),t("ul",[t("li",[e._v("åˆ›å»ºä»»åŠ¡")]),e._v(" "),t("li",[e._v("ä¿®æ”¹ä»»åŠ¡åç§°\n"),t("ul",[t("li",[e._v("ä»»åŠ¡åå†™é”™çš„æ—¶å€™")])])]),e._v(" "),t("li",[e._v("ä¿®æ”¹å®ŒæˆçŠ¶æ€ï¼š\n"),t("ul",[t("li",[e._v("æ‰‹åŠ¨æŒ‡å®šå®Œæˆæˆ–è€…æœªå®Œæˆ")]),e._v(" "),t("li",[e._v("è‡ªåŠ¨åˆ‡æ¢\n"),t("ul",[t("li",[e._v("å¦‚æœæœªå®ŒæˆçŠ¶æ€ä¸‹ï¼Œæ”¹ä¸ºå®Œæˆ")]),e._v(" "),t("li",[e._v("å¦‚æœå®ŒæˆçŠ¶æ€ï¼Œæ”¹ä¸ºæœªå®Œæˆ")])])])])]),e._v(" "),t("li",[e._v("è·å–ä»»åŠ¡")])]),e._v(" "),t("h3",{attrs:{id:"_2-æ€è€ƒä»£ç å†…çŠ¶æ€å˜é‡æ€ä¹ˆå®‰æ’"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ€è€ƒä»£ç å†…çŠ¶æ€å˜é‡æ€ä¹ˆå®‰æ’"}},[e._v("#")]),e._v(" 2.æ€è€ƒä»£ç å†…çŠ¶æ€å˜é‡æ€ä¹ˆå®‰æ’ï¼Ÿ")]),e._v(" "),t("p",[e._v("æ€è€ƒ 1ï¼šæ€è€ƒä»»åŠ¡ ID çš„æ¥æºï¼Ÿ")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬åœ¨ä¼ ç»Ÿä¸šåŠ¡é‡Œï¼Œè¿™é‡Œçš„ä»»åŠ¡éƒ½ä¼šæœ‰ä¸€ä¸ªä»»åŠ¡ IDï¼Œåœ¨åŒºå—é“¾é‡Œæ€ä¹ˆå®ç°ï¼Ÿï¼Ÿ")]),e._v(" "),t("p",[e._v("ç­”ï¼šä¼ ç»Ÿä¸šåŠ¡é‡Œï¼ŒID å¯ä»¥æ˜¯æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œä¹Ÿå¯ä»¥ç”¨ç®—æ³•æ¥è®¡ç®—å‡ºæ¥çš„ï¼Œæ¯”å¦‚ä½¿ç”¨é›ªèŠ±ç®—æ³•è®¡ç®—å‡º ID ç­‰ã€‚åœ¨åŒºå—é“¾é‡Œæˆ‘ä»¬ä½¿ç”¨æ•°ç»„çš„ index ç´¢å¼•ä½œä¸ºä»»åŠ¡çš„ IDï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå¢çš„æ•´å‹æ•°æ®æ¥è¡¨ç¤ºã€‚")]),e._v(" "),t("p",[e._v("æ€è€ƒ 2: æˆ‘ä»¬ä½¿ç”¨ä»€ä¹ˆæ•°æ®ç±»å‹æ¯”è¾ƒå¥½ï¼Ÿ")]),e._v(" "),t("p",[e._v("ç­”ï¼šå› ä¸ºéœ€è¦ä»»åŠ¡ IDï¼Œå¦‚æœä½¿ç”¨æ•°ç»„ index ä½œä¸ºä»»åŠ¡ IDã€‚åˆ™æ•°æ®çš„å…ƒç´ å†…éœ€è¦è®°å½•ä»»åŠ¡åç§°ï¼Œä»»åŠ¡å®ŒæˆçŠ¶æ€ï¼Œæ‰€ä»¥å…ƒç´ ä½¿ç”¨ struct æ¯”è¾ƒå¥½ã€‚")]),e._v(" "),t("p",[e._v("å¦‚æœä½¿ç”¨è‡ªå¢çš„æ•´å‹ä½œä¸ºä»»åŠ¡ IDï¼Œåˆ™æ•´å‹ ID å¯¹åº”ä»»åŠ¡ï¼Œä½¿ç”¨ mapping ç±»å‹æ¯”è¾ƒç¬¦åˆã€‚")]),e._v(" "),t("h3",{attrs:{id:"_3-æ¼”ç¤ºä»£ç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ¼”ç¤ºä»£ç "}},[e._v("#")]),e._v(" 3.æ¼”ç¤ºä»£ç ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("contract Demo {\n    struct Todo {\n        string name;\n        bool isCompleted;\n    }\n    Todo[] public list; // 29414\n\n    // åˆ›å»ºä»»åŠ¡\n    function create(string memory name_) external {\n        list.push(\n            Todo({\n                name:name_, // ,\n                isCompleted:false\n            })\n        );\n    }\n\n    // ä¿®æ”¹ä»»åŠ¡åç§°\n    function modiName1(uint256 index_,string memory name_) external {\n        // æ–¹æ³•1: ç›´æ¥ä¿®æ”¹ï¼Œä¿®æ”¹ä¸€ä¸ªå±æ€§æ—¶å€™æ¯”è¾ƒçœ gas\n        list[index_].name = name_;\n    }\n\n    function modiName2(uint256 index_,string memory name_) external {\n        // æ–¹æ³•2: å…ˆè·å–å‚¨å­˜åˆ° storageï¼Œåœ¨ä¿®æ”¹ï¼Œåœ¨ä¿®æ”¹å¤šä¸ªå±æ€§çš„æ—¶å€™æ¯”è¾ƒçœ gas\n        Todo storage temp = list[index_];\n        temp.name = name_;\n    }\n\n    // ä¿®æ”¹å®ŒæˆçŠ¶æ€1:æ‰‹åŠ¨æŒ‡å®šå®Œæˆæˆ–è€…æœªå®Œæˆ\n    function modiStatus1(uint256 index_,bool status_) external {\n        list[index_].isCompleted = status_;\n    }\n\n    // ä¿®æ”¹å®ŒæˆçŠ¶æ€2:è‡ªåŠ¨åˆ‡æ¢ toggle\n    function modiStatus2(uint256 index_) external {\n        list[index_].isCompleted = !list[index_].isCompleted;\n    }\n\n    // è·å–ä»»åŠ¡1: memory : 2æ¬¡æ‹·è´\n    // 29448 gas\n    function get1(uint256 index_) external view\n        returns(string memory name_,bool status_){\n        Todo memory temp = list[index_];\n        return (temp.name,temp.isCompleted);\n    }\n\n    // è·å–ä»»åŠ¡2: storage : 1æ¬¡æ‹·è´\n    // é¢„æœŸï¼šget2 çš„ gas è´¹ç”¨æ¯”è¾ƒä½ï¼ˆç›¸å¯¹ get1ï¼‰\n    // 29388 gas\n    function get2(uint256 index_) external view\n        returns(string memory name_,bool status_){\n        Todo storage temp = list[index_];\n        return (temp.name,temp.isCompleted);\n    }\n\n}\n")])])]),t("h3",{attrs:{id:"_4-è‡ªå·±åŠ¨æ‰‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-è‡ªå·±åŠ¨æ‰‹"}},[e._v("#")]),e._v(" 4. è‡ªå·±åŠ¨æ‰‹")]),e._v(" "),t("p",[e._v("è‡ªåŠ¨åŠ¨æ‰‹å†™ä¸€ä¸‹ï¼ŒæŒ‰ç…§ä½¿ç”¨è‡ªå¢æ•´å‹ä½œä¸ºä»»åŠ¡ IDï¼Œé…åˆ mapping å®ç°ä¸Šé¢é€»è¾‘ã€‚çŠ¶æ€æŒ‰ç…§ã€æœªå®Œæˆï¼Œè¿›è¡Œä¸­ï¼Œå·²å®Œæˆï¼Œå·²å–æ¶ˆã€‘å››ç§çŠ¶æ€æ¥åšã€‚")]),e._v(" "),t("h2",{attrs:{id:"ğŸ†—-å®æˆ˜-2-ä¼—ç­¹åˆçº¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ†—-å®æˆ˜-2-ä¼—ç­¹åˆçº¦"}},[e._v("#")]),e._v(" ğŸ†— å®æˆ˜ 2: ä¼—ç­¹åˆçº¦")]),e._v(" "),t("p",[e._v("ä¼—ç­¹åˆçº¦æ˜¯ä¸€ä¸ªå‹Ÿé›†èµ„é‡‘çš„åˆçº¦ï¼Œåœ¨åŒºå—é“¾ä¸Šï¼Œæˆ‘ä»¬æ˜¯å‹Ÿé›†ä»¥å¤ªå¸ï¼Œç±»ä¼¼äº’è”ç½‘ä¸šåŠ¡çš„æ°´æ»´ç­¹ã€‚åŒºå—é“¾æ—©èµ·çš„ ICO å°±æ˜¯ç±»ä¼¼ä¸šåŠ¡ã€‚")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-28"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-28"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=41",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« å®æˆ˜ 2: ä¼—ç­¹åˆçº¦")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=lE5zPY4-OR8&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=41",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« å®æˆ˜ 2: ä¼—ç­¹åˆçº¦")])])]),e._v(" "),t("h3",{attrs:{id:"_1-éœ€æ±‚åˆ†æ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-éœ€æ±‚åˆ†æ"}},[e._v("#")]),e._v(" 1.éœ€æ±‚åˆ†æ")]),e._v(" "),t("p",[e._v("ä¼—ç­¹åˆçº¦åˆ†ä¸ºä¸¤ç§è§’è‰²ï¼šä¸€ä¸ªæ˜¯å—ç›Šäººï¼Œä¸€ä¸ªæ˜¯èµ„åŠ©è€…ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// ä¸¤ç§è§’è‰²:\n//      å—ç›Šäºº   beneficiary => address         => address ç±»å‹\n//      èµ„åŠ©è€…   funders     => address:amount  => mapping ç±»å‹ æˆ–è€… struct ç±»å‹\n")])])]),t("p",[e._v("çŠ¶æ€å˜é‡æŒ‰ç…§ä¼—ç­¹çš„ä¸šåŠ¡ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// çŠ¶æ€å˜é‡\n//      ç­¹èµ„ç›®æ ‡æ•°é‡    fundingGoal\n//      å½“å‰å‹Ÿé›†æ•°é‡    fundingAmount\n//      èµ„åŠ©è€…åˆ—è¡¨      funders\n//      èµ„åŠ©è€…äººæ•°      fundersKey\n")])])]),t("p",[e._v("éœ€è¦éƒ¨ç½²æ—¶å€™ä¼ å…¥çš„æ•°æ®:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("//      å—ç›Šäºº\n//      ç­¹èµ„ç›®æ ‡æ•°é‡\n")])])]),t("h3",{attrs:{id:"_2-æ¼”ç¤ºä»£ç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ¼”ç¤ºä»£ç "}},[e._v("#")]),e._v(" 2.æ¼”ç¤ºä»£ç ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract CrowdFunding {\n    address public immutable beneficiary;   // å—ç›Šäºº\n    uint256 public immutable fundingGoal;   // ç­¹èµ„ç›®æ ‡æ•°é‡\n\n    uint256 public fundingAmount;       // å½“å‰çš„ é‡‘é¢\n    mapping(address=>uint256) public funders;\n\n    // å¯è¿­ä»£çš„æ˜ å°„\n    mapping(address=>bool) private fundersInserted;\n    address[] public fundersKey; // length\n\n    // ä¸ç”¨è‡ªé”€æ¯æ–¹æ³•ï¼Œä½¿ç”¨å˜é‡æ¥æ§åˆ¶\n    bool public AVAILABLED = true; // çŠ¶æ€\n\n    // éƒ¨ç½²çš„æ—¶å€™ï¼Œå†™å…¥å—ç›Šäºº+ç­¹èµ„ç›®æ ‡æ•°é‡\n    constructor(address beneficiary_,uint256 goal_){\n        beneficiary = beneficiary_;\n        fundingGoal = goal_;\n    }\n\n    // èµ„åŠ©\n    //      å¯ç”¨çš„æ—¶å€™æ‰å¯ä»¥æ\n    //      åˆçº¦å…³é—­ä¹‹åï¼Œå°±ä¸èƒ½åœ¨æ“ä½œäº†\n    function contribute() external payable{\n        require(AVAILABLED,"CrowdFunding is closed");\n        funders[msg.sender] += msg.value;\n        fundingAmount += msg.value;\n        // 1.æ£€æŸ¥\n        if(!fundersInserted[msg.sender]){\n            // 2.ä¿®æ”¹\n            fundersInserted[msg.sender] = true;\n            // 3.æ“ä½œ\n            fundersKey.push(msg.sender);\n        }\n    }\n\n    // å…³é—­\n    function close() external returns(bool){\n        // 1.æ£€æŸ¥\n        if(fundingAmount<fundingGoal){\n            return false;\n        }\n        uint256 amount = fundingAmount;\n\n        // 2.ä¿®æ”¹\n        fundingAmount = 0;\n        AVAILABLED = false;\n\n        // 3. æ“ä½œ\n        payable(beneficiary).transfer(amount);\n        return true;\n    }\n\n    function fundersLenght() public view returns(uint256){\n        return fundersKey.length;\n    }\n\n}\n')])])]),t("p",[e._v("ä¸Šé¢çš„åˆçº¦åªæ˜¯ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ ä¼—ç­¹åˆçº¦ï¼Œä½†å®ƒå·²ç»è¶³ä»¥è®©æˆ‘ä»¬ç†è§£æœ¬èŠ‚ä»‹ç»çš„ç±»å‹æ¦‚å¿µã€‚")]),e._v(" "),t("h3",{attrs:{id:"_3-è‡ªå·±åŠ¨æ‰‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-è‡ªå·±åŠ¨æ‰‹"}},[e._v("#")]),e._v(" 3.è‡ªå·±åŠ¨æ‰‹")]),e._v(" "),t("p",[e._v("ä¸Šé¢å†™çš„æ˜¯é¡¹ç›®æ–¹è§’åº¦çš„å‹Ÿé›†è‡ªå·±ã€‚å¦‚æœæ˜¯å‹Ÿé›†å¹³å°ï¼Œè‚¯å®šæ˜¯ä¼šå‘ Todo List é‚£ä¸ªç»ƒä¹ ä¸­ä¸€æ ·ï¼Œæ˜¯æœ‰ä¼—ç­¹ ID çš„ï¼›è¯·æŒ‰ç…§ä¼—ç­¹å¹³å°çš„è§’åº¦æ¥å†™ä¸€ä¸ªä¼—ç­¹åè®®ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("ä½¿ç”¨å¹³å°è§’åº¦å†™åˆçº¦")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ stuct æ ¼å¼ã€‚")]),e._v(" "),t("li",[e._v("ã€é€‰åšã€‘ï¼šå¢åŠ ä¼—ç­¹æ—¶é—´çš„é™åˆ¶\n"),t("ul",[t("li",[e._v("å¦‚æœè§„å®šæ—¶é—´å†…å®Œæˆï¼Œåˆ™ç»“æŸåè½¬é’±ç»™å—ç›Šäºº")]),e._v(" "),t("li",[e._v("å¦‚æœè§„å®šæ—¶é—´å†…æ²¡æœ‰å®Œæˆï¼Œåˆ™èµ„é‡‘é‡Šæ”¾ï¼Œæèµ è€…è‡ªå·±å–å›æèµ èµ„é‡‘ã€‚")])])])]),e._v(" "),t("h2",{attrs:{id:"ğŸ†—-å®æˆ˜-3-åŒå¿—ä»¬å¥½å¢åŠ æç¤º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ†—-å®æˆ˜-3-åŒå¿—ä»¬å¥½å¢åŠ æç¤º"}},[e._v("#")]),e._v(" ğŸ†— å®æˆ˜ 3: åŒå¿—ä»¬å¥½å¢åŠ æç¤º")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-29"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-29"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=42",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« å®æˆ˜ 3: åŒå¿—ä»¬å¥½å¢åŠ æç¤º")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=bVrIUwrJrjo&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=42",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« å®æˆ˜ 3: åŒå¿—ä»¬å¥½å¢åŠ æç¤º")])])]),e._v(" "),t("h3",{attrs:{id:"_1-éœ€æ±‚åˆ†æ-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-éœ€æ±‚åˆ†æ-2"}},[e._v("#")]),e._v(" 1.éœ€æ±‚åˆ†æ")]),e._v(" "),t("p",[e._v("éœ€è¦ç‚¹å‡»ä¸€ä¸ªæ–¹æ³•ï¼ŒæŸ¥çœ‹å½“å‰çš„ step åˆ°å“ªé‡Œäº†ï¼Ÿç„¶åæç¤ºä¸‹ä¸€æ­¥è¯¥å¹²ä»€ä¹ˆã€‚")]),e._v(" "),t("p",[e._v("æ¯”å¦‚ï¼š"),t("strong",[e._v("å½“å‰çš„ step æ˜¯:0 å¯ä»¥æ‰§è¡Œ hello ,é¢†å¯¼è¯´:åŒå¿—ä»¬å¥½")]),e._v("ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("éš¾ç‚¹ï¼šæ•°å­—æ€ä¹ˆè½¬æ¢æˆ string")]),e._v("ï¼Ÿ")]),e._v(" "),t("h3",{attrs:{id:"_2-ä»£ç å¦‚ä¸‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä»£ç å¦‚ä¸‹"}},[e._v("#")]),e._v(" 2.ä»£ç å¦‚ä¸‹")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    uint8 public step = 0;\n\n    /// @notice ç”¨äºè¾…åŠ©è·å–ä¸‹ä¸€æ­¥è¯¥åšä»€ä¹ˆçš„æ–¹æ³•\n    /// @dev æ•´ç†stepå¯¹åº”çš„é”™è¯¯ï¼Œæ³¨æ„æ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²æ—¶å€™çš„é€”å¾„\n    /// @return å½“å‰çš„æç¤ºä¿¡æ¯\n    function helperInfo() external view returns (string memory) {\n        string memory stepDes = unicode"å½“å‰çš„stepæ˜¯:";\n        string memory info;\n\n        if (step == 0) {\n            info = unicode"å¯ä»¥æ‰§è¡Œ hello ,é¢†å¯¼è¯´:åŒå¿—ä»¬å¥½";\n        } else if (step == 1) {\n            info = unicode"å¯ä»¥æ‰§è¡Œ helloRes ,åŒå¿—ä»¬è¯´:é¢†å¯¼å¥½";\n        } else if (step == 2) {\n            info = unicode"å¯ä»¥æ‰§è¡Œ comfort ,é¢†å¯¼å¿…é¡»ç»™é’±ï¼Œå¹¶ä¸”è¯´:åŒå¿—ä»¬è¾›è‹¦äº†";\n        } else if (step == 3) {\n            info = unicode"å¯ä»¥æ‰§è¡Œ comfortRes ,åŒå¿—ä»¬è¯´:ä¸ºäººæ°‘æœåŠ¡";\n        } else if (step == 4) {\n            info = unicode"å¯ä»¥æ‰§è¡Œ selfdestruct";\n        } else {\n            info = unicode"æœªçŸ¥";\n        }\n\n        return string.concat(stepDes, uintToString(step), " ", info);\n    }\n\n    // å¦å¤–ä¸€ç§è½¬æ¢æ–¹æ³•\n    //è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œé€šè¿‡å–æ¨¡çš„æ–¹å¼ï¼Œä¸€ä½ä¸€ä½è½¬æ¢\n    function uintToString(uint256 _uint)\n        internal\n        pure\n        returns (string memory str)\n    {\n        if (_uint == 0) return "0";\n        while (_uint != 0) {\n            //å–æ¨¡\n            uint256 remainder = _uint % 10;\n            //æ¯å–ä¸€ä½å°±ç§»åŠ¨ä¸€ä½ï¼Œä¸ªä½ã€åä½ã€ç™¾ä½ã€åƒä½â€¦â€¦\n            _uint = _uint / 10;\n            //å°†å­—ç¬¦æ‹¼æ¥ï¼Œæ³¨æ„å­—ç¬¦ä½ç½®\n            str =  string.concat(toStr(remainder), str);\n        }\n    }\n\n    function toStr(uint256 num_) internal pure returns (string memory) {\n        require(num_ < 10,"error");\n        bytes memory alphabet = "0123456789";\n        bytes memory str = new bytes(1);\n        str[0] = alphabet[num_];\n        return string(str);\n    }\n}\n')])])]),t("h2",{attrs:{id:"ğŸ†—-å®æˆ˜-4-eth-é’±åŒ…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ†—-å®æˆ˜-4-eth-é’±åŒ…"}},[e._v("#")]),e._v(" ğŸ†— å®æˆ˜ 4: ETH é’±åŒ…")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-30"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-30"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=43",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« å®æˆ˜ 4: ETH é’±åŒ…")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=-VYk-kEVrLg&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=43",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« å®æˆ˜ 4: ETH é’±åŒ…")])])]),e._v(" "),t("h3",{attrs:{id:"å†…å®¹-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å†…å®¹-2"}},[e._v("#")]),e._v(" å†…å®¹")]),e._v(" "),t("p",[e._v("è¿™ä¸€ä¸ªå®æˆ˜ä¸»è¦æ˜¯åŠ æ·±å¤§å®¶å¯¹ 3 ä¸ªå–é’±æ–¹æ³•çš„ä½¿ç”¨ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("ä»»ä½•äººéƒ½å¯ä»¥å‘é€é‡‘é¢åˆ°åˆçº¦")]),e._v(" "),t("li",[e._v("åªæœ‰ owner å¯ä»¥å–æ¬¾")]),e._v(" "),t("li",[e._v("3 ç§å–é’±æ–¹å¼")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract EtherWallet {\n    address payable public immutable owner;\n    event Log(string funName, address from, uint256 value, bytes data);\n\n    constructor() {\n        owner = payable(msg.sender);\n    }\n\n    receive() external payable {\n        emit Log("receive", msg.sender, msg.value, "");\n    }\n\n    function withdraw1() external {\n        require(msg.sender == owner, "Not owner");\n        // owner.transfer ç›¸æ¯” msg.sender æ›´æ¶ˆè€—Gas\n        // owner.transfer(address(this).balance);\n        payable(msg.sender).transfer(100);\n    }\n\n    function withdraw2() external {\n        require(msg.sender == owner, "Not owner");\n        bool success = payable(msg.sender).send(200);\n        require(success, "Send Failed");\n    }\n\n    function withdraw3() external {\n        require(msg.sender == owner, "Not owner");\n        (bool success, ) = msg.sender.call{value: address(this).balance}("");\n        require(success, "Call Failed");\n    }\n\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n}\n')])])]),t("h2",{attrs:{id:"ğŸ†—-å®æˆ˜-5-å¤šç­¾é’±åŒ…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ†—-å®æˆ˜-5-å¤šç­¾é’±åŒ…"}},[e._v("#")]),e._v(" ğŸ†— å®æˆ˜ 5: å¤šç­¾é’±åŒ…")]),e._v(" "),t("p",[e._v("å¤šç­¾é’±åŒ…çš„åŠŸèƒ½: åˆçº¦æœ‰å¤šä¸ª ownerï¼Œä¸€ç¬”äº¤æ˜“å‘å‡ºåï¼Œéœ€è¦å¤šä¸ª owner ç¡®è®¤ï¼Œç¡®è®¤æ•°è¾¾åˆ°æœ€ä½è¦æ±‚æ•°ä¹‹åï¼Œæ‰å¯ä»¥çœŸæ­£çš„æ‰§è¡Œã€‚")]),e._v(" "),t("h3",{attrs:{id:"æœ¬èŠ‚é…å¥—è§†é¢‘-31"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬èŠ‚é…å¥—è§†é¢‘-31"}},[e._v("#")]),e._v(" æœ¬èŠ‚é…å¥—è§†é¢‘")]),e._v(" "),t("ul",[t("li",[e._v("BiliBili: "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1HR4y197Ag?p=44",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« å®æˆ˜ 5: å¤šç­¾é’±åŒ…")])]),e._v(" "),t("li",[e._v("Youtube: "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=PK3u8XXSbVg&list=PLdXBX6Eqe4Net43OWIZychHW0n6CX_8Ih&index=44",target:"_blank",rel:"noreferrer"}},[e._v("ç¬¬äºŒç« å®æˆ˜ 5: å¤šç­¾é’±åŒ…")])])]),e._v(" "),t("h3",{attrs:{id:"_1-åŸç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-åŸç†"}},[e._v("#")]),e._v(" 1.åŸç†")]),e._v(" "),t("ul",[t("li",[e._v("éƒ¨ç½²æ—¶å€™ä¼ å…¥åœ°å€å‚æ•°å’Œéœ€è¦çš„ç­¾åæ•°\n"),t("ul",[t("li",[e._v("å¤šä¸ª owner åœ°å€")]),e._v(" "),t("li",[e._v("å‘èµ·äº¤æ˜“çš„æœ€ä½ç­¾åæ•°")])])]),e._v(" "),t("li",[e._v("æœ‰æ¥å— ETH ä¸»å¸çš„æ–¹æ³•ï¼Œ")]),e._v(" "),t("li",[e._v("é™¤äº†å­˜æ¬¾å¤–ï¼Œå…¶ä»–æ‰€æœ‰æ–¹æ³•éƒ½éœ€è¦ owner åœ°å€æ‰å¯ä»¥è§¦å‘")]),e._v(" "),t("li",[e._v("å‘é€å‰éœ€è¦æ£€æµ‹æ˜¯å¦è·å¾—äº†è¶³å¤Ÿçš„ç­¾åæ•°")]),e._v(" "),t("li",[e._v("ä½¿ç”¨å‘å‡ºçš„äº¤æ˜“æ•°é‡å€¼ä½œä¸ºç­¾åçš„å‡­æ® IDï¼ˆç±»ä¼¼ä¸Šä¹ˆï¼‰")]),e._v(" "),t("li",[e._v("æ¯æ¬¡ä¿®æ”¹çŠ¶æ€å˜é‡éƒ½éœ€è¦æŠ›å‡ºäº‹ä»¶")]),e._v(" "),t("li",[e._v("å…è®¸æ‰¹å‡†çš„äº¤æ˜“ï¼Œåœ¨æ²¡æœ‰çœŸæ­£æ‰§è¡Œå‰å–æ¶ˆã€‚")]),e._v(" "),t("li",[e._v("è¶³å¤Ÿæ•°é‡çš„ approve åï¼Œæ‰å…è®¸çœŸæ­£æ‰§è¡Œã€‚")])]),e._v(" "),t("h3",{attrs:{id:"_2-ä»£ç "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä»£ç "}},[e._v("#")]),e._v(" 2.ä»£ç ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract MultiSigWallet {\n    // çŠ¶æ€å˜é‡\n    address[] public owners;\n    mapping(address => bool) public isOwner;\n    uint256 public required;\n\n    struct Transaction {\n        address to;\n        uint256 value;\n        bytes data;\n        bool exected;\n    }\n    Transaction[] public transactions;\n    mapping(uint256 => mapping(address => bool)) public approved;\n\n    // äº‹ä»¶\n    event Deposit(address indexed sender, uint256 amount);\n    event Submit(uint256 indexed txId);\n    event Approve(address indexed owner, uint256 indexed txId);\n    event Revoke(address indexed owner, uint256 indexed txId);\n    event Execute(uint256 indexed txId);\n\n    // receive\n    receive() external payable {\n        emit Deposit(msg.sender, msg.value);\n    }\n\n    // å‡½æ•°ä¿®æ”¹å™¨\n    modifier onlyOwner() {\n        require(isOwner[msg.sender], "not owner");\n        _;\n    }\n    modifier txExists(uint256 _txId) {\n        require(_txId < transactions.length, "tx doesn\'t exist");\n        _;\n    }\n    modifier notApproved(uint256 _txId) {\n        require(!approved[_txId][msg.sender], "tx already approved");\n        _;\n    }\n    modifier notExecuted(uint256 _txId) {\n        require(!transactions[_txId].exected, "tx is exected");\n        _;\n    }\n\n    // æ„é€ å‡½æ•°\n    constructor(address[] memory _owners, uint256 _required) {\n        require(_owners.length > 0, "owner required");\n        require(\n            _required > 0 && _required <= _owners.length,\n            "invalid required number of owners"\n        );\n\n        for (uint256 index = 0; index < _owners.length; index++) {\n            address owner = _owners[index];\n            require(owner != address(0), "invalid owner");\n            require(!isOwner[owner], "owner is not unique"); // å¦‚æœé‡å¤ä¼šæŠ›å‡ºé”™è¯¯\n            isOwner[owner] = true;\n            owners.push(owner);\n        }\n        required = _required;\n    }\n\n    // å‡½æ•°\n    function getBalance() external view returns (uint256) {\n        return address(this).balance;\n    }\n\n    function submit(\n        address _to,\n        uint256 _value,\n        bytes calldata _data\n    ) external onlyOwner returns(uint256){\n        transactions.push(\n            Transaction({to: _to, value: _value, data: _data, exected: false})\n        );\n        emit Submit(transactions.length - 1);\n        return transactions.length - 1;\n    }\n\n    function approv(uint256 _txId)\n        external\n        onlyOwner\n        txExists(_txId)\n        notApproved(_txId)\n        notExecuted(_txId)\n    {\n        approved[_txId][msg.sender] = true;\n        emit Approve(msg.sender, _txId);\n    }\n\n    function execute(uint256 _txId)\n        external\n        onlyOwner\n        txExists(_txId)\n        notExecuted(_txId)\n    {\n        require(getApprovalCount(_txId) >= required, "approvals < required");\n\n        Transaction storage transaction = transactions[_txId];\n        transaction.exected = true;\n\n        (bool sucess, ) = transaction.to.call{value: transaction.value}(\n            transaction.data\n        );\n        require(sucess, "tx failed");\n        emit Execute(_txId);\n    }\n\n    function getApprovalCount(uint256 _txId)\n        public\n        view\n        returns (uint256 count)\n    {\n        for (uint256 index = 0; index < owners.length; index++) {\n            if (approved[_txId][owners[index]]) {\n                count += 1;\n            }\n        }\n    }\n\n    function revoke(uint256 _txId)\n        external\n        onlyOwner\n        txExists(_txId)\n        notExecuted(_txId)\n    {\n        require(approved[_txId][msg.sender], "tx not approved");\n        approved[_txId][msg.sender] = false;\n        emit Revoke(msg.sender, _txId);\n    }\n}\n')])])]),t("h3",{attrs:{id:"_3-æµ‹è¯•æµç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-æµ‹è¯•æµç¨‹"}},[e._v("#")]),e._v(" 3.æµ‹è¯•æµç¨‹")]),e._v(" "),t("ol",[t("li",[e._v("éƒ¨ç½²åˆçº¦\n"),t("ol",[t("li",[e._v("ä¼ å…¥æ‰€æœ‰ owner åœ°å€")]),e._v(" "),t("li",[e._v("ä¼ å…¥éœ€è¦çš„æ‰¹å‡†æ•°: ä¾‹å­æ˜¯ 3")])])]),e._v(" "),t("li",[e._v("è°ƒç”¨ "),t("code",[e._v("required")]),e._v(" æŸ¥è¯¢éœ€è¦çš„æ•°é‡")]),e._v(" "),t("li",[e._v("è·å– "),t("code",[e._v("getBalance")]),e._v(" æŸ¥è¯¢å½“å‰åœ°å€çš„ ETH ä¸»å¸ä½™é¢")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("isOwner")]),e._v(" æŸ¥è¯¢å¤šä¸ªåœ°å€çš„æƒé™ï¼Œçœ‹æ˜¯å¦ç¬¦åˆé¢„æœŸ")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("owners")]),e._v(" æŸ¥è¯¢ä¸åŒçš„ç´¢å¼•æ˜¯å¦ç¬¦åˆé¢„æœŸ")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("transactions")]),e._v(" æŸ¥è¯¢åˆå§‹æ˜¯å¦ä¸ºæ²¡æœ‰å€¼")]),e._v(" "),t("li",[t("strong",[e._v("ä½¿ç”¨å…¶ä»–åœ°å€å‘åˆçº¦å†…è½¬å…¥ ETH ä¸»å¸")])]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("getBalance")]),e._v(" æŸ¥è¯¢å½“å‰åœ°å€çš„ ETH ä½™é¢æ˜¯å¦ç¬¦åˆé¢„æœŸ")]),e._v(" "),t("li",[e._v("è°ƒç”¨ "),t("code",[e._v("submit")]),e._v("ï¼Œç”³è¯·è½¬å‡ºä¸€ç¬”é’±åˆ°æŒ‡å®šåœ°å€\n"),t("ol",[t("li",[t("code",[e._v("_to")]),e._v(" åœ°å€")]),e._v(" "),t("li",[t("code",[e._v("_value")]),e._v(" éœ€è¦çš„é‡‘é¢")]),e._v(" "),t("li",[t("code",[e._v("_data")]),e._v(": å¦‚æœæ²¡æœ‰éœ€è¦çš„æ‰§è¡Œçš„ä»£ç ï¼Œä¼ å…¥é»˜è®¤çš„ "),t("code",[e._v("0x")]),e._v("å³å¯")]),e._v(" "),t("li",[e._v("è¿”å›å€¼ä¸ºæœ¬æ¬¡äº¤æ˜“çš„ "),t("code",[e._v("txId")])]),e._v(" "),t("li",[e._v("è®°å½• "),t("code",[e._v("_to")]),e._v(" çš„å½“å‰ä½™é¢")]),e._v(" "),t("li",[e._v("è®°å½• åˆçº¦çš„å½“å‰ä½™é¢ï¼Œä½¿ç”¨ "),t("code",[e._v("getBalance")]),e._v(" è·å–")])])]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("transactions")]),e._v(" æŸ¥è¯¢ "),t("code",[e._v("txId")]),e._v(" æ˜¯å¦ä¸ºé¢„æœŸ")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("getApprovalCount")]),e._v(" æŸ¥è¯¢æ‰¹å‡†æ•°é‡æ˜¯å¦ä¸º 0")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("getBalance")]),e._v(" æŸ¥è¯¢å½“å‰åœ°å€çš„ ETH ï¼Œç¡®è®¤é’±æ²¡æœ‰è¢«è½¬å‡º")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("approved")]),e._v(" æŸ¥è¯¢å½“å‰ "),t("code",[e._v("txId")]),e._v(" æ˜¯å¦è¢« owner1 æ‰¹å‡†")]),e._v(" "),t("li",[t("strong",[e._v("ä½¿ç”¨ owner1 è°ƒç”¨ "),t("code",[e._v("approv")]),e._v(" å¯¹ "),t("code",[e._v("txId")]),e._v(" è¿›è¡Œæ‰¹å‡†")])]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("getApprovalCount")]),e._v(" æŸ¥è¯¢æ‰¹å‡†æ•°é‡æ˜¯å¦ä¸º 1")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ owner1 è°ƒç”¨ "),t("code",[e._v("approv")]),e._v(" å¯¹ "),t("code",[e._v("txId")]),e._v(" è¿›è¡Œå†æ¬¡æ‰¹å‡†\n"),t("ol",[t("li",[e._v("æŸ¥çœ‹æ˜¯å¦æŠ¥é”™ "),t("code",[e._v("tx already approved")])])])]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("approved")]),e._v(" æŸ¥è¯¢å½“å‰ "),t("code",[e._v("txId")]),e._v(" æ˜¯å¦è¢«æŸä¸ª owner1 æ‰¹å‡†")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("getBalance")]),e._v(" å’Œ "),t("code",[e._v("transactions")]),e._v(" æŸ¥è¯¢ "),t("code",[e._v("txId")]),e._v(" æ˜¯å¦ä¸ºé¢„æœŸ")]),e._v(" "),t("li",[t("strong",[e._v("ä½¿ç”¨ "),t("code",[e._v("owner2")]),e._v(" "),t("code",[e._v("owner3")]),e._v(" åœ°å€è°ƒç”¨ "),t("code",[e._v("approv")]),e._v(" å¯¹ "),t("code",[e._v("txId")]),e._v(" è¿›è¡Œæ‰¹å‡†")]),e._v(" "),t("ol",[t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("approved")]),e._v(" æŸ¥è¯¢å½“å‰ "),t("code",[e._v("txId")]),e._v(" æ˜¯å¦è¢« owner1 æ‰¹å‡†")])])]),e._v(" "),t("li",[e._v("ç”¨ "),t("code",[e._v("getApprovalCount")]),e._v(" æŸ¥è¯¢æ‰¹å‡†æ•°é‡æ˜¯å¦ä¸º 3")]),e._v(" "),t("li",[t("strong",[e._v("ä½¿ç”¨ owner1 è°ƒç”¨ "),t("code",[e._v("revoke")]),e._v(" å¯¹ "),t("code",[e._v("txId")]),e._v(" è¿›è¡Œæ‰¹å‡†æ’¤é”€")])]),e._v(" "),t("li",[e._v("ç”¨ "),t("code",[e._v("getApprovalCount")]),e._v(" æŸ¥è¯¢æ‰¹å‡†æ•°é‡æ˜¯å¦ä¸º 2")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ owner1 è°ƒç”¨ "),t("code",[e._v("execute")]),e._v(" è¿›è¡Œæ­£å¼æ‰§è¡Œ\n"),t("ol",[t("li",[e._v("æŸ¥çœ‹æ˜¯å¦æŠ¥é”™ "),t("code",[e._v('"approvals < required"')]),e._v(".")])])]),e._v(" "),t("li",[t("strong",[e._v("ä½¿ç”¨ owner1 è°ƒç”¨ "),t("code",[e._v("revoke")]),e._v(" å¯¹ "),t("code",[e._v("txId")]),e._v(" è¿›è¡Œå†æ¬¡æ‰¹å‡†")]),e._v(" "),t("ol",[t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("approved")]),e._v(" æŸ¥è¯¢å½“å‰ "),t("code",[e._v("txId")]),e._v(" æ˜¯å¦è¢« owner1 æ‰¹å‡†")])])]),e._v(" "),t("li",[e._v("ç”¨ "),t("code",[e._v("getApprovalCount")]),e._v(" æŸ¥è¯¢æ‰¹å‡†æ•°é‡æ˜¯å¦ä¸º 3")]),e._v(" "),t("li",[t("strong",[e._v("ä½¿ç”¨ owner1 å†æ¬¡è°ƒç”¨ "),t("code",[e._v("execute")]),e._v(" è¿›è¡Œæ­£å¼æ‰§è¡Œ")]),e._v(" "),t("ol",[t("li",[e._v("æŸ¥è¯¢å½“å‰äº¤æ˜“æ˜¯å¦æ­£ç¡®æ‰§è¡Œ")])])]),e._v(" "),t("li",[e._v("ç¡®è®¤æ‰§è¡Œçš„ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ\n"),t("ol",[t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("transactions")]),e._v(" æŸ¥è¯¢ "),t("code",[e._v("txId")]),e._v(" çš„ "),t("code",[e._v("exected")]),e._v(" æ˜¯å¦ä¸º true")]),e._v(" "),t("li",[t("code",[e._v("_to")]),e._v(" åœ°å€æ˜¯å¦æ”¶åˆ°é‡‘é¢ï¼Œ")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("getBalance")]),e._v(" æŸ¥è¯¢å½“å‰åœ°å€çš„ ETH ä½™é¢æ˜¯å¦æ­£ç¡®")])])])]),e._v(" "),t("h2",{attrs:{id:"ï¸âƒ£-é—®ç­”é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ï¸âƒ£-é—®ç­”é¢˜"}},[e._v("#")]),e._v(" #ï¸âƒ£ é—®ç­”é¢˜")]),e._v(" "),t("ul",[t("li",[e._v("ä¸ºä»€ä¹ˆ "),t("code",[e._v("uint8/int8")]),e._v("è‡³ "),t("code",[e._v("uint256/uint256")]),e._v(" éƒ½æ˜¯ä»¥ 8 çš„å€æ•°é€’å¢ï¼Œä¸”æœ€å¤§å€¼æ˜¯ 256ã€‚\n"),t("ul",[t("li",[e._v("1 å­—èŠ‚æ˜¯ 8 ä½ï¼Œæ‰€ä»¥åé¢ 8,16,éƒ½éœ€è¦æ˜¯ 8 çš„æ•´æ•°å€ï¼Œint8 æ˜¯ 8 ä½ã€‚EVM ä¸ºåœ°å€è®¾ç½®çš„æœ€å¤§é•¿åº¦æ˜¯ 256 ä½ï¼Œæ‰€ä»¥æœ€å¤§å€¼æ˜¯"),t("code",[e._v("uint256/uint256")]),e._v("ã€‚")])])]),e._v(" "),t("li",[e._v("ä¸ºä»€ä¹ˆ "),t("code",[e._v("uint256")]),e._v(" çš„æœ€å¤§å€¼æ˜¯ "),t("code",[e._v("2**256 -1")]),e._v("ï¼Œè€Œä¸æ˜¯ "),t("code",[e._v("2**256")]),e._v(" å‘¢ï¼Ÿ\n"),t("ul",[t("li",[e._v("1 å­—èŠ‚æ˜¯ 8 ä½ï¼Œint8 æ˜¯ 8 ä½ï¼ŒäºŒè¿›åˆ¶è¡¨ç¤ºä¸º"),t("code",[e._v("0000 0000")]),e._v("è‡³"),t("code",[e._v("1000 0000")]),e._v("ï¼Œç¬¬ä¸€ä½æ˜¯ç¬¦å·ä½;ç¬¬ä¸€ä½ä¸º 0 æ˜¯æ­£å€¼ï¼Œç¬¬ä¸€ä½ä¸º 1 æ˜¯è´Ÿå€¼ï¼›å› ä¸º int8 æ€»å…±èƒ½å¤Ÿè¡¨ç¤º 2 çš„ 8 æ¬¡æ–¹ï¼Œæ‰€ä»¥å¸¦ç¬¦å·çš„æ­£å€¼ä¸º 128 ä¸ªæ•°ï¼Œè´Ÿå€¼ä¸º 128 ä¸ªæ•°ï¼›")]),e._v(" "),t("li",[e._v("è®¡ç®—æœºé‡Œæ˜¯å°† 0 ç®—åœ¨æ­£å€¼å†…ï¼Œè´Ÿå€¼çš„èŒƒå›´è¿˜æ˜¯-128ï¼›ä½†æ˜¯ "),t("strong",[e._v("0 ä¸æ˜¯æ­£æ•°ä¹Ÿä¸æ˜¯è´Ÿæ•°")]),e._v("ï¼Œæ‰€ä»¥æ­£å€¼èŒƒå›´å°‘äº†ä¸€ä¸ªä½ç½®ï¼Œå°±å‰© 127 ä¸ªä½ç½®äº†ã€‚")])])]),e._v(" "),t("li",[e._v("è®¡ç®—æœºä¸­ å­—èŠ‚ & bit & åå…­è¿›åˆ¶æ•°å­—çš„å…³ç³»\n"),t("ul",[t("li",[e._v("bytes1 æ˜¯æŒ‡ 1 ä¸ªå­—èŠ‚ï¼Œ1 ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºæˆ 2 ä¸ªè¿ç»­çš„ 16 è¿›åˆ¶æ•°å­—ã€‚æœ€å¤§å€¼æ˜¯ "),t("code",[e._v("0xff")])]),e._v(" "),t("li",[e._v("bytes1 æ˜¯æŒ‡ 1 ä¸ªå­—èŠ‚ï¼Œ1 ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤ºæˆ 8 ä¸ªè¿ç»­çš„ bit æ•°å­—ã€‚æœ€å¤§å€¼æ˜¯ "),t("code",[e._v("11111111")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("bytes1")]),e._v(" ç­‰äºä¸¤ä½è¿ç»­çš„åå…­è¿›åˆ¶æ•°å­— "),t("code",[e._v("0xXX")])])])]),e._v(" "),t("li",[e._v("8 ä¸ª bit æœ€å¤§å€¼æ˜¯ "),t("code",[e._v("11111111")]),e._v(",8 ä¸ª bit å¯¹åº” 2 ä¸ªè¿ç»­çš„åå…­è¿›åˆ¶æ•°å­—ï¼Œæœ€å¤§æ˜¯ "),t("code",[e._v("0xff")]),e._v(";\n"),t("ul",[t("li",[t("code",[e._v("uint8")]),e._v(" ç­‰äºä¸¤ä½è¿ç»­çš„åå…­è¿›åˆ¶æ•°å­— "),t("code",[e._v("0xXX")])])])])])]),e._v(" "),t("li",[e._v("Solidity çš„å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹åˆ†åˆ«æœ‰å“ªäº›ï¼Ÿ\n"),t("ul",[t("li",[e._v("å€¼ç±»å‹\n"),t("ul",[t("li",[e._v("boolean")]),e._v(" "),t("li",[e._v("integer æ•´å‹")]),e._v(" "),t("li",[e._v("integer æ•´å‹å­—é¢é‡"),t("code",[e._v("123_456_789")]),e._v("/"),t("code",[e._v("uint8 public a = (2**800 + 1) - 2**800;")])]),e._v(" "),t("li",[e._v("Fixed å®šé•¿æµ®ç‚¹å‹,å¯ä»¥å£°æ˜å®šé•¿æµ®ç‚¹å‹çš„å˜é‡ï¼Œä½†ä¸èƒ½ç»™å®ƒä»¬èµ‹å€¼æˆ–æŠŠå®ƒä»¬èµ‹å€¼ç»™å…¶ä»–å˜é‡ã€‚")]),e._v(" "),t("li",[e._v("BytesN å®šé•¿å­—èŠ‚æ•°ç»„")]),e._v(" "),t("li",[e._v("å­—ç¬¦ä¸²å­—é¢é‡ï¼Œæ¯”å¦‚ "),t("code",[e._v('bytes1 public a8 = "a";')]),e._v(",ä¹ŸåŒ…æ‹¬ unicode å­—é¢å¸¸é‡ã€‚")]),e._v(" "),t("li",[e._v("åå…­è¿›åˆ¶å­—é¢å¸¸é‡"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('contract Test {\n    string public a1 = "a";\n    bytes1 public a2 = "a";\n    bytes1 public a3 = 0x61;\n    bytes1 public a4 = hex"61";\n}\n')])])])]),e._v(" "),t("li",[e._v("Enum:æšä¸¾")]),e._v(" "),t("li",[e._v("ç”¨æˆ·å®šä¹‰çš„å€¼ç±»å‹;ç”¨æˆ·å®šä¹‰å€¼ç±»å‹ä½¿ç”¨ type UserType is DefaultType æ¥å®šä¹‰ï¼Œå…¶ä¸­ UserType æ˜¯æ–°å¼•å…¥çš„ç±»å‹çš„åç§°ï¼Œ DefaultType å¿…é¡»æ˜¯å†…ç½®çš„å€¼ç±»å‹ï¼ˆâ€åº•å±‚ç±»å‹â€ï¼‰ã€‚")]),e._v(" "),t("li",[e._v("åœ°å€ç±»å‹/åˆç±»å‹çº¦")]),e._v(" "),t("li",[e._v("å‡½æ•°ç±»å‹")])])]),e._v(" "),t("li",[e._v("å¼•ç”¨ç±»å‹\n"),t("ul",[t("li",[e._v("array")]),e._v(" "),t("li",[e._v("bytesï¼ˆbytes å’Œ bytes32[] åŒºåˆ«ï¼‰")]),e._v(" "),t("li",[e._v("string")]),e._v(" "),t("li",[e._v("mapping")]),e._v(" "),t("li",[e._v("struct")])])])])])]),e._v(" "),t("p",[t("strong",[e._v("int/uint")])]),e._v(" "),t("ul",[t("li",[t("p",[e._v("å¦‚ä½•è·å–æ•´å‹çš„æœ€å¤§å€¼å’Œæœ€å°å€¼")]),e._v(" "),t("ul",[t("li",[e._v("å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("type(int8).max")]),e._v(" è·å–è¯¥ç±»å‹çš„æœ€å¤§å€¼")]),e._v(" "),t("li",[e._v("å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("type(int8).min")]),e._v(" è·å–è¯¥ç±»å‹çš„æœ€å°å€¼")])])]),e._v(" "),t("li",[t("p",[e._v("èŠä¸€èŠ "),t("code",[e._v("checked")]),e._v(" å’Œ "),t("code",[e._v("unchecked")])]),e._v(" "),t("ul",[t("li",[e._v("0.8.0 å¼€å§‹ï¼Œç®—æœ¯è¿ç®—æœ‰ä¸¤ç§è®¡ç®—æ¨¡å¼ï¼šä¸€ç§æ˜¯"),t("code",[e._v("checked")]),e._v("ï¼ˆæ£€æŸ¥ï¼‰æ¨¡å¼ï¼Œå¦ä¸€ç§æ˜¯ "),t("code",[e._v("unchecked")]),e._v("ï¼ˆä¸æ£€æŸ¥ï¼‰æ¨¡å¼ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œç®—æœ¯è¿ç®—åœ¨ "),t("code",[e._v("checked")]),e._v(" æ¨¡å¼ä¸‹ï¼Œå³éƒ½ä¼šè¿›è¡Œæº¢å‡ºæ£€æŸ¥ï¼Œå¦‚æœç»“æœè½åœ¨å–å€¼èŒƒå›´ä¹‹å¤–ï¼Œè°ƒç”¨ä¼šé€šè¿‡ å¤±è´¥å¼‚å¸¸ å›é€€ã€‚ ä½ ä¹Ÿå¯ä»¥é€šè¿‡ "),t("code",[e._v("unchecked{ ... }")]),e._v(" åˆ‡æ¢åˆ° â€œuncheckedâ€æ¨¡å¼ï¼Œæ›´å¤šå¯å‚è€ƒ "),t("code",[e._v("unchecked")]),e._v(" .")]),e._v(" "),t("li",[e._v("ç°åœ¨ä¸éœ€è¦å› ä¸º safeMath åº“äº†ã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("ä¸‹é¢ä»£ç ä¼šæŠ¥é”™ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("uint8 public a = (2**800 + 1) - 2**800; // 1\nuint8 public b = 0.5 * 8; // 4\nuint8 public c = 2.5 + b + 0.5;\n")])])]),t("ul",[t("li",[t("code",[e._v("(2**800 + 1) - 2**800")]),e._v(" çš„ç»“æœæ˜¯å­—é¢å¸¸é‡ 1 ï¼ˆå±äº uint8 ç±»å‹ï¼‰ï¼Œå°½ç®¡è®¡ç®—çš„ä¸­é—´ç»“æœå·²ç»è¶…è¿‡äº† ä»¥å¤ªåŠè™šæ‹Ÿæœºçš„æœºå™¨å­—é•¿åº¦ã€‚ æ­¤å¤–ï¼Œ "),t("code",[e._v(".5 * 8")]),e._v(" çš„ç»“æœæ˜¯æ•´å‹ "),t("code",[e._v("4")]),e._v(" ï¼ˆå°½ç®¡æœ‰éæ•´å‹å‚ä¸äº†è®¡ç®—ï¼‰ã€‚")]),e._v(" "),t("li",[e._v("å°½ç®¡æˆ‘ä»¬çŸ¥é“ b çš„å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œä½† "),t("code",[e._v("2.5 + a")]),e._v(" è¿™éƒ¨åˆ†è¡¨è¾¾å¼å¹¶ä¸è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå› æ­¤ç¼–è¯‘ä¸èƒ½é€šè¿‡ã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("ä¸‹é¢ä»£ç ä¸­çš„"),t("code",[e._v("c1")]),e._v("/"),t("code",[e._v("c2")]),e._v("ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("uint256 a = 1;\nuint256 b = 4;\nuint256 c1 = (1 / 4) * 4; // 1 => æœªæˆªæ–­\nuint256 c2 = (a / b) * b; // 0 => æˆªæ–­\n")])])]),t("ul",[t("li",[e._v("æ•´æ•°çš„é™¤æ³•ä¼šè¢«æˆªæ–­ï¼ˆä¾‹å¦‚ï¼š"),t("code",[e._v("1/4")]),e._v(" ç»“æœä¸º 0ï¼‰,ä½†æ˜¯ä½¿ç”¨å­—é¢é‡çš„æ–¹å¼ä¸ä¼šè¢«æˆªæ–­")])])]),e._v(" "),t("li",[t("p",[e._v("ä¸‹é¢ä¸¤ä¸ªå‡½æ•°éƒ½ä¼šè¿è¡ŒæˆåŠŸä¹ˆï¼Ÿ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function test1() public pure returns (int256 a) {\n    a = type(int256).min / (-2);\n}\n\n// VM error: revert.\nfunction test2() public pure returns (int256 a) {\n    a = type(int256).min / (-1);\n}\n")])])]),t("ul",[t("li",[e._v("è¡¨è¾¾å¼ "),t("code",[e._v("type(int).min / (-1)")]),e._v(" æ˜¯ä»…æœ‰çš„æ•´é™¤ä¼šå‘ç”Ÿå‘ä¸Šæº¢å‡ºçš„æƒ…å†µã€‚ åœ¨ç®—æœ¯æ£€æŸ¥æ¨¡å¼ä¸‹ï¼Œè¿™ä¼šè§¦å‘ä¸€ä¸ªå¤±è´¥å¼‚å¸¸ï¼Œåœ¨æˆªæ–­æ¨¡å¼ä¸‹ï¼Œè¡¨è¾¾å¼çš„å€¼å°†æ˜¯ "),t("code",[e._v("type(int).min")]),e._v(" ã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("ä¸‹é¢ä¾‹å­è¾“å‡ºä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("ä½ å¯èƒ½è®¤ä¸ºåƒ"),t("code",[e._v("255 + (true ? 1 : 0)")]),e._v(" æˆ– "),t("code",[e._v("255 + [1, 2, 3][0]")]),e._v(" è¿™æ ·çš„è¡¨è¾¾å¼ç­‰åŒäºç›´æ¥ä½¿ç”¨ 256 å­—é¢å¸¸é‡ã€‚ ä½†äº‹å®ä¸Šï¼Œå®ƒä»¬æ˜¯åœ¨ "),t("code",[e._v("uint8")]),e._v(" ç±»å‹ä¸­è®¡ç®—çš„ï¼Œä¼šæº¢å‡ºã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// VM error: revert.\nfunction testA1() public pure returns (uint256 a) {\n    a = 255 + (true ? 1 : 0);\n}\n\nfunction testA2() public pure returns (uint256 a) {\n    a = (true ? 1 : 0) + 255;\n}\n\n// VM error: revert.\nfunction testB1() public pure returns (uint256 a) {\n    a = 255 + [1, 2, 3][0];\n}\n\nfunction testB2() public pure returns (uint256 a) {\n    a = [1, 2, 3][0] + 255;\n}\n\nfunction testA3() public pure returns (uint256 a) {\n    a = 255 + uint256(true ? 1 : 0);\n}\n\nfunction testB3() public pure returns (uint256 a) {\n    a = 255 + uint256([1, 2, 3][0]);\n}\n")])])])])]),e._v(" "),t("p",[t("strong",[e._v("BytesN å®šé•¿å­—èŠ‚æ•°ç»„")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("bytesN")]),e._v(" æœ‰å“ªäº›å±æ€§ï¼Œåˆ†åˆ«æ€ä¹ˆä½¿ç”¨ã€‚\n"),t("ul",[t("li",[e._v("å®šä¹‰æ–¹å¼ "),t("code",[e._v("bytesN")]),e._v("ï¼Œå…¶ä¸­ N å¯å– "),t("code",[e._v("1~32")]),e._v(" ä¸­çš„ä»»æ„æ•´æ•°;bytes1 ä»£è¡¨åªèƒ½å­˜å‚¨ä¸€ä¸ªå­—èŠ‚ã€‚ä¸€æ—¦å£°æ˜ï¼Œå…¶å†…éƒ¨çš„å­—èŠ‚é•¿åº¦ä¸å¯ä¿®æ”¹ï¼Œå†…éƒ¨å­—èŠ‚ä¸å¯ä¿®æ”¹ã€‚æ³¨æ„è¿™é‡Œ "),t("code",[e._v("bytes32")]),e._v(" å’Œ "),t("code",[e._v("bytes")]),e._v(" æ˜¯ä¸åŒçš„ã€‚"),t("code",[e._v("bytes")]),e._v(" æ˜¯å˜é•¿å­—èŠ‚æ•°ç»„ï¼Œæ˜¯å¼•ç”¨ç±»å‹ã€‚"),t("code",[e._v("byte")]),e._v(" æ˜¯ "),t("code",[e._v("bytes1")]),e._v(" çš„åˆ«åï¼Œä¸æ¨èä½¿ç”¨ã€‚")]),e._v(" "),t("li",[t("code",[e._v("length")]),e._v(" ï¼ˆåªè¯»ï¼‰\n"),t("ul",[t("li",[e._v("è¿”å›å­—èŠ‚ä¸ªæ•°ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•è¯»å–å¯¹åº”ç´¢å¼•çš„å­—èŠ‚ã€‚")])])]),e._v(" "),t("li",[e._v("ç´¢å¼•è®¿é—®: "),t("code",[e._v("bytesN[index]")]),e._v(" "),t("ul",[t("li",[e._v("index å–å€¼èŒƒå›´"),t("code",[e._v("[0, N]")]),e._v("ï¼Œå…¶ä¸­ N è¡¨ç¤ºé•¿åº¦ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœ "),t("code",[e._v("x")]),e._v(" æ˜¯ "),t("code",[e._v("bytesI")]),e._v(" ç±»å‹ï¼Œé‚£ä¹ˆ "),t("code",[e._v("x[k]")]),e._v(" ï¼ˆå…¶ä¸­ 0 <= k < Iï¼‰è¿”å›ç¬¬ k ä¸ªå­—èŠ‚ï¼ˆåªè¯»ï¼‰ã€‚")])])])])]),e._v(" "),t("li",[t("code",[e._v("bytesN")]),e._v(" æœ‰ä»€ä¹ˆæ–¹æ³•ï¼Ÿ\n"),t("ul",[t("li",[e._v("è‡ªå·±æ²¡æœ‰æ–¹æ³•ï¼Œå¯ä»¥å…¨å±€çš„ï¼Œæ¯”å¦‚ deleteã€‚")])])]),e._v(" "),t("li",[t("code",[e._v('"a"')]),e._v(" æ˜¯å€¼ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹ï¼Ÿ\n"),t("ul",[t("li",[e._v("æ³¨ï¼šå­—ç¬¦ä¸²å­—é¢å¸¸é‡æ˜¯å€¼ç±»å‹,è¿™ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹ã€‚æ¯”å¦‚"),t("code",[e._v('bytes1 public b1 = "a";')])])])])]),e._v(" "),t("p",[t("strong",[e._v("Unicode")])]),e._v(" "),t("ul",[t("li",[e._v("æ€ä¹ˆæ ·è¾“å‡ºä¸­æ–‡å­—ç¬¦ä¸²ï¼Ÿï¼ˆ"),t("code",[e._v('unicode"åŒå¿—ä»¬å¥½"')]),e._v("ï¼‰")])]),e._v(" "),t("p",[t("strong",[e._v("åå…­è¿›åˆ¶å­—é¢å¸¸é‡")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v('bytes1 public a4 = hex"61";')]),e._v(" çš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆ"),t("code",[e._v("0x61")]),e._v("ï¼‰")])]),e._v(" "),t("p",[t("strong",[e._v("Enum:æšä¸¾")])]),e._v(" "),t("ul",[t("li",[e._v("æšä¸¾ç±»å‹çš„ä½¿ç”¨åœºæ™¯\n"),t("ul",[t("li",[t("code",[e._v("enum")]),e._v(" æ˜¯ä¸€ç§ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºå¤šç§çŠ¶æ€ï¼Œæšä¸¾å¯ç”¨æ¥åˆ›å»ºç”±ä¸€å®šæ•°é‡çš„â€œå¸¸é‡å€¼â€æ„æˆçš„è‡ªå®šä¹‰ç±»å‹ã€‚ä¸»è¦ä½œç”¨æ˜¯ç”¨äºé™åˆ¶æŸä¸ªäº‹åŠ¡çš„æœ‰é™é€‰æ‹©ã€‚æ¯”å¦‚å°†å’–å•¡çš„å®¹é‡å¤§å°é™åˆ¶ä¸ºï¼šå¤§ã€ä¸­ã€å°ï¼Œè¿™å°†ç¡®ä¿ä»»ä½•äººä¸èƒ½è´­ä¹°å…¶ä»–å®¹é‡çš„å’–å•¡ï¼Œåªèƒ½åœ¨è¿™é‡Œé€‰æ‹©ã€‚")])])]),e._v(" "),t("li",[e._v("Enum çš„å±æ€§å’Œæ–¹æ³•\n"),t("ul",[t("li",[e._v("é€‰é¡¹ä» 0 å¼€å§‹çš„æ— ç¬¦å·æ•´æ•°å€¼è¡¨ç¤ºã€‚")]),e._v(" "),t("li",[t("code",[e._v("type(NameOfEnum).min/max")])]),e._v(" "),t("li",[e._v("delete æ¢å¤é»˜è®¤")])])]),e._v(" "),t("li",[e._v("èŠä¸€èŠæšä¸¾ç±»å‹\n"),t("ul",[t("li",[e._v("æšä¸¾ç±»å‹ï¼Œè¿”å›å€¼æ˜¯ç´¢å¼•ï¼Œé»˜è®¤å€¼æ˜¯ 0;")]),e._v(" "),t("li",[e._v("æšä¸¾ç±»å‹çš„é»˜è®¤å€¼æ˜¯ç¬¬ä¸€ä¸ªå€¼ã€‚\n"),t("ul",[t("li",[e._v("æšä¸¾ç±»å‹ enum è‡³å°‘åº”è¯¥æœ‰ä¸€åæˆå‘˜ã€‚")])])]),e._v(" "),t("li",[e._v("è®¾ç½®çš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½®ä¸ºç´¢å¼•ï¼Œä¹Ÿå¯ä»¥å¯¹åº”çš„æšä¸¾åç§°;")]),e._v(" "),t("li",[e._v("æšä¸¾ç±»å‹ enum å¯ä»¥ä¸æ•´æ•°è¿›è¡Œæ˜¾å¼è½¬æ¢ï¼Œä½†ä¸èƒ½è¿›è¡Œéšå¼è½¬æ¢ã€‚\n"),t("ul",[t("li",[e._v("æ˜¾ç¤ºè½¬æ¢ä¼šåœ¨è¿è¡Œæ—¶æ£€æŸ¥æ•°å€¼èŒƒå›´ï¼Œå¦‚æœä¸åŒ¹é…ï¼Œå°†ä¼šå¼•èµ·å¼‚å¸¸ã€‚")])])]),e._v(" "),t("li",[e._v("å¾ˆå¤šäººæ„Ÿè§‰ enum å¾ˆå°‘ç”¨ï¼Œä¸€æ˜¯å› ä¸ºåº”ç”¨åœºæ™¯ç¡®å®æ¯”è¾ƒçª„ï¼ŒäºŒæ˜¯å› ä¸ºå¯ä»¥è¢«å…¶ä»–æ•°æ®ç±»å‹æ‰€ä»£æ›¿ï¼›ä½†æŒ‰ç…§ç¼–ç è§„èŒƒï¼Œé™åˆ¶é€‰æ‹©èŒƒå›´åœºæ™¯ï¼Œé™¤äº† bool ä»¥å¤–çš„ï¼Œæ¨èä½¿ç”¨ enum ç±»å‹æ¥å®šä¹‰ã€‚")])])])]),e._v(" "),t("p",[t("strong",[e._v("UserType ç”¨æˆ·å®šä¹‰çš„å€¼ç±»å‹")])]),e._v(" "),t("ul",[t("li",[e._v("èŠä¸€èŠ UserTypeã€‚\n"),t("ul",[t("li",[e._v("ç”¨æˆ·å®šä¹‰å€¼ç±»å‹ä½¿ç”¨ "),t("code",[e._v("type UserType is DefaultType")]),e._v(" æ¥å®šä¹‰ï¼Œå…¶ä¸­ "),t("code",[e._v("UserType")]),e._v(" æ˜¯æ–°å¼•å…¥çš„ç±»å‹çš„åç§°ï¼Œ "),t("code",[e._v("DefaultType")]),e._v(" å¿…é¡»æ˜¯å†…ç½®çš„å€¼ç±»å‹ï¼ˆâ€åº•å±‚ç±»å‹â€ï¼‰ã€‚è‡ªå®šä¹‰ç±»å‹çš„å€¼çš„æ•°æ®è¡¨ç¤ºåˆ™ç»§æ‰¿è‡ªåº•å±‚ç±»å‹ï¼Œå¹¶ä¸” ABI ä¸­ä¹Ÿä½¿ç”¨åº•å±‚ç±»å‹ã€‚")]),e._v(" "),t("li",[e._v("âš ï¸: ç”¨æˆ·å®šä¹‰çš„ç±»å‹ "),t("code",[e._v("UserType")]),e._v(" æ²¡æœ‰ä»»ä½•è¿ç®—ç¬¦æˆ–ç»‘å®šæˆå‘˜å‡½æ•°ã€‚å³ä½¿æ˜¯æ“ä½œç¬¦ "),t("code",[e._v("==")]),e._v(" ä¹Ÿæ²¡æœ‰å®šä¹‰ã€‚ä¹Ÿä¸å…è®¸ä¸å…¶ä»–ç±»å‹è¿›è¡Œæ˜¾å¼å’Œéšå¼è½¬æ¢ã€‚")])])]),e._v(" "),t("li",[e._v("UserType æœ‰å±æ€§ä¹ˆï¼Ÿæœ‰æ–¹æ³•ä¹ˆï¼Ÿ\n"),t("ul",[t("li",[t("code",[e._v("UserType.wrap()")])]),e._v(" "),t("li",[t("code",[e._v("UserType.unwrap()")])])])])]),e._v(" "),t("p",[t("strong",[e._v("address")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("address")]),e._v(" å’Œ "),t("code",[e._v("address payable")]),e._v(" æœ‰ä»€ä¹ˆåŒºåˆ«\n"),t("ul",[t("li",[t("code",[e._v("address")]),e._v("ï¼šä¿å­˜ä¸€ä¸ª 20 å­—èŠ‚çš„å€¼ï¼ˆä»¥å¤ªåŠåœ°å€çš„å¤§å°ï¼‰ã€‚")]),e._v(" "),t("li",[t("code",[e._v("address payable")]),e._v(" ï¼šå¯æ”¯ä»˜åœ°å€ï¼Œä¸ "),t("code",[e._v("address")]),e._v(" ç›¸åŒï¼Œä¸è¿‡æœ‰æˆå‘˜å‡½æ•° "),t("code",[e._v("transfer")]),e._v(" å’Œ "),t("code",[e._v("send")]),e._v(" ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœä½ éœ€è¦ "),t("code",[e._v("address")]),e._v(" ç±»å‹çš„å˜é‡ï¼Œå¹¶è®¡åˆ’å‘é€ä»¥å¤ªå¸ç»™è¿™ä¸ªåœ°å€ï¼Œé‚£ä¹ˆå£°æ˜ç±»å‹ä¸º "),t("code",[e._v("address payable")]),e._v(" å¯ä»¥æ˜ç¡®è¡¨è¾¾å‡ºä½ çš„éœ€æ±‚ã€‚ åŒæ ·ï¼Œå°½é‡æ›´æ—©å¯¹ä»–ä»¬è¿›è¡ŒåŒºåˆ†æˆ–è½¬æ¢ã€‚")]),e._v(" "),t("li",[e._v("è¿™ç§åŒºåˆ«èƒŒåçš„æ€æƒ³æ˜¯ "),t("code",[e._v("address payable")]),e._v(" å¯ä»¥å‘å…¶å‘é€ä»¥å¤ªå¸ï¼Œè€Œä¸èƒ½å‘ä¸€ä¸ªæ™®é€šçš„ "),t("code",[e._v("address")]),e._v(" å‘é€ä»¥å¤ªå¸ã€‚æ¯”å¦‚ï¼Œå®ƒå¯èƒ½æ˜¯ä¸€ä¸ªæ™ºèƒ½åˆçº¦åœ°å€ï¼Œå¹¶ä¸”ä¸æ”¯æŒæ¥æ”¶ä»¥å¤ªå¸ã€‚")])])]),e._v(" "),t("li",[e._v("address ç±»å‹åˆ†åˆ«æœ‰ä»€ä¹ˆå±æ€§ï¼Ÿä»‹ç»ä¸€ä¸‹ç”¨é€”\n"),t("ol",[t("li",[e._v(".balance : ä»¥ Wei ä¸ºå•ä½çš„ä½™é¢ã€‚"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address>.balance    returns(uint256)\n")])])])]),e._v(" "),t("li",[e._v(".code : åœ°å€ä¸Šçš„ä»£ç (å¯ä»¥ä¸ºç©º)"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address>.code        returns(bytes memory)\n")])])])]),e._v(" "),t("li",[e._v(".codehash : åœ°å€çš„ codehash"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address>.codehash    returns(bytes32)\n")])])])])])]),e._v(" "),t("li",[e._v("address ç±»å‹æœ‰å“ªäº›æ–¹æ³•ä»¥åŠå„è‡ªçš„ä½œç”¨ã€‚\n"),t("ol",[t("li",[t("code",[e._v("address()")]),e._v(": å¯ä»¥å°†åœ°å€è½¬æ¢åˆ°åœ°å€ç±»å‹ã€‚")]),e._v(" "),t("li",[t("code",[e._v("payable()")]),e._v(": å°†æ™®é€šåœ°å€è½¬ä¸ºå¯æ”¯ä»˜åœ°å€ã€‚\n"),t("ol",[t("li",[e._v("ä» "),t("code",[e._v("address")]),e._v(" åˆ° "),t("code",[e._v("address payable")]),e._v(" çš„è½¬æ¢ã€‚å¯ä»¥é€šè¿‡ "),t("code",[e._v("payable(x)")]),e._v(" è¿›è¡Œ ï¼Œå…¶ä¸­ "),t("code",[e._v("x")]),e._v(" å¿…é¡»æ˜¯ "),t("code",[e._v("address")]),e._v(" ç±»å‹ã€‚")])])]),e._v(" "),t("li",[t("code",[e._v(".transfer(uint256 amount)")]),e._v(": å°†ä½™é¢è½¬åˆ°å½“å‰åœ°å€ï¼ˆåˆçº¦åœ°å€è½¬è´¦ï¼‰"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address payable>.transfer(uint256 amount)\n")])])]),t("ol",[t("li",[e._v("å¤±è´¥æ—¶æŠ›å‡ºå¼‚å¸¸, ç­‰ä»·äº"),t("code",[e._v("require(send())")]),e._v(" ä½¿ç”¨å›ºå®šï¼ˆä¸å¯è°ƒèŠ‚ï¼‰çš„ 2300 gas çš„çŸ¿å·¥è´¹ï¼Œé”™è¯¯ä¼š reverts")]),e._v(" "),t("li",[e._v("éœ€è¦ payable address")])])]),e._v(" "),t("li",[t("code",[e._v(".send(uint256 amount)")]),e._v(": å°†ä½™é¢è½¬åˆ°å½“å‰åœ°å€ï¼Œå¹¶"),t("strong",[e._v("è¿”å›äº¤æ˜“æˆåŠŸçŠ¶æ€")]),e._v("ï¼ˆåˆçº¦åœ°å€è½¬è´¦ï¼‰"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address payable>.send(uint256 amount) returns (bool)\n")])])]),t("ol",[t("li",[e._v("å¤±è´¥æ—¶ä»…ä¼šè¿”å› "),t("code",[e._v("false")]),e._v("ï¼Œä¸ä¼šç»ˆæ­¢æ‰§è¡Œï¼ˆåˆçº¦åœ°å€è½¬è´¦ï¼‰;ä½¿ç”¨å›ºå®šï¼ˆä¸å¯è°ƒèŠ‚ï¼‰çš„ 2300 gas çš„çŸ¿å·¥è´¹ã€‚")]),e._v(" "),t("li",[e._v("éœ€è¦ payable address")]),e._v(" "),t("li",[e._v("è¡¥å……ï¼šsend ä¸ transfer å¯¹åº”ï¼Œä½† "),t("strong",[e._v("send æ›´åº•å±‚")]),e._v("ã€‚å¦‚æœæ‰§è¡Œå¤±è´¥ï¼Œtransfer ä¸ä¼šå› å¼‚å¸¸åœæ­¢ï¼Œè€Œ send ä¼šè¿”å› falseã€‚transfer ç›¸å¯¹ send è¾ƒå®‰å…¨")]),e._v(" "),t("li",[e._v("send() æ‰§è¡Œæœ‰ä¸€äº›é£é™©ï¼šå¦‚æœè°ƒç”¨æ ˆçš„æ·±åº¦è¶…è¿‡ 1024 æˆ– gas è€—å…‰ï¼Œäº¤æ˜“éƒ½ä¼šå¤±è´¥ã€‚å› æ­¤ï¼Œä¸ºäº†ä¿è¯å®‰å…¨ï¼Œå¿…é¡»æ£€æŸ¥ send çš„è¿”å›å€¼ï¼Œå¦‚æœäº¤æ˜“å¤±è´¥ï¼Œä¼šå›é€€ä»¥å¤ªå¸ã€‚")])])]),e._v(" "),t("li",[t("code",[e._v(".call(bytes memory)")]),e._v(": ç”¨ç»™å®šçš„æœ‰æ•ˆè½½è·ï¼ˆpayloadï¼‰å‘å‡ºä½çº§ "),t("code",[e._v("CALL")]),e._v(" è°ƒç”¨ï¼Œå¹¶"),t("strong",[e._v("è¿”å›äº¤æ˜“æˆåŠŸçŠ¶æ€å’Œè¿”å›æ•°æ®")]),e._v("ï¼ˆè°ƒç”¨åˆçº¦çš„æ–¹æ³•å¹¶è½¬è´¦ï¼‰"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address>.call(bytes memory) returns (bool, bytes memory)\n")])])]),t("ol",[t("li",[e._v("å‘é€æ‰€æœ‰å¯ç”¨ gasï¼Œä¹Ÿå¯ä»¥è‡ªå·±è°ƒèŠ‚ gasã€‚")]),e._v(" "),t("li",[e._v("è¿”å›ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ª "),t("code",[e._v("bool")]),e._v(" å€¼ä»£è¡¨æˆåŠŸæˆ–è€…å¤±è´¥ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å¯èƒ½å­˜åœ¨çš„ "),t("code",[e._v("data")])]),e._v(" "),t("li",[e._v("ä½çº§ "),t("code",[e._v("CALL")]),e._v(" è°ƒç”¨ï¼šä¸éœ€è¦ payable address, æ™®é€šåœ°å€å³å¯")])])]),e._v(" "),t("li",[t("code",[e._v(".delegatecall(bytes memory)")]),e._v(": ç”¨ç»™å®šçš„æœ‰æ•ˆè½½è·ï¼ˆpayloadï¼‰å‘å‡ºä½çº§ "),t("code",[e._v("DELEGATECALL")]),e._v(" è°ƒç”¨ï¼Œå¹¶"),t("strong",[e._v("è¿”å›äº¤æ˜“æˆåŠŸçŠ¶æ€å’Œè¿”å›æ•°æ®")]),e._v("ï¼ˆè°ƒç”¨åˆçº¦çš„æ–¹æ³•å¹¶è½¬è´¦ï¼‰"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address>.delegatecall(bytes memory) returns (bool, bytes memory)\n")])])]),t("ol",[t("li",[e._v("å‘å‡ºä½çº§å‡½æ•° "),t("code",[e._v("DELEGATECALL")]),e._v("ï¼Œå¤±è´¥æ—¶è¿”å› falseï¼Œå‘é€æ‰€æœ‰å¯ç”¨ gasï¼Œä¹Ÿå¯ä»¥è‡ªå·±è°ƒèŠ‚ gasã€‚")])])]),e._v(" "),t("li",[t("code",[e._v("staticcall(bytes memory)")]),e._v(": ç”¨ç»™å®šçš„æœ‰æ•ˆè½½è·ï¼ˆpayloadï¼‰å‘å‡ºä½çº§ "),t("code",[e._v("STATICCALL")]),e._v(" è°ƒç”¨ï¼Œå¹¶"),t("strong",[e._v("è¿”å›äº¤æ˜“æˆåŠŸçŠ¶æ€å’Œè¿”å›æ•°æ®")]),e._v("ï¼ˆè°ƒç”¨åˆçº¦çš„æ–¹æ³•å¹¶è½¬è´¦ï¼‰"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<address>.staticcall(bytes memory) returns (bool, bytes memory)\n")])])]),t("ol",[t("li",[e._v("å‘é€æ‰€æœ‰å¯ç”¨ gasï¼Œä¹Ÿå¯ä»¥è‡ªå·±è°ƒèŠ‚ gasã€‚")])])])])]),e._v(" "),t("li",[e._v("åœ°å€çš„ä¸‰ç§è½¬å¸æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿtransfer / send /call\n"),t("ul",[t("li",[e._v("ç›¸åŒç‚¹\n"),t("ul",[t("li",[e._v("ä¸‰ç§æ–¹æ³•éƒ½å¯ä»¥è¿›è¡Œè½¬è´¦")]),e._v(" "),t("li",[t("code",[e._v("_to.transfer(100)")]),e._v("ã€"),t("code",[e._v("_to.send(100)")]),e._v("ã€"),t("code",[e._v('_to.call{value: 100}("")')]),e._v(" çš„æ¥æ”¶æ–¹éƒ½æ˜¯"),t("code",[e._v("_to")]),e._v("ã€‚\n"),t("ul",[t("li",[e._v("å¦‚æœ"),t("code",[e._v("_to")]),e._v("åˆçº¦ä¸­å¿…é¡»å¢åŠ  "),t("code",[e._v("fallback")]),e._v(" æˆ–è€… "),t("code",[e._v("receive")]),e._v(" å‡½æ•°ï¼")]),e._v(" "),t("li",[e._v("å¦åˆ™æŠ¥é”™"),t("code",[e._v("In order to receive Ether transfer the contract should have either 'receive' or payable 'fallback' function")])])])])])]),e._v(" "),t("li",[e._v("ä¸åŒç‚¹:\n"),t("ul",[t("li",[e._v("ä½çº§ "),t("code",[e._v("CALL")]),e._v(" è°ƒç”¨ï¼šä¸éœ€è¦ "),t("code",[e._v("payable address")]),e._v(" "),t("ul",[t("li",[e._v("transfer å’Œ send åªèƒ½æ˜¯ "),t("code",[e._v("payable address")])])])]),e._v(" "),t("li",[t("code",[e._v("call")]),e._v(" çš„ gas å¯ä»¥åŠ¨æ€è°ƒæ•´\n"),t("ul",[t("li",[e._v("transfer å’Œ send åªèƒ½æ˜¯å›ºå®šåˆ¶ "),t("code",[e._v("2300")])])])]),e._v(" "),t("li",[t("code",[e._v("call")]),e._v(" é™¤äº†å¯ä»¥è½¬è´¦å¤–ï¼Œå¯ä»¥è¿˜å¯ä»¥è°ƒç”¨ä¸çŸ¥é“ ABI çš„æ–¹æ³•ï¼Œè¿˜å¯ä»¥è°ƒç”¨çš„æ—¶å€™è½¬è´¦\n"),t("ul",[t("li",[e._v("å½“è°ƒç”¨ä¸å­˜åœ¨çš„åˆçº¦æ–¹æ³•æ—¶å€™ï¼Œä¼šè§¦å‘å¯¹æ–¹åˆçº¦å†…çš„ "),t("code",[e._v("fallback")]),e._v(" æˆ–è€… "),t("code",[e._v("receive")]),e._v("ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœä½¿ç”¨ "),t("code",[e._v("_to.call{value: 100}(data)")]),e._v("ï¼Œé‚£ä¹ˆ"),t("code",[e._v("data")]),e._v("ä¸­è¢«è°ƒç”¨çš„æ–¹æ³•å¿…é¡»æ·»åŠ  "),t("code",[e._v("payable")]),e._v(" ä¿®é¥°ç¬¦ï¼Œå¦åˆ™è½¬è´¦å¤±è´¥ï¼")]),e._v(" "),t("li",[e._v("å› ä¸ºå¯ä»¥è°ƒç”¨æ–¹æ³•ï¼Œæ‰€ä»¥ call æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œé™¤äº†ä¸€ä¸ª "),t("code",[e._v("bool")]),e._v(" å€¼ä»£è¡¨æˆåŠŸæˆ–è€…å¤±è´¥ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å¯èƒ½å­˜åœ¨çš„ "),t("code",[e._v("data")]),e._v("ï¼Œæ¯”å¦‚åˆ›å»ºåˆçº¦æ—¶å€™å¾—åˆ°éƒ¨ç½²çš„åœ°å€ï¼Œè°ƒç”¨å‡½æ•°æ—¶å€™å¾—åˆ°çš„å‡½æ•°æ”¾å›å€¼ã€‚")])])])])])])]),e._v(" "),t("li",[e._v("delegatecall å’Œ call çš„åŒºåˆ«\n"),t("ul",[t("li",[t("code",[e._v("delegatecall")]),e._v(" ä½¿ç”¨æ–¹æ³•å’Œ "),t("code",[e._v("call")]),e._v(" å®Œå…¨ä¸€æ ·ã€‚åŒºåˆ«åœ¨äºï¼Œ"),t("code",[e._v("delegatecall")]),e._v(" åªè°ƒç”¨ç»™å®šåœ°å€çš„ä»£ç ï¼ˆå‡½æ•°ï¼‰ï¼Œå…¶ä»–çŠ¶æ€å±æ€§å¦‚ï¼ˆå­˜å‚¨ï¼Œä½™é¢ â€¦ï¼‰éƒ½æ¥è‡ªå½“å‰åˆçº¦ã€‚"),t("code",[e._v("delegatecall")]),e._v(" çš„ç›®çš„æ˜¯ä½¿ç”¨å¦ä¸€ä¸ªåˆçº¦ä¸­çš„åº“ä»£ç ã€‚")]),e._v(" "),t("li",[e._v("å§”æ‰˜è°ƒç”¨æ˜¯ï¼š"),t("strong",[e._v("å§”æ‰˜å¯¹æ–¹è°ƒç”¨è‡ªå·±æ•°æ®çš„")]),e._v("ã€‚ç±»ä¼¼æˆæƒè½¬è´¦ï¼Œæ¯”å¦‚æˆ‘éƒ¨ç½²ä¸€ä¸ª Bank åˆçº¦ï¼Œ æˆæƒ ContractA ä½¿ç”¨ Bank åœ°å€å†…çš„èµ„é‡‘ï¼ŒContractA åªæ‹¥æœ‰æ§åˆ¶æƒï¼Œä½†æ˜¯æ²¡æœ‰æ‹¥æœ‰æƒã€‚")]),e._v(" "),t("li",[e._v("å§”æ‰˜è°ƒç”¨åï¼Œæ‰€æœ‰å˜é‡ä¿®æ”¹éƒ½æ˜¯å‘ç”Ÿåœ¨å§”æ‰˜åˆçº¦å†…éƒ¨ï¼Œå¹¶ä¸ä¼šä¿å­˜åœ¨è¢«å§”æ‰˜åˆçº¦ä¸­ã€‚\n"),t("ul",[t("li",[e._v("åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå¯ä»¥é€šè¿‡æ›´æ¢è¢«å§”æ‰˜åˆçº¦ï¼Œæ¥å‡çº§å§”æ‰˜åˆçº¦ã€‚")])])]),e._v(" "),t("li",[e._v("å§”æ‰˜è°ƒç”¨åˆçº¦å†…éƒ¨ï¼Œéœ€è¦å’Œè¢«å§”æ‰˜åˆçº¦çš„å†…éƒ¨å‚æ•°å®Œå…¨ä¸€æ ·ï¼Œå¦åˆ™å®¹æ˜“å¯¼è‡´æ•°æ®æ··ä¹±\n"),t("ul",[t("li",[e._v("å¯ä»¥é€šè¿‡é¡ºåºæ¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æ¨èå®Œå…¨ä¸€æ ·")])])])])]),e._v(" "),t("li",[e._v("èŠä¸€èŠä¸‰ç§ä½çº§ call\n"),t("ol",[t("li",[t("code",[e._v("call")]),e._v(" ï¼Œ "),t("code",[e._v("delegatecall")]),e._v(" å’Œ "),t("code",[e._v("staticcall")]),e._v(" éƒ½æ˜¯éå¸¸ä½çº§çš„å‡½æ•°ï¼Œåº”è¯¥åªæŠŠå®ƒä»¬å½“ä½œæœ€åä¸€æ‹›æ¥ä½¿ç”¨ï¼Œå®ƒä»¬ç ´åäº† Solidity çš„ç±»å‹å®‰å…¨æ€§ã€‚")]),e._v(" "),t("li",[e._v("ä¸‰ç§æ–¹æ³•éƒ½æä¾› "),t("code",[e._v("gas")]),e._v(" é€‰é¡¹ï¼Œè€Œ "),t("code",[e._v("value")]),e._v(" é€‰é¡¹ä»… "),t("code",[e._v("call")]),e._v(" æ”¯æŒ ã€‚æ‰€ä»¥ä¸‰ç§ call é‡Œåªæœ‰ "),t("code",[e._v("call")]),e._v(" å¯ä»¥è¿›è¡Œ ETH è½¬è´¦ï¼Œå…¶ä»–ä¸¤ç§ä¸å¯ä»¥è¿›è¡Œè½¬è´¦ã€‚")]),e._v(" "),t("li",[e._v("ä¸ç®¡æ˜¯è¯»å–çŠ¶æ€è¿˜æ˜¯å†™å…¥çŠ¶æ€ï¼Œæœ€å¥½é¿å…åœ¨åˆçº¦ä»£ç ä¸­ç¡¬ç¼–ç ä½¿ç”¨çš„ gas å€¼ã€‚è¿™å¯èƒ½ä¼šå¼•å…¥"),t("strong",[e._v("é”™è¯¯")]),e._v("ï¼Œè€Œä¸” gas çš„æ¶ˆè€—ä¹Ÿæ˜¯åŠ¨æ€æ”¹å˜çš„ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœåœ¨é€šè¿‡ä½çº§å‡½æ•° "),t("code",[e._v("delegatecall")]),e._v(" å‘èµ·è°ƒç”¨æ—¶éœ€è¦è®¿é—®å­˜å‚¨ä¸­çš„å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªåˆçº¦çš„å­˜å‚¨å¸ƒå±€éœ€è¦ä¸€è‡´ï¼Œä»¥ä¾¿è¢«è°ƒç”¨çš„åˆçº¦ä»£ç å¯ä»¥æ­£ç¡®åœ°é€šè¿‡å˜é‡åè®¿é—®åˆçº¦çš„å­˜å‚¨å˜é‡ã€‚ è¿™ä¸æ˜¯æŒ‡åœ¨åº“å‡½æ•°è°ƒç”¨ï¼ˆé«˜çº§çš„è°ƒç”¨æ–¹å¼ï¼‰æ—¶æ‰€ä¼ é€’çš„å­˜å‚¨å˜é‡æŒ‡é’ˆéœ€è¦æ»¡è¶³é‚£æ ·æƒ…å†µã€‚")])])]),e._v(" "),t("li",[e._v("ç¼–å†™åˆçº¦çš„æ—¶å€™ï¼Œå¦‚æœåœ°å€ä¸æ˜¯ checksum address ,è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ\n"),t("ul",[t("li",[e._v("é€šè¿‡æµè§ˆå™¨å†…è½¬")])])]),e._v(" "),t("li",[e._v("èŠä¸€ä¸‹åˆçº¦ç±»å‹\n"),t("ul",[t("li",[e._v("æ¯ä¸€ä¸ªåˆçº¦å®šä¹‰éƒ½æœ‰ä»–è‡ªå·±çš„ç±»å‹ã€‚")]),e._v(" "),t("li",[e._v("å¯ä»¥éšå¼åœ°å°†åˆçº¦è½¬æ¢ä¸ºä»ä»–ä»¬ç»§æ‰¿çš„åˆçº¦ã€‚")]),e._v(" "),t("li",[e._v("åˆçº¦å¯ä»¥æ˜¾å¼è½¬æ¢ä¸º "),t("code",[e._v("address")]),e._v(" ç±»å‹ã€‚")]),e._v(" "),t("li",[e._v("å¯ä»¥è½¬æ¢ä¸º "),t("code",[e._v("address payable")]),e._v(" ç±»å‹")]),e._v(" "),t("li",[e._v("âš ï¸ æ³¨æ„ï¼šåˆçº¦ä¸æ”¯æŒä»»ä½•è¿ç®—ç¬¦ã€‚")])])]),e._v(" "),t("li",[e._v("åˆçº¦çš„å±æ€§\n"),t("ul",[t("li",[t("code",[e._v("type(C).name")]),e._v(" "),t("ul",[t("li",[e._v("è·å¾—åˆçº¦å")])])]),e._v(" "),t("li",[t("code",[e._v("type(C).creationCode")]),e._v(" "),t("ul",[t("li",[e._v("è·å¾—åŒ…å«åˆ›å»ºåˆçº¦å­—èŠ‚ç çš„å†…å­˜å­—èŠ‚æ•°ç»„ã€‚")]),e._v(" "),t("li",[e._v("è¯¥å€¼å’Œåˆçº¦å†…ä½¿ç”¨ "),t("code",[e._v("address(this).code;")]),e._v(" ç»“æœä¸€æ ·ã€‚")]),e._v(" "),t("li",[e._v("å®ƒå¯ä»¥åœ¨å†…è”æ±‡ç¼–ä¸­æ„å»ºè‡ªå®šä¹‰åˆ›å»ºä¾‹ç¨‹ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨ "),t("code",[e._v("create2")]),e._v(" æ“ä½œç ã€‚")]),e._v(" "),t("li",[e._v("ä¸èƒ½åœ¨åˆçº¦æœ¬èº«æˆ–æ´¾ç”Ÿçš„åˆçº¦è®¿é—®æ­¤å±æ€§ã€‚ å› ä¸ºä¼šå¼•èµ·å¾ªç¯å¼•ç”¨ã€‚")])])]),e._v(" "),t("li",[t("code",[e._v("type(C).runtimeCode")]),e._v(" "),t("ul",[t("li",[e._v("è·å¾—åˆçº¦çš„è¿è¡Œæ—¶å­—èŠ‚ç çš„å†…å­˜å­—èŠ‚æ•°ç»„ã€‚è¿™æ˜¯é€šå¸¸ç”± "),t("code",[e._v("C")]),e._v(" çš„æ„é€ å‡½æ•°éƒ¨ç½²çš„ä»£ç ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœ "),t("code",[e._v("C")]),e._v(" æœ‰ä¸€ä¸ªä½¿ç”¨å†…è”æ±‡ç¼–çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆå¯èƒ½ä¸å®é™…éƒ¨ç½²çš„å­—èŠ‚ç ä¸åŒã€‚")]),e._v(" "),t("li",[e._v("è¿˜è¦æ³¨æ„åº“åœ¨éƒ¨ç½²æ—¶ä¿®æ”¹å…¶è¿è¡Œæ—¶å­—èŠ‚ç ä»¥é˜²èŒƒå®šæœŸè°ƒç”¨ï¼ˆguard against regular callsï¼‰ã€‚ ä¸ "),t("code",[e._v(".creationCode")]),e._v(" æœ‰ç›¸åŒçš„é™åˆ¶ï¼Œä¸èƒ½åœ¨åˆçº¦æœ¬èº«æˆ–æ´¾ç”Ÿçš„åˆçº¦è®¿é—®æ­¤å±æ€§ã€‚ å› ä¸ºä¼šå¼•èµ·å¾ªç¯å¼•ç”¨ã€‚")])])])])]),e._v(" "),t("li",[e._v("å¦‚ä½•è·å–åˆçº¦æœ¬èº«çš„ bytecodeï¼Ÿ\n"),t("ul",[t("li",[t("code",[e._v("type(C).creationCode")])])])])]),e._v(" "),t("p",[t("strong",[e._v("æ•°æ®ä½ç½®")])]),e._v(" "),t("ul",[t("li",[t("p",[e._v("èŠä¸€èŠ storage/memory/calldata ä¸‰ç§æ•°æ®ä½ç½®")]),e._v(" "),t("ul",[t("li",[e._v("å­˜å‚¨ storage : çŠ¶æ€å˜é‡ä¿å­˜çš„ä½ç½®ï¼Œåªè¦åˆçº¦å­˜åœ¨å°±ä¸€ç›´å­˜å‚¨ï¼")]),e._v(" "),t("li",[e._v("å†…å­˜ memory : å³æ•°æ®åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤æ•°æ®ä»…åœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…ï¼ˆå‡½æ•°è°ƒç”¨æœŸé—´ï¼‰æœ‰æ•ˆã€‚ä¸èƒ½ç”¨äºå¤–éƒ¨è°ƒç”¨ã€‚")]),e._v(" "),t("li",[e._v("è°ƒç”¨æ•°æ® calldata : ç”¨æ¥ä¿å­˜å‡½æ•°å‚æ•°çš„ç‰¹æ®Šæ•°æ®ä½ç½®ï¼Œæ˜¯ä¸€ä¸ªåªè¯»ä½ç½®ã€‚\n"),t("ul",[t("li",[e._v("è°ƒç”¨æ•°æ® calldata æ˜¯ä¸å¯ä¿®æ”¹çš„ã€éæŒä¹…çš„å‡½æ•°å‚æ•°å­˜å‚¨åŒºåŸŸï¼Œæ•ˆæœå¤§å¤šç±»ä¼¼ å†…å­˜ memory ã€‚")]),e._v(" "),t("li",[e._v("ä¸»è¦ç”¨äºå¤–éƒ¨å‡½æ•°çš„å‚æ•°ï¼Œä½†ä¹Ÿå¯ç”¨äºå…¶ä»–å˜é‡ï¼Œæ— è®ºå¤–éƒ¨å†…éƒ¨å‡½æ•°éƒ½å¯ä»¥ä½¿ç”¨ã€‚")])])]),e._v(" "),t("li",[e._v("æ ¸å¿ƒï¼šæ›´æ”¹æ•°æ®ä½ç½®æˆ–ç±»å‹è½¬æ¢å°†å§‹ç»ˆäº§ç”Ÿè‡ªåŠ¨è¿›è¡Œä¸€ä»½æ‹·è´ï¼Œè€Œåœ¨åŒä¸€æ•°æ®ä½ç½®å†…ï¼ˆå¯¹äº å­˜å‚¨ storage æ¥è¯´ï¼‰çš„å¤åˆ¶ä»…åœ¨æŸäº›æƒ…å†µä¸‹è¿›è¡Œæ‹·è´ã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("ä¸‰ç§æ•°æ®ä½ç½®ç›¸äº’èµ‹å€¼ï¼Œä»¥åŠç›¸åŒæ•°æ®ä½ç½®ä¹‹é—´èµ‹å€¼éƒ½æ˜¯æ‹·è´ä¹ˆï¼Ÿè¯¦ç»†ä»‹ç»ä¸€ä¸‹ã€‚")]),e._v(" "),t("ol",[t("li",[e._v("å°† "),t("strong",{staticStyle:{color:"blue"}},[e._v("å­˜å‚¨å˜é‡")]),e._v(" èµ‹å€¼ç»™ "),t("strong",[e._v("å­˜å‚¨å˜é‡")]),e._v(" (åŒç±»å‹)\n"),t("ul",[t("li",[t("code",[e._v("å€¼ ç±» å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[t("code",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")])])]),e._v(" "),t("li",[e._v("å°† "),t("strong",{staticStyle:{color:"red"}},[e._v("å†…å­˜å˜é‡")]),e._v(" èµ‹å€¼ç»™ "),t("strong",[e._v("å­˜å‚¨å˜é‡")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("å€¼ ç±» å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[t("code",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")])])]),e._v(" "),t("li",[e._v("å°† "),t("strong",{staticStyle:{color:"blue"}},[e._v("å­˜å‚¨å˜é‡")]),e._v(" èµ‹å€¼ç»™ å†…å­˜å˜é‡\n"),t("ul",[t("li",[t("code",[e._v("å€¼ ç±» å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[t("code",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")])])]),e._v(" "),t("li",[e._v("å°† "),t("strong",{staticStyle:{color:"red"}},[e._v("å†…å­˜å˜é‡")]),e._v(" èµ‹å€¼ç»™ å†…å­˜å˜é‡ (åŒç±»å‹)\n"),t("ul",[t("li",[t("code",[e._v("å€¼ ç±» å‹")]),e._v(": åˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[t("code",[e._v("å¼•ç”¨ç±»å‹")]),e._v(": ä¸ä¼šåˆ›å»ºå‰¯æœ¬ã€‚("),t("strong",[e._v("é‡è¦")]),e._v(")")])])])])]),e._v(" "),t("li",[t("p",[e._v("memory å’Œ calldata ä¹‹é—´çš„åŒºåˆ«")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("å‡½æ•°è°ƒç”¨å‡½æ•°æ—¶çš„åŒºåˆ«")]),e._v(":"),t("code",[e._v("calldataå¯ä»¥éšå¼è½¬æ¢ä¸ºmemory")])]),e._v(" "),t("li",[e._v("calldata å¯ä»¥éšå¼è½¬æ¢ä¸º memory")]),e._v(" "),t("li",[e._v("memory ä¸å¯ä»¥éšå¼è½¬æ¢ä¸º calldata")]),e._v(" "),t("li",[e._v("ä½œä¸ºå‚æ•°ï¼š\n"),t("ul",[t("li",[e._v("memory å¯ä»¥ä¿®æ”¹å‚æ•°")]),e._v(" "),t("li",[e._v("calldata ç¦æ­¢ä¿®æ”¹å‚æ•°")])])])])])]),e._v(" "),t("p",[t("strong",[e._v("array")])]),e._v(" "),t("ul",[t("li",[t("p",[e._v("åˆ›å»ºæ•°ç»„çš„æ–¹æ³•æœ‰å“ªäº›ã€‚ï¼ˆå®šé•¿æ•°ç»„ï¼ŒåŠ¨æ€æ•°ç»„ï¼‰")]),e._v(" "),t("ul",[t("li",[e._v("å›ºå®šé•¿åº¦æ•°ç»„:åˆ›å»º"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("uint256[5] public T1 = [1, 2, 3, 4, 5];\naddress[5] public A =   [0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ac];\nbytes1[5] public B = [bytes1(0x61)];\n")])])])]),e._v(" "),t("li",[e._v("å¯å˜é•¿åº¦æ•°ç»„:åˆ›å»º\n"),t("ul",[t("li",[e._v("æ–¹å¼ 1: "),t("code",[e._v("uint256[] T1 = [1, 2, 3, 4, 5];")]),e._v(" "),t("ul",[t("li",[e._v("è¯¥æ–¹å¼ä¸å¯ä»¥åœ¨å‡½æ•°å†…åˆ›å»º")])])]),e._v(" "),t("li",[e._v("æ–¹å¼ 2: "),t("code",[e._v("uint256[] T2 = new uint256[](5);")]),e._v(" "),t("ul",[t("li",[e._v("ç”¨æ–¹å¼ 2 åˆ›å»ºæ•°ç»„æ—¶ï¼Œè‹¥æ•°ç»„ä¸ºæˆå‘˜å˜é‡, åˆ™é»˜è®¤ä¸º storage ç±»å‹ï¼›")]),e._v(" "),t("li",[e._v("è‹¥ä¸ºå±€éƒ¨å˜é‡é»˜è®¤ä¸º "),t("code",[e._v("memory")]),e._v(" ç±»å‹ï¼Œ"),t("code",[e._v("memory")]),e._v(" ç±»å‹çš„æ•°ç»„ï¼Œå¿…é¡»å£°æ˜é•¿åº¦ï¼Œå¹¶ä¸”é•¿åº¦åˆ›å»ºåä¸å¯å˜ã€‚")]),e._v(" "),t("li",[t("code",[e._v("push")]),e._v(" æ–¹æ³•ä¸èƒ½ç”¨åœ¨ "),t("code",[e._v("memeory")]),e._v(" çš„æ•°ç»„ä¸Š,åªèƒ½é€ä¸ªç´¢å¼•çš„èµ‹å€¼ã€‚")])])])])]),e._v(" "),t("li",[e._v("äºŒç»´æ•°ç»„:åˆ›å»º\n"),t("ul",[t("li",[e._v("ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªé•¿åº¦ä¸º "),t("code",[e._v("5")]),e._v("ï¼Œå…ƒç´ ç±»å‹ä¸º uint çš„åŠ¨æ€æ•°ç»„çš„æ•°ç»„ï¼ˆäºŒç»´æ•°ç»„ï¼‰ï¼Œåº”å£°æ˜ä¸º "),t("code",[e._v("uint[][5]")]),e._v(" ï¼ˆæ³¨æ„è¿™é‡Œè·Ÿå…¶å®ƒè¯­è¨€æ¯”ï¼Œæ•°ç»„é•¿åº¦çš„å£°æ˜ä½ç½®æ˜¯åçš„ï¼‰ã€‚åœ¨ Solidity ä¸­ï¼Œ "),t("code",[e._v("X[3]")]),e._v(" æ€»æ˜¯ä¸€ä¸ªåŒ…å«ä¸‰ä¸ª X ç±»å‹å…ƒç´ çš„æ•°ç»„ï¼Œå³ä½¿ X æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ•°ç»„.")]),e._v(" "),t("li",[t("code",[e._v("uint256[2][3] public T = [[1, 2], [3, 4], [5, 6]];")])]),e._v(" "),t("li",[t("code",[e._v("T.length")]),e._v(" ä¸º 3")])])]),e._v(" "),t("li",[e._v("å…¶å®ƒ\n"),t("ul",[t("li",[t("code",[e._v("uint256[2][] public T = new uint256[2][](10);")])])])])])]),e._v(" "),t("li",[t("p",[e._v("å†…å­˜ä¸­å¦‚ä½•åˆ›å»ºæ•°ç»„")]),e._v(" "),t("ul",[t("li",[e._v("å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("new")]),e._v(" å…³é”®å­—åœ¨å†…å­˜ä¸­åˆ›å»ºåŠ¨æ€æ•°ç»„ã€‚ä¸å­˜å‚¨æ•°ç»„ç›¸åï¼Œä¸èƒ½é€šè¿‡è®¾ç½® "),t("code",[e._v(".length")]),e._v(" æˆå‘˜æ¥è°ƒæ•´å†…å­˜åŠ¨æ€æ•°ç»„çš„é•¿åº¦ã€‚ ("),t("strong",[e._v("éœ€è¦ä¾‹å­æ¥æ¼”ç¤º")]),e._v(")ã€‚memory ç±»å‹çš„æ•°ç»„é•¿åº¦åˆ›å»ºåä¸å¯å˜ï¼Œä¸èƒ½é€šè¿‡ä¿®æ”¹æˆå‘˜å˜é‡ "),t("code",[e._v(".push")]),e._v(" æ”¹å˜ memory æ•°ç»„çš„å¤§å°ã€‚å¿…é¡»æå‰è®¡ç®—æ•°ç»„å¤§å°ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°çš„å†…å­˜æ•°ç»„å¹¶å¤åˆ¶æ¯ä¸ªå…ƒç´ ã€‚")]),e._v(" "),t("li",[e._v("åˆ›å»ºæ ¼å¼: "),t("code",[e._v("uint256[] memory a = new uint256[](5);")])]),e._v(" "),t("li",[e._v("å†…å­˜ä¸­åˆ›å»ºçš„æ•°ç»„æ˜¯å±€éƒ¨å˜é‡ã€‚")]),e._v(" "),t("li",[e._v("å†…å­˜ä¸­ä¸èƒ½åˆ›å»ºåŠ¨æ€æ•°ç»„ï¼Œå¿…é¡»åˆ›å»ºå®šé•¿æ•°ç»„ã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("ä¸‹é¢ä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œä¹ˆï¼Ÿå¦‚æœå¯ä»¥ï¼Œå€¼åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("ç›®å‰éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ"),t("strong",[e._v("å®šé•¿çš„ memory æ•°ç»„å¹¶ä¸èƒ½èµ‹å€¼ç»™å˜é•¿çš„ memory æ•°ç»„")]),e._v("ï¼Œä¸‹é¢çš„ä¾‹å­ f å‡½æ•°æ˜¯æ— æ³•è¿è¡Œçš„ï¼š")]),e._v(" "),t("li",[e._v("å¼•å‘äº†ä¸€ä¸ªç±»å‹é”™è¯¯ï¼Œå› ä¸º "),t("code",[e._v("unint[3] memory")]),e._v("ï¼Œä¸èƒ½è½¬æ¢æˆ "),t("code",[e._v("uint[] memory")]),e._v("ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract Demo {\n    uint256[] public x = [1, 3, 4];\n    uint256[] public y = [uint256(1), 3, 4];\n    uint256[] public z = [uint8(1), 3, 4];\n\n    function f() public pure returns(uint256[] memory x){\n        x = [uint256(1), 3, 4];\n    }\n}\n")])])])]),e._v(" "),t("li",[t("p",[e._v("ä¸‹é¢ä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œä¹ˆï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("ä¸å¯ä»¥ï¼Œéœ€è¦"),t("code",[e._v("s([uint256(1), uint256(2)])")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("contract T {\n    function t() public {\n        s([1, 2]);\n    }\n\n    function s(uint256[2] memory _arr) public {}\n}\n")])])])]),e._v(" "),t("li",[t("p",[e._v("æœ‰å“ªäº›å¯ä»¥æ“ä½œæ•°ç»„çš„æ–¹æ³•ï¼Œåˆ†åˆ«åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ("),t("code",[e._v("push")]),e._v(" / "),t("code",[e._v("pop")]),e._v(" / "),t("code",[e._v("delete")]),e._v("/"),t("code",[e._v("x[start:end]")]),e._v(")")]),e._v(" "),t("ul",[t("li",[e._v("push å¢åŠ ï¼Œæ”¹å˜é•¿åº¦")]),e._v(" "),t("li",[e._v("pop åˆ é™¤æœ€åä¸€ä½ï¼Œæ”¹å˜é•¿åº¦")]),e._v(" "),t("li",[e._v("delete: åˆ é™¤å¯¹åº”çš„ç´¢å¼•ï¼›åˆ é™¤å¹¶ä¸ä¼šæ”¹å˜é•¿åº¦ï¼Œç´¢å¼•ä½ç½®çš„å€¼ä¼šæ”¹ä¸ºé»˜è®¤å€¼ã€‚")]),e._v(" "),t("li",[t("code",[e._v("x[start:end]")]),e._v(": æ•°ç»„åˆ‡ç‰‡ï¼Œä»…å¯ä½¿ç”¨äº "),t("code",[e._v("calldata")]),e._v(" æ•°ç»„.")])])]),e._v(" "),t("li",[t("p",[e._v("èƒ½å¦å®ç°ä¸€ä¸ªå®Œå…¨ delete æ•°ç»„çš„æ–¹æ³•ï¼ˆåˆ é™¤æ•°æ®ï¼Œé•¿åº¦æ”¹å˜ï¼‰ï¼Œè¯´ä¸‹å®ç°é€»è¾‘ä¹Ÿå¯ä»¥ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\ncontract FunctionOutputs {\n    function deletePro(uint256[] memory arr, uint256 _index)\n        internal\n        pure\n        returns (uint256[] memory temp)\n    {\n        require(_index < arr.length, "index out of bound");\n        temp = new uint256[](arr.length - 1);\n        for (uint256 index = 0; index <= temp.length - 1; index++) {\n            if (index >= _index) {\n                temp[_index] = arr[_index + 1];\n            } else {\n                temp[index] = arr[index];\n            }\n        }\n    }\n\n    function test()\n        external\n        pure\n        returns (uint256[] memory arr, uint256[] memory temp)\n    {\n        arr = new uint256[](3);\n        arr[0] = 1;\n        arr[1] = 2;\n        arr[2] = 3;\n        assert(arr[0] == 1);\n        assert(arr[1] == 2);\n        assert(arr[2] == 3);\n        assert(arr.length == 3);\n\n        temp = deletePro(arr, 1);\n        assert(temp[0] == 1);\n        assert(temp[1] == 3);\n        assert(temp.length == 2);\n    }\n}\n')])])])])]),e._v(" "),t("p",[t("strong",[e._v("bytes")])]),e._v(" "),t("ul",[t("li",[e._v("bytes çš„åˆ›å»ºæ–¹æ³•æœ‰å“ªäº›ï¼Ÿ\n"),t("ul",[t("li",[e._v("çŠ¶æ€å˜é‡çš„åˆ›å»ºæ–¹å¼"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('bytes public welcome = bytes("1.Welcome");\n')])])])]),e._v(" "),t("li",[e._v("å‡½æ•°ä¸­å¯å˜å­—èŠ‚æ•°ç»„åˆ›å»ºæ–¹å¼ï¼š"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// å¯å˜å­—èŠ‚æ•°ç»„åˆ›å»ºæ–¹å¼\nbytes memory temp2 = new bytes(length);\n")])])])])])]),e._v(" "),t("li",[t("code",[e._v("bytes")]),e._v(" "),t("code",[e._v("bytes32")]),e._v(" ,å’Œ "),t("code",[e._v("bytes32[]")]),e._v(" åŒºåˆ« æ˜¯ä»€ä¹ˆï¼Ÿ\n"),t("ul",[t("li",[t("code",[e._v("abcBytes")]),e._v(" çš„å€¼æ˜¯: "),t("code",[e._v("0x616263")]),e._v(";")]),e._v(" "),t("li",[t("code",[e._v("abcArray")]),e._v(" çš„å€¼æ˜¯ï¼š"),t("code",[e._v("[0x61..00,0x62..00,0x63..00]")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('  bytes32[] public abcArray = [bytes1("a"), bytes1("b"), bytes1("c")];\n  // 0x616263\n  bytes public abcBytes = bytes("abc");\n')])])])]),e._v(" "),t("li",[e._v("ä¸‹é¢çš„å€¼åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('bytes32[] public abcArray = [bytes1("a"), bytes1("b"), bytes1("c")];\nbytes public abcBytes = bytes("abc");\n')])])])]),e._v(" "),t("li",[e._v("bytes çš„å€¼å¦‚ä½•ä¿®æ”¹ï¼Ÿï¼ˆ"),t("code",[e._v("bytesVar[7] = 'x'")]),e._v("ï¼‰")]),e._v(" "),t("li",[e._v("æœ‰å“ªäº›æ–¹æ³•å¯ä»¥æ“ä½œ "),t("code",[e._v("bytes")]),e._v(" ç±»å‹æ•°æ®ï¼Ÿåˆ†åˆ«æ˜¯ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ\n"),t("ul",[t("li",[t("code",[e._v("concat")]),e._v("/ "),t("code",[e._v("push")]),e._v(" / "),t("code",[e._v("x[start:end]")]),e._v(" / "),t("code",[e._v("delete")]),e._v(" / "),t("code",[e._v("bytes()")])])])]),e._v(" "),t("li",[t("code",[e._v("bytes")]),e._v(" å’Œ "),t("code",[e._v("string")]),e._v(" ä¹‹é—´å¦‚ä½•è½¬æ¢ï¼Ÿ\n"),t("ul",[t("li",[e._v("å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("bytes()")]),e._v(" æ„é€ å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º "),t("code",[e._v("bytes")]),e._v("ã€‚")]),e._v(" "),t("li",[e._v("å¯ä»¥ä½¿ç”¨ string() æ„é€ å‡½æ•°å°† bytes è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚")])])]),e._v(" "),t("li",[e._v("å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ª bytes æ•°æ®æ˜¯å¦ç›¸åŒï¼Ÿ\n"),t("ul",[t("li",[t("code",[e._v("keccak256(welcome2) == keccak256(welcome1);")])])])])]),e._v(" "),t("p",[t("strong",[e._v("string")])]),e._v(" "),t("ul",[t("li",[e._v("å¦‚ä½•ä¿®æ”¹ string ç±»å‹çš„å­—ç¬¦ä¸²ï¼Ÿ\n"),t("ul",[t("li",[e._v("è·å–å­—ç¬¦ä¸²çš„é•¿åº¦\n"),t("ul",[t("li",[t("code",[e._v("bytes(str).length")]),e._v(":ä»¥å­—èŠ‚é•¿åº¦è¡¨ç¤ºå­—ç¬¦ä¸²çš„é•¿åº¦")])])]),e._v(" "),t("li",[e._v("æŸä¸ªå­—ç¬¦ä¸²ç´¢å¼•çš„å­—èŠ‚ç \n"),t("ul",[t("li",[t("code",[e._v("bytes1 temp1 = bytes(str)[_index];")]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function getIndexValue(uint256 _index) public view return(string memory) {\n    bytes1 temp1 = bytes(welcome)[_index]; // è¿”å›å›ºå®šé•¿åº¦çš„ bytes1\n    bytes memory temp2 = new bytes(1); // å¯å˜å­—èŠ‚æ•°ç»„åˆ›å»ºæ–¹å¼\n    temp2[0] = temp1;\n    return string(temp2);\n}\n")])])])])])]),e._v(" "),t("li",[e._v("ä¿®æ”¹å­—ç¬¦ä¸²\n"),t("ul",[t("li",[t("code",[e._v("bytes(s)[7] = 'x'")])])])])])]),e._v(" "),t("li",[e._v("å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ª string ç±»å‹çš„å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Ÿ\n"),t("ul",[t("li",[t("code",[e._v("keccak256(abi.encodePacked(s1)) == keccak256(abi.encodePacked(s2))")])]),e._v(" "),t("li",[t("code",[e._v("keccak256(bytes(s1)) == keccak256(bytes(s2))")]),e._v(" : æ›´æ¨èè¿™ä¸ªï¼Œçœ gas")])])])]),e._v(" "),t("p",[t("strong",[e._v("mapping")])]),e._v(" "),t("ul",[t("li",[t("p",[e._v("mapping ä½¿ç”¨çš„æ—¶å€™æœ‰å“ªäº›éœ€è¦æ³¨æ„çš„ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("_KeyType")]),e._v("ï¼šå¯ä»¥æ˜¯ä»»ä½•å†…ç½®ç±»å‹ï¼Œæˆ–è€… bytes å’Œ å­—ç¬¦ä¸²ã€‚\n"),t("ul",[t("li",[e._v("ä¸å…è®¸ä½¿ç”¨å¼•ç”¨ç±»å‹æˆ–å¤æ‚å¯¹è±¡")]),e._v(" "),t("li",[e._v("é”®æ˜¯å”¯ä¸€çš„ï¼Œå…¶èµ‹å€¼æ–¹å¼ä¸ºï¼š"),t("code",[e._v("map[a]=test")]),e._v("; æ„æ€æ˜¯é”®ä¸º a,å€¼ä¸º testï¼›ã€‚")])])]),e._v(" "),t("li",[t("code",[e._v("_ValueType")]),e._v("ï¼š å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ã€‚")]),e._v(" "),t("li",[e._v("mapping æ”¯æŒåµŒå¥—ã€‚")]),e._v(" "),t("li",[e._v("æ˜ å°„çš„æ•°æ®ä½ç½®(data location)åªèƒ½æ˜¯ "),t("code",[e._v("storage")]),e._v("ï¼Œé€šå¸¸ç”¨äºçŠ¶æ€å˜é‡ã€‚")]),e._v(" "),t("li",[t("code",[e._v("mapping")]),e._v(" ä¸èƒ½ç”¨äº "),t("code",[e._v("public")]),e._v(" å‡½æ•°çš„å‚æ•°æˆ–è¿”å›ç»“æœ\n"),t("ul",[t("li",[e._v("æ˜ å°„åªèƒ½æ˜¯ å­˜å‚¨ storage çš„æ•°æ®ä½ç½®ï¼Œå› æ­¤åªå…è®¸ä½œä¸ºçŠ¶æ€å˜é‡ æˆ– ä½œä¸ºå‡½æ•°å†…çš„ å­˜å‚¨ storage å¼•ç”¨ æˆ– ä½œä¸ºåº“å‡½æ•°çš„å‚æ•°ã€‚ å®ƒä»¬ä¸èƒ½ç”¨åˆçº¦å…¬æœ‰å‡½æ•°çš„å‚æ•°æˆ–è¿”å›å€¼ã€‚")]),e._v(" "),t("li",[e._v("è¿™äº›é™åˆ¶åŒæ ·é€‚ç”¨äºåŒ…å«æ˜ å°„çš„æ•°ç»„å’Œç»“æ„ä½“ã€‚")])])]),e._v(" "),t("li",[e._v("æ˜ å°„å¯ä»¥æ ‡è®°ä¸º "),t("code",[e._v("public")]),e._v("ï¼ŒSolidity è‡ªåŠ¨ä¸ºå®ƒåˆ›å»º getter å‡½æ•°ã€‚\n"),t("ul",[t("li",[t("code",[e._v("_KeyType")]),e._v(" å°†æˆä¸º "),t("code",[e._v("getter")]),e._v(" çš„å¿…é¡»å‚æ•°ï¼Œå¹¶ä¸” getter ä¼šè¿”å› "),t("code",[e._v("_ValueType")]),e._v("ã€‚")]),e._v(" "),t("li",[e._v("å¦‚æœ "),t("code",[e._v("ValueType")]),e._v(" æ˜¯ä¸€ä¸ªæ˜ å°„ã€‚è¿™æ—¶åœ¨ä½¿ç”¨ "),t("code",[e._v("getter")]),e._v(" æ—¶å°†éœ€è¦é€’å½’åœ°ä¼ å…¥æ¯ä¸ª "),t("code",[e._v("KeyType")]),e._v(" å‚æ•°ï¼Œ")])])]),e._v(" "),t("li",[e._v("æ˜ å°„ä¸å“ˆå¸Œè¡¨ä¸åŒçš„åœ°æ–¹ï¼š"),t("strong",[e._v("åœ¨æ˜ å°„ä¸­,å¹¶ä¸å­˜å‚¨ keyï¼Œè€Œæ˜¯å­˜å‚¨å®ƒçš„ "),t("code",[e._v("keccak256")]),e._v(" å“ˆå¸Œå€¼ï¼Œä»è€Œä¾¿äºæŸ¥è¯¢å®é™…çš„å€¼")]),e._v("ã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œæ˜ å°„æ˜¯æ²¡æœ‰é•¿åº¦çš„ï¼Œä¹Ÿæ²¡æœ‰ "),t("code",[e._v("key çš„é›†åˆ")]),e._v("æˆ– "),t("code",[e._v("value çš„é›†åˆ")]),e._v("çš„æ¦‚å¿µã€‚æ˜ å°„åªèƒ½æ˜¯å­˜å‚¨çš„æ•°æ®ä½ç½®ï¼Œå› æ­¤åªå…è®¸ä½œä¸ºçŠ¶æ€å˜é‡æˆ–ä½œä¸ºå‡½æ•°å†…çš„å­˜å‚¨å¼•ç”¨ æˆ– ä½œä¸ºåº“å‡½æ•°çš„å‚æ•°ã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("mapping å¦‚ä½•è·å–-è®¾ç½®-åˆ é™¤ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("balances[msg.sender];")])]),e._v(" "),t("li",[t("code",[e._v("balances[msg.sender] += amount;")])]),e._v(" "),t("li",[t("code",[e._v("delete balances[msg.sender];")])])])]),e._v(" "),t("li",[t("p",[e._v("mapping æ€ä¹ˆåšå±€éƒ¨å˜é‡ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("mapping")]),e._v(" ç±»å‹å¯ä»¥ç”¨åšå±€éƒ¨å˜é‡ï¼Œä½†åªèƒ½å¼•ç”¨çŠ¶æ€å˜é‡ï¼Œè€Œä¸”å­˜å‚¨ä½ç½®ä¸º storageã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("contract Mapping {\n  mapping(address => uint256) public balances;\n\n  function updateBalance() public returns (uint256) {\n      // mapping å±€éƒ¨å˜é‡ ref å¼•ç”¨çŠ¶æ€å˜é‡ balances\n      mapping(address => uint256) storage ref = balances;\n      ref[msg.sender] = 3;\n      return ref[msg.sender];\n  }\n}\n")])])])]),e._v(" "),t("li",[t("p",[e._v("å¦‚ä½•å®ç°ä¸€ä¸ªå¯è¿­ä»£çš„ mappingï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("ï¼ˆMapping+arrayï¼‰")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('contract Mapping {\n  mapping(address => uint256) public balances;\n  mapping(address => bool) public balancesInserted;\n  address[] public balancesKey;\n\n  function set(address _ads, uint256 amount) external {\n      balances[_ads] = amount;\n      if (!balancesInserted[_ads]) {\n          balancesInserted[_ads] = true;\n          balancesKey.push(_ads);\n      }\n  }\n\n  function totalAddress() external view returns (uint256) {\n      return balancesKey.length;\n  }\n\n  function first() external view returns (uint256) {\n      return balances[balancesKey[0]];\n  }\n\n  function latest() external view returns (uint256) {\n      return balances[balancesKey[balancesKey.length - 1]];\n  }\n\n  function get(uint256 i) external view returns (uint256) {\n      require(i < balancesKey.length, "length error");\n      return balances[balancesKey[i]];\n  }\n}\n')])])])])]),e._v(" "),t("p",[t("strong",[e._v("struct")])]),e._v(" "),t("ul",[t("li",[t("p",[e._v("struct ä½¿ç”¨çš„æ—¶å€™æœ‰å“ªäº›éœ€è¦æ³¨æ„çš„ï¼Ÿ")])]),e._v(" "),t("li",[t("p",[e._v("struct çš„åˆ›å»ºæ–¹æ³•æœ‰å“ªäº›ï¼Ÿ(3 ç§)")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// ç¬¬ 1 ç§ç”Ÿæˆ\nBook memory solidity = Book("Solidity", "LiSi", ++bookId, false, 0);\n\n// ç¬¬ 2 ç§ç”Ÿæˆ\nBook memory rust = Book({\n    title: "Solidity",\n    author: "LiSi",\n    book_id: ++bookId,\n    is_lost: false,\n    uv: 0\n});\n\n// ç¬¬ 3 ç§ç”Ÿæˆ\nBook memory temp;\ntemp.title = "Solidity";\ntemp.author = "LiSi";\ntemp.book_id = ++bookId;\n')])])])]),e._v(" "),t("li",[t("p",[e._v("struct å¦‚ä½•è·å–-è®¾ç½®-åˆ é™¤ï¼Ÿ")]),e._v(" "),t("ol",[t("li",[e._v("å‡½æ•°å†…ä»…è¯»å–ç»“æ„ä½“ï¼Œå˜é‡ä½¿ç”¨ memory: "),t("code",[e._v("Book memory _book = bookcase[_index];")]),e._v(" "),t("ol",[t("li",[e._v("å‡½æ•°å†…è¯»å–å¹¶è¿”å›,å¦‚æœä½¿ç”¨ memory å˜é‡æ¥æ”¶:ä»çŠ¶æ€å˜é‡æ‹·è´åˆ°å†…å­˜ä¸­ï¼Œç„¶åå†…å­˜ä¸­çš„å˜é‡æ‹·è´åˆ°è¿”å›å€¼ã€‚ä¸¤æ¬¡æ‹·è´ï¼Œæ¶ˆè€— gas å¤š\n"),t("ol",[t("li",[t("code",[e._v("Todo memory temp = list[_index];")])])])]),e._v(" "),t("li",[e._v("å‡½æ•°å†…è¯»å–å¹¶è¿”å›,å¦‚æœä½¿ç”¨ storage å˜é‡æ¥æ”¶:ç›´æ¥ä»çŠ¶æ€å˜é‡è¯»å–ï¼ŒçŠ¶æ€å˜é‡æ‹·è´åˆ°è¿”å›å€¼ã€‚1 æ¬¡æ‹·è´ï¼Œæ¶ˆè€— gas å°")]),e._v(" "),t("li",[e._v("æ€»ç»“: è¯»å–æ—¶å€™æ¨èä½¿ç”¨ "),t("code",[e._v("storage")])])])]),e._v(" "),t("li",[e._v("å‡½æ•°å†…è·å–å¹¶ä¿®æ”¹ç»“æ„ä½“ï¼Œå˜é‡ä½¿ç”¨ storage"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('Book storage _book = bookcase[_index]; // å› ä¸ºè¦ä¿®æ”¹çŠ¶æ€å˜é‡ï¼Œæ‰€ä»¥ä½¿ç”¨ storage\n_book.author = "Anbang";\n')])])]),t("ul",[t("li",[e._v("å‡½æ•°å†…ç›´æ¥ä¿®æ”¹å˜é‡;åœ¨ä¿®æ”¹ä¸€ä¸ªå±æ€§æ—¶æ¯”è¾ƒçœ Gas è´¹ç”¨")]),e._v(" "),t("li",[e._v("å‡½æ•°å†…å…ˆè·å–å­˜å‚¨åˆ° storage å†ä¿®æ”¹:ä¿®æ”¹å¤šä¸ªå±æ€§çš„æ—¶å€™æ¯”è¾ƒçœ Gas è´¹ç”¨")])])]),e._v(" "),t("li",[e._v("åˆ é™¤ç»“æ„ä½“çš„å˜é‡ï¼Œä»…ä»…æ˜¯é‡ç½®æ•°æ®ï¼Œå¹¶ä¸æ˜¯å®Œå…¨çš„åˆ é™¤ã€‚")])])]),e._v(" "),t("li",[t("p",[e._v("å‡½æ•°å†…ä½¿ç”¨ structï¼Œæ ‡è®° "),t("code",[e._v("memory")]),e._v(" / "),t("code",[e._v("storage")]),e._v(" æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("å‡½æ•°å†…è¯»å–æ—¶ï¼Œæ ‡è®° "),t("code",[e._v("memory")]),e._v(" / "),t("code",[e._v("storage")]),e._v(",ä¼šäº§ç”Ÿå®Œå…¨ä¸åŒçš„ç»“æœï¼›")]),e._v(" "),t("li",[e._v("ç‰¹åˆ«æ³¨æ„ï¼š"),t("strong",[e._v("å¦‚æœç»“æ„ä½“å†…åŒ…å« "),t("code",[e._v("mapping")]),e._v(" ç±»å‹ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ "),t("code",[e._v("storage")]),e._v("ï¼Œä¸å¯ä»¥ä½¿ç”¨ memeory.")]),e._v("ï¼Œ")])])]),e._v(" "),t("li",[t("p",[e._v("èŠä¸€ä¸‹ä¼—ç­¹åˆçº¦çš„å®ç°é€»è¾‘")])])]),e._v(" "),t("p",[t("strong",[e._v("ç±»å‹è½¬æ¢")])]),e._v(" "),t("ul",[t("li",[e._v("éšå¼è½¬æ¢çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ\n"),t("ul",[t("li",[e._v("éšå¼è½¬æ¢çš„åœºæ™¯: åœ¨èµ‹å€¼, å‚æ•°ä¼ é€’ç»™å‡½æ•°ä»¥åŠåº”ç”¨è¿ç®—ç¬¦æ—¶ã€‚")]),e._v(" "),t("li",[e._v("éšå¼è½¬æ¢çš„åœºæ™¯:\n"),t("ul",[t("li",[e._v("å¯ä»¥è¿›è¡Œå€¼ç±»å‹ä¹‹é—´çš„éšå¼è½¬æ¢")]),e._v(" "),t("li",[e._v("ä¸ä¼šä¸¢å¤±ä»»ä½•ä¿¡æ¯")])])]),e._v(" "),t("li",[e._v("ä¾‹å¦‚ï¼Œ"),t("code",[e._v("uint8")]),e._v(" å¯ä»¥è½¬æ¢ä¸º "),t("code",[e._v("uint16")]),e._v("/"),t("code",[e._v("uint24")]),e._v("../"),t("code",[e._v("uint256")]),e._v("ï¼Œå› ä¸º"),t("code",[e._v("uint8")]),e._v("æ˜¯"),t("code",[e._v("uint16")]),e._v("è¿™äº›ç±»å‹çš„å­é›†ã€‚ä½†æ˜¯ "),t("code",[e._v("int8")]),e._v(" ä¸å¯ä»¥è½¬æ¢ä¸º "),t("code",[e._v("uint256")]),e._v("ï¼Œå› ä¸º "),t("code",[e._v("int8")]),e._v(" å¯ä»¥åŒ…å« "),t("code",[e._v("uint256")]),e._v(" ä¸­ä¸å…è®¸çš„è´Ÿå€¼ï¼Œæ¯”å¦‚ "),t("code",[e._v("-1")]),e._v("ã€‚")])])]),e._v(" "),t("li",[e._v("æ˜¾ç¤ºè½¬æ¢æœ‰å“ªäº›éœ€è¦æ³¨æ„çš„ï¼Ÿ\n"),t("ul",[t("li",[t("code",[e._v("uint8")]),e._v(" - "),t("code",[e._v("uint256")]),e._v(" ä¹‹é—´è½¬æ¢çš„åŸç†")]),e._v(" "),t("li",[t("code",[e._v("bytes1")]),e._v(" - "),t("code",[e._v("bytes32")]),e._v(" ä¹‹é—´è½¬æ¢çš„åŸç†")]),e._v(" "),t("li",[e._v("æ•´å‹åŠ å¤§æ•°æ®ä½ç½®æ˜¯ä»å·¦ä¾§å¢åŠ ï¼Œå‡å°æ•°æ®ä½ç½®ä¹Ÿæ˜¯ä»å·¦ä¾§ç§»é™¤ï¼›ï¼ˆæ•´å‹æ˜¯å³å¯¹é½ï¼‰")]),e._v(" "),t("li",[e._v("å­—èŠ‚åŠ å¤§æ•°æ®ä½ç½®æ˜¯ä»å³ä¾§å¢åŠ ï¼Œå‡å°æ•°æ®ä½ç½®ä¹Ÿæ˜¯ä»å³ä¾§ç§»é™¤ï¼›ï¼ˆå­—èŠ‚æ˜¯å·¦å¯¹é½ï¼‰")])])]),e._v(" "),t("li",[e._v("èŠä¸€èŠ int/uint ç±»å‹ä¹‹é—´çš„è½¬æ¢\n"),t("ul",[t("li",[e._v("å› ä¸ºæ•´å‹åŠ å¤§æ•°æ®ä½ç½®æ˜¯ä»å·¦ä¾§å¢åŠ ï¼Œå‡å°æ•°æ®ä½ç½®ä¹Ÿæ˜¯ä»å·¦ä¾§ç§»é™¤ï¼›ï¼ˆ"),t("strong",[e._v("æ•´å‹æ˜¯å³å¯¹é½")]),e._v("ï¼‰")]),e._v(" "),t("li",[e._v("æ•´å‹è½¬æ¢æˆæ›´å¤§çš„ç±»å‹ï¼Œä»å·¦ä¾§æ·»åŠ å¡«å……ä½ã€‚")]),e._v(" "),t("li",[e._v("æ•´å‹è½¬æ¢æˆæ›´å°çš„ç±»å‹ï¼Œä¼šä¸¢å¤±å·¦ä¾§æ•°æ®ã€‚")])])]),e._v(" "),t("li",[e._v("èŠä¸€èŠ bytes å­—èŠ‚ç±»å‹ä¹‹é—´çš„è½¬æ¢\n"),t("ul",[t("li",[e._v("å› ä¸ºå­—èŠ‚åŠ å¤§æ•°æ®ä½ç½®æ˜¯ä»å³ä¾§å¢åŠ ï¼Œå‡å°æ•°æ®ä½ç½®ä¹Ÿæ˜¯ä»å³ä¾§ç§»é™¤ï¼›ï¼ˆ"),t("strong",[e._v("å­—èŠ‚æ˜¯å·¦å¯¹é½")]),e._v("ï¼‰")]),e._v(" "),t("li",[e._v("å­—èŠ‚è½¬æ¢ä¸ºæ›´å¤§çš„ç±»å‹æ—¶ï¼Œä»å³ä¾§æ·»åŠ å¡«å……ä½ã€‚")]),e._v(" "),t("li",[e._v("å­—èŠ‚è½¬æ¢åˆ°æ›´å°çš„ç±»å‹æ—¶ï¼Œä¸¢å¤±å³ä¾§æ•°æ®ã€‚")])])]),e._v(" "),t("li",[t("code",[e._v("bytes")]),e._v(" ä¸ "),t("code",[e._v("uint")]),e._v(" è½¬æ¢\n"),t("ul",[t("li",[e._v("bytes è½¬æ¢æˆ uint: å…ˆè½¬ç±»å‹ï¼Œå†è½¬å¤§å°")]),e._v(" "),t("li",[e._v("uint è½¬æ¢æˆ bytes: å…ˆè½¬å¤§å°ï¼Œå†è½¬ç±»å‹")])])]),e._v(" "),t("li",[t("code",[e._v("bytes")]),e._v(" ä¸ "),t("code",[e._v("address")]),e._v(" è½¬æ¢\n"),t("ul",[t("li",[e._v("address çš„æ ¼å¼æ˜¯ "),t("code",[e._v("0xffD0d80c48F6C3C5387b7cfA7AA03970bdB926ac")]),e._v("ï¼Œæ˜¯ä¸€ä¸ª "),t("strong",[e._v("bytes20")]),e._v(" çš„æ•°æ®.")]),e._v(" "),t("li",[e._v("è€Œç”±å­—ç¬¦ä¸²ç”Ÿæˆ bytes çš„æ–¹å¼æ˜¯ "),t("code",[e._v("keccak256(abi.encodePacked())")]),e._v("ï¼Œè¿”å›çš„æ˜¯ "),t("code",[e._v("bytes32")]),e._v(" ç±»å‹ã€‚åœ°å€æ˜¯å– "),t("code",[e._v("bytes32")]),e._v(" æ•°æ®ä¸­çš„å 20 ä½ã€‚å¦‚æœåˆ é™¤å‰é¢çš„ 12 ä½æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ solidity assembly (å†…è”æ±‡ç¼–) æ¥æˆªå–ï¼Œä¹Ÿå¯ä»¥å€ŸåŠ© "),t("code",[e._v("uint")]),e._v(" è½¬æ¢æˆæ›´å°çš„ç±»å‹ï¼Œä¼šä¸¢å¤±å·¦ä¾§æ•°æ®çš„ç‰¹æ€§æ¥å®Œæˆã€‚")])])]),e._v(" "),t("li",[t("code",[e._v("uint")]),e._v(" ä¸ "),t("code",[e._v("address")]),e._v(" è½¬æ¢")]),e._v(" "),t("li",[t("code",[e._v("bytes")]),e._v(" ä¸ "),t("code",[e._v("bytes32")]),e._v(" ä¹‹é—´çš„è½¬æ¢\n"),t("ul",[t("li",[e._v("åˆ›å»ºé•¿åº¦ï¼Œfor å¾ªç¯")])])])]),e._v(" "),t("p",[t("strong",[e._v("å­—é¢å¸¸é‡ä¸åŸºæœ¬ç±»å‹çš„è½¬æ¢")])]),e._v(" "),t("ul",[t("li",[e._v("åè¿›åˆ¶å’Œåå…­è¿›åˆ¶å­—é¢å¸¸é‡ä¹‹é—´çš„è½¬æ¢éœ€è¦æ³¨æ„ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n"),t("ul",[t("li",[e._v("åªæœ‰åœ¨åŒ¹é…æ•°æ®èŒƒå›´æ—¶ï¼Œæ‰èƒ½è¿›è¡Œéšå½¢è½¬æ¢ï¼Œå¦‚æœè¶…å‡ºï¼Œä¸ä¼šæˆªæ–­ï¼Œè€Œæ˜¯æŠ¥é”™ã€‚")])])])])])}),[],!1,null,null,null);t.default=s.exports}}]);