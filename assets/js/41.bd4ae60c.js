(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{444:function(n,e,r){"use strict";r.r(e);var t=r(2),a=Object(t.a)({},(function(){var n=this,e=n._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"_15-ç®—æ³•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_15-ç®—æ³•"}},[n._v("#")]),n._v(" 15.ç®—æ³•")]),n._v(" "),e("p",[n._v("æ­¤ç®—æ³•å‚è€ƒæˆ‘ä¹‹å‰å†™çš„"),e("a",{attrs:{href:"https://github.com/anbang/javascript-notes/blob/8912f7efb4456064456079caa5fdfc573e0109bd/JS%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86/JS%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95.md",target:"_blank",rel:"noopener noreferrer"}},[n._v("JS æ•™ç¨‹ç®—æ³•"),e("OutboundLink")],1),n._v(",ç„¶ååšæ”¹åŠ¨ã€‚")]),n._v(" "),e("p",[n._v("åœ¨ Solidity å†…ä¸»è¦æ˜¯ç»æµæ¨¡å‹çš„ç®—æ³•ï¼Œåœ¨å…¶ä»–è¯­è¨€å†…çš„å„ç§æ’åºç®—æ³•ï¼Œåœ¨åˆçº¦å†…ä½¿ç”¨åœºæ™¯å¹¶ä¸æ˜¯å¾ˆå¸¸è§ï¼Œä¹‹æ‰€ä»¥åœ¨è¿™é‡Œç½—åˆ—ï¼Œæ˜¯ä¸€èµ·ç†Ÿæ‚‰ä¸‹æ€è·¯ï¼Œç®—æ³•æ˜¯å¾ˆåŸºç¡€çš„é€»è¾‘è®­ç»ƒé€”å¾„ï¼Œä¸‹é¢ä»…ä»¥æ’å…¥æ’åºå–å†’æ³¡æ’åºä½œä¸ºä¾‹å­ã€‚å¿«é€Ÿæ’åºå’Œæ•°ç»„å»é‡ä½œä¸ºæ‰©å±•ç»ƒä¹ ")]),n._v(" "),e("h2",{attrs:{id:"_1ï¸âƒ£-æ’å…¥æ’åº"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1ï¸âƒ£-æ’å…¥æ’åº"}},[n._v("#")]),n._v(" 1ï¸âƒ£ æ’å…¥æ’åº")]),n._v(" "),e("p",[n._v("æ’å…¥æ’åºæ˜¯ä¸€ç§æœ€ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚")]),n._v(" "),e("p",[n._v("æ“ä½œæ­¥éª¤ï¼šé¦–å…ˆé€‰å–æ•°ç»„çš„ç¬¬ä¸€é¡¹å³ "),e("code",[n._v("ary[0]")]),n._v("ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºè¿™ä¸ªæ•°æ˜¯å·²ç»å®‰æ’å¥½åºçš„ï¼Œå†å– "),e("code",[n._v("ary[1]")]),n._v("é¡¹æ’å…¥åˆ°å·²ç»æ’å¥½åºçš„å…ƒç´ ä¸­ï¼Œæ­¤æ—¶åªæœ‰ "),e("code",[n._v("ary[0]")]),n._v("ï¼Œæˆ‘ä»¬æ¯”è¾ƒ"),e("code",[n._v("ary[0]")]),n._v("å’Œ "),e("code",[n._v("ary[1]")]),n._v("ï¼›å¤§äº "),e("code",[n._v("ary[0]")]),n._v("å°±æ”¾åœ¨åé¢ï¼Œå°äºå°±æ’åˆ° "),e("code",[n._v("ary[0]")]),n._v(" å‰é¢ï¼›è¦æ’å…¥çš„å…ƒç´ ä¾æ¬¡ä¸º"),e("code",[n._v("ary[1]")]),n._v("è‡³"),e("code",[n._v("ary[ary.leng-1]")]),n._v("é¡¹ï¼›æ’å…¥åˆ°æ’åºå¥½çš„æ•°ç»„ä¸­çš„æ—¶å€™ï¼Œæ’å…¥æ¯ä¸€é¡¹éƒ½éœ€è¦ä»åé¢å¾€å‰é¢éå†å·²ç»æ’åºå¥½çš„å…ƒç´ ï¼›")]),n._v(" "),e("p",[n._v("å¦‚æœæ’åºå¥½çš„å…ƒç´ æ¯”æ’å…¥çš„å…ƒç´ å¤§ï¼Œåˆ™æŠŠè¯¥å…ƒç´ å¾€åæŒªä¸€ä½ï¼Œç›´åˆ°å·²ç»æ’åºçš„å…ƒç´ å°äºç­‰äºè¦æ’å…¥çš„å…ƒç´ ï¼ˆæˆ–è€…å·²ç»éå†å®Œå·²ç»æ’å¥½åºçš„æ•°ç»„é¡¹ï¼‰ï¼Œåˆ™æŠŠè¦æ’å…¥çš„å…ƒç´ æ”¾åœ¨è¯¥ä½ç½®+1 çš„ç´¢å¼•ä½ç½®ä¸­ï¼ˆåå‘æ’çš„æ—¶å€™ï¼Œéœ€è¦æ”¾åœ¨æ•°ç»„çš„ç¬¬ 0 ä¸ªä½ç½®ï¼‰ï¼Œå¯¹æ¯ä¸ªæ’å…¥çš„å…ƒç´ éƒ½æ‰§è¡Œä¸Šé¢çš„æ“ä½œï¼Œæœ€ç»ˆæ•°ç»„å°±æ˜¯æ’åºå¥½çš„ï¼›")]),n._v(" "),e("h3",{attrs:{id:"é”™è¯¯ç‰ˆæœ¬"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#é”™è¯¯ç‰ˆæœ¬"}},[n._v("#")]),n._v(" é”™è¯¯ç‰ˆæœ¬")]),n._v(" "),e("p",[n._v("æŠŠåŸæ¥ "),e("a",{attrs:{href:"https://github.com/anbang/javascript-notes/blob/8912f7efb4456064456079caa5fdfc573e0109bd/JS%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86/JS%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95.md#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"}},[n._v("JS ç®—æ³•"),e("OutboundLink")],1),n._v(" é‡Œå†™çš„ä»£ç æ‹·è´è¿›æ¥ä¿®æ”¹åï¼Œç«Ÿç„¶é”™äº†ã€‚")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// [11,2,31,45,6,78,37,33,21] => [2, 6, 11, 21, 31, 33, 37, 45, 78]\ncontract Demo {\n    function insertSort(uint256[] memory ary)\n        public\n        pure\n        returns (uint256[] memory)\n    {\n        uint256 temp; //å®šä¹‰ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œä¿å­˜è¦æ’å…¥çš„å€¼ï¼›\n        uint256 len = ary.length;\n        for (uint256 i = 1; i < len; i++) {\n            if (ary[i] < ary[i - 1]) {\n                temp = ary[i]; //éœ€è¦æ’å…¥çš„å€¼ï¼›\n                uint256 pIndex = i - 1; //éœ€è¦æ’å…¥å€¼çš„å‰ä¸€ä¸ªç´¢å¼•ï¼›\n                while (temp < ary[pIndex] && pIndex >= 0) {\n                    ary[pIndex + 1] = ary[pIndex]; //ç›¸å½“äºary[i]=ary[i-1];\n                    ary[pIndex] = temp; //ç›¸å½“äºary[i-1]=temp;å®Œæˆä¸€æ³¢äº¤æ¢ï¼›\n                    pIndex--; //å‡†å¤‡ä¸‹ä¸€æ³¢äº¤æ¢ï¼›\n                }\n            }\n        }\n        return ary;\n    }\n}\n")])])]),e("p",[n._v("æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼šå‡ºç°äº† "),e("code",[n._v("overflow")]),n._v("äº†ã€‚")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('{\n\t"error": "Failed to decode output: Error: overflow (fault=\\"overflow\\", operation=\\"toNumber\\", value=\\"35408467139433450592217433187231851964531694900788300625387963629091585785856\\", code=NUMERIC_FAULT, version=bignumber/5.5.0)"\n}\n')])])]),e("p",[n._v("è¿™ä¸ªä»£è¡¨è¶…å‡ºäº† "),e("code",[n._v("uint256")]),n._v("çš„èŒƒå›´äº†ï¼Œ"),e("code",[n._v("uint256")]),n._v(" çš„èŒƒå›´æ˜¯ "),e("code",[n._v("0")]),n._v(" è‡³"),e("code",[n._v("115792089237316195423570985008687907853269984665640564039457584007913129639935")]),n._v("ï¼Œè‚¯å®šä¸æ˜¯è¿ç®—è¶…å‡ºæœ€å¤§å€¼äº†ï¼Œåªèƒ½æ˜¯è®¡ç®—æ—¶å€™è¶…å‡ºæœ€å°å€¼äº†ï¼›åŸºæœ¬å¯ä»¥é”å®š "),e("code",[n._v("pIndex--;")]),n._v(" è¿™ä¸€å¥å¯¼è‡´çš„é”™è¯¯ï¼Œè¿è¡Œåˆ° "),e("code",[n._v("0--")]),n._v(" ç­‰äº -1 ï¼Œå¯¼è‡´å‡ºé”™äº†ã€‚")]),n._v(" "),e("h3",{attrs:{id:"ä¿®å¤å¦‚ä¸‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®å¤å¦‚ä¸‹"}},[n._v("#")]),n._v(" ä¿®å¤å¦‚ä¸‹")]),n._v(" "),e("p",[n._v("åŸç†: åªéœ€è¦è®© "),e("code",[n._v("pIndex--")]),n._v(" æœ€å°è¿è¡Œåˆ° "),e("code",[n._v("1--")]),n._v(" å°±å¯ä»¥è§£å†³æº¢å‡ºé—®é¢˜äº†ã€‚")]),n._v(" "),e("ul",[e("li",[n._v("è€Œè®©"),e("code",[n._v("pIndex")]),n._v("æœ€å°å€¼ç­‰ 1ï¼Œåˆ™éœ€è¦ "),e("code",[n._v("pIndex >= 1")])]),n._v(" "),e("li",[n._v("å…¶ä»–ä¸€æ¬¡ä¿®æ”¹å³å¯")])]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// [11,2,31,45,6,78,37,33,21] => [2, 6, 11, 21, 31, 33, 37, 45, 78]\ncontract Demo {\n    function insertSort(uint256[] memory ary)\n        public\n        pure\n        returns (uint256[] memory)\n    {\n        uint256 temp; //å®šä¹‰ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œä¿å­˜è¦æ’å…¥çš„å€¼ï¼›\n        uint256 len = ary.length;\n        for (uint256 i = 1; i < len; i++) {\n            if (ary[i] < ary[i - 1]) {\n                temp = ary[i]; //éœ€è¦æ’å…¥çš„å€¼ï¼›\n                // åŸä»£ç \n                // uint256 pIndex = i - 1; //éœ€è¦æ’å…¥å€¼çš„å‰ä¸€ä¸ªç´¢å¼•ï¼›\n                // while (temp < ary[pIndex] && pIndex >= 0) {\n\n                // æ–°ä»£ç \n                uint256 pIndex = i;\n                while (temp < ary[pIndex - 1] && pIndex >= 1) {\n                    // åŸä»£ç \n                    // ary[pIndex + 1] = ary[pIndex]; //ç›¸å½“äºary[i]=ary[i-1];\n                    // ary[pIndex] = temp; //ç›¸å½“äºary[i-1]=temp;å®Œæˆä¸€æ³¢äº¤æ¢ï¼›\n\n                    // æ–°ä»£ç \n                    ary[pIndex] = ary[pIndex - 1]; //ç›¸å½“äºary[i]=ary[i-1];\n                    ary[pIndex - 1] = temp; //ç›¸å½“äºary[i-1]=temp;å®Œæˆä¸€æ³¢äº¤æ¢ï¼›\n                    pIndex--; //å‡†å¤‡ä¸‹ä¸€æ³¢äº¤æ¢ï¼›\n                }\n            }\n        }\n        return ary;\n    }\n}\n")])])]),e("p",[n._v("ä½†æ˜¯è¿™ä¸ªç‰ˆæœ¬çš„ä»£ç è¿˜æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä»£ç ä¸­çš„ "),e("code",[n._v("temp < ary[pIndex - 1] && pIndex >= 1")]),n._v(" è¿™é‡Œçš„ "),e("code",[n._v("temp < ary[pIndex - 1]")]),n._v(" åœ¨ "),e("code",[n._v("pIndex--;")]),n._v("å "),e("code",[n._v("pIndex")]),n._v(" ä¸º 0ï¼Œè€Œæ­¤æ—¶ "),e("code",[n._v("ary[pIndex - 1]")]),n._v(" åˆå‡ºç°é”™è¯¯äº†ã€‚")]),n._v(" "),e("h3",{attrs:{id:"å†æ¬¡ä¿®å¤å¦‚ä¸‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å†æ¬¡ä¿®å¤å¦‚ä¸‹"}},[n._v("#")]),n._v(" å†æ¬¡ä¿®å¤å¦‚ä¸‹")]),n._v(" "),e("p",[n._v("è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ä½¿ç”¨çŸ­è·¯è§„åˆ™ï¼ŒæŠŠæ¡ä»¶ä½ç½®æ¢ä¸€ä¸‹ï¼Œå› ä¸ºæˆ‘ä»¬è¦æ±‚ "),e("code",[n._v("pIndex >= 1")]),n._v(",å½“ "),e("code",[n._v("pIndex")]),n._v(" ä¸º 0 æ—¶å€™å°±ä¸éœ€è¦ç»§ç»­è¿è¡Œäº†ã€‚")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// [11,2,31,45,6,78,37,33,21] => [2, 6, 11, 21, 31, 33, 37, 45, 78]\ncontract Demo {\n    // 47897 gas\n    function insertSort(uint256[] memory ary)\n        public\n        pure\n        returns (uint256[] memory)\n    {\n        uint256 temp; //å®šä¹‰ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œä¿å­˜è¦æ’å…¥çš„å€¼ï¼›\n        uint256 len = ary.length;\n        for (uint256 i = 1; i < len; i++) {\n            if (ary[i] < ary[i - 1]) {\n                temp = ary[i]; //éœ€è¦æ’å…¥çš„å€¼ï¼›\n                uint256 pIndex = i;\n                while (pIndex >= 1 && temp < ary[pIndex - 1]) {\n                    ary[pIndex] = ary[pIndex - 1]; //ç›¸å½“äºary[i]=ary[i-1];\n                    ary[pIndex - 1] = temp; //ç›¸å½“äºary[i-1]=temp;å®Œæˆä¸€æ³¢äº¤æ¢ï¼›\n                    pIndex--; //å‡†å¤‡ä¸‹ä¸€æ³¢äº¤æ¢ï¼›\n                }\n            }\n        }\n        return ary;\n    }\n}\n")])])]),e("p",[n._v("è¿™ä¸‹ç»ˆäºæ‰§è¡ŒæˆåŠŸäº†ã€‚ æŸ¥çœ‹è°ƒç”¨æˆåŠŸçš„ gasï¼ŒèŠ±è´¹äº† "),e("code",[n._v("47897 gas")]),n._v("ï¼›")]),n._v(" "),e("p",[n._v("ç„¶åæˆ‘ä»¬å†æ¬¡å¼€å§‹æ€ä¹ˆä¼˜åŒ–è¿™äº› gasã€‚")]),n._v(" "),e("h3",{attrs:{id:"ä¼˜åŒ–åçš„æœ€ç»ˆç‰ˆæœ¬"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–åçš„æœ€ç»ˆç‰ˆæœ¬"}},[n._v("#")]),n._v(" ä¼˜åŒ–åçš„æœ€ç»ˆç‰ˆæœ¬")]),n._v(" "),e("p",[n._v("ç„¶åæˆ‘ä»¬å†çœ‹çœ‹æ€ä¹ˆä¼˜åŒ–ï¼Œ")]),n._v(" "),e("ul",[e("li",[e("code",[n._v("if (ary[i] < ary[i - 1])")]),n._v(" ä¸ "),e("code",[n._v("temp < ary[pIndex - 1]")]),n._v(" é‡å¤åˆ¤æ–­äº†")]),n._v(" "),e("li",[n._v("è¾“å…¥å˜é‡çš„ä½ç½® memoryï¼Œå¯ä»¥æ”¹ä¸º "),e("code",[n._v("calldata")])]),n._v(" "),e("li",[e("code",[n._v("i++")]),n._v(" å¯ä»¥æ”¹ä¸º "),e("code",[n._v("++")]),n._v(";")]),n._v(" "),e("li",[e("code",[n._v("pIndex--;")]),n._v(" å¯ä»¥æ”¹ä¸º "),e("code",[n._v("--pIndex;")])]),n._v(" "),e("li",[n._v("å†…éƒ¨å£°æ˜çš„æ‰€æœ‰å˜é‡ï¼Œéƒ½å¯ä»¥æåˆ°å¾ªç¯å¤–")])]),n._v(" "),e("p",[n._v("æœ€ç»ˆçš„ç‰ˆæœ¬: gas æ¶ˆè€—ä»æœ€å¼€å§‹çš„ "),e("code",[n._v("47897 gas")]),n._v(" ä¼˜åŒ–æˆäº† "),e("code",[n._v("41125 gas")])]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n// [11,2,31,45,6,78,37,33,21]\n//           => [2, 6, 11, 21, 31, 33, 37, 45, 78]\n// 47897 gas\n// ...\n// 41125 gas\ncontract Demo {\n    // 47897 gas\n    function insertSort(uint256[] calldata ary)\n        public\n        pure\n        returns (uint256[] memory)\n    {\n        uint256[] memory tempArr = ary;\n        uint256 temp; //å®šä¹‰ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œä¿å­˜è¦æ’å…¥çš„å€¼ï¼›\n        uint256 len = tempArr.length;\n        uint256 pIndex; // ä¸Šä¸€ä¸ªå€¼\n        for (uint256 i = 1; i < len; ++i) {\n            temp = tempArr[i]; //éœ€è¦æ’å…¥çš„å€¼ï¼›\n            pIndex = i;\n            while (pIndex >= 1 && temp < tempArr[pIndex - 1]) {\n                tempArr[pIndex] = tempArr[pIndex - 1]; //ç›¸å½“äºary[i]=ary[i-1];\n                --pIndex; //å‡†å¤‡ä¸‹ä¸€æ³¢äº¤æ¢ï¼›\n            }\n            tempArr[pIndex] = temp; //ç›¸å½“äºary[i-1]=temp; å› ä¸ºä¸Šé¢ pIndex-- äº†\n        }\n        return tempArr;\n    }\n}\n")])])]),e("h2",{attrs:{id:"_2ï¸âƒ£-å†’æ³¡æ’åº"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2ï¸âƒ£-å†’æ³¡æ’åº"}},[n._v("#")]),n._v(" 2ï¸âƒ£ å†’æ³¡æ’åº")]),n._v(" "),e("p",[n._v("å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰ä¹Ÿæ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœä»–ä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚\nç®—æ³•æ­¥éª¤ï¼š")]),n._v(" "),e("ul",[e("li",[n._v("1ï¼‰æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªã€‚")]),n._v(" "),e("li",[n._v("2ï¼‰å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ã€‚è¿™æ­¥åšå®Œåï¼Œæœ€åçš„å…ƒç´ ä¼šæ˜¯æœ€å¤§çš„æ•°ã€‚")]),n._v(" "),e("li",[n._v("3ï¼‰é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªã€‚")]),n._v(" "),e("li",[n._v("4ï¼‰æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒã€‚")])]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("contract Demo2 {\n    function sortAry(uint256[] calldata ary)\n        public\n        pure\n        returns (uint256[] memory)\n    {\n        uint256[] memory tempArr = ary;\n        uint256 len = tempArr.length; //è·å–æ•°ç»„çš„é•¿åº¦ï¼›æœ‰aryLenä¸ªæ•°åœ¨æ’åºï¼›\n        uint256 temp; //ä¸´æ—¶å˜é‡ï¼Œäº¤æ¢æ•°æ®ä¸­ç”¨çš„\n        bool flag = false; //è®¾ç½®æ ‡å¿—ä½ï¼Œåˆå§‹åŒ–ä¸ºfalse\n        for (uint256 i = 0; i < len - 1; ++i) {\n            //å¤–å±‚å¾ªç¯n-1æ¬¡ï¼›\n            for (uint256 j = 0; j < len - 1 - i; ++j) {\n                //æ¯æ¬¡å¾ªç¯å®Œï¼Œéƒ½èƒ½ä»å‰©ä¸‹çš„æ•°ç»„ä¸­æ‰¾å‡ºä¸ªæœ€å¤§çš„æ•°ç»„æ”¾åœ¨ len-1-i çš„ä½ç½®ï¼›\n                if (tempArr[j] > tempArr[j + 1]) {\n                    temp = tempArr[j];\n                    tempArr[j] = tempArr[j + 1];\n                    tempArr[j + 1] = temp;\n                    flag = true; //å¦‚æœäº¤æ¢å¥½äº†ï¼Œåšä¸ªæ ‡è®°ï¼Œé¿å…æ— æ•ˆçš„å¾ªç¯ï¼›\n                }\n            }\n            if (!!flag) {\n                //åªè¦äº¤æ¢äº†ä½ç½®ï¼Œflagçš„å€¼å°±é‡æ–°è®¾ç½®ä¸ºfalseäº†ï¼›\n                flag = false;\n            } else {\n                //å¦‚æœæ²¡æœ‰äº¤æ¢ï¼Œè¯´æ˜æ•°ç»„å·²ç»æ’å¥½åºäº†ï¼Œå¯ä»¥ç»“æŸå¾ªç¯äº†ï¼›\n                break;\n            }\n        }\n        return tempArr;\n    }\n}\n")])])]),e("h2",{attrs:{id:"ğŸ†—-å®æˆ˜åº”ç”¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ†—-å®æˆ˜åº”ç”¨"}},[n._v("#")]),n._v(" ğŸ†— å®æˆ˜åº”ç”¨")]),n._v(" "),e("p",[n._v("å¿«é€Ÿæ’åºå’Œæ•°ç»„å»é‡ä½œä¸ºæ‰©å±•ç»ƒä¹ ï¼Œè‡ªå·±å¯ä»¥åŠ¨æ‰‹å®ç°ã€‚")]),n._v(" "),e("ul",[e("li",[n._v("å®ç°å¿«é€Ÿæ’åº")]),n._v(" "),e("li",[n._v("å®ç°æ•°ç»„å»é‡")])]),n._v(" "),e("h2",{attrs:{id:"ï¸âƒ£-é—®ç­”é¢˜"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ï¸âƒ£-é—®ç­”é¢˜"}},[n._v("#")]),n._v(" #ï¸âƒ£ é—®ç­”é¢˜")]),n._v(" "),e("ul",[e("li",[n._v("æ’å…¥æ’åºçš„å†™æ³•"),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("  function insertSort(uint256[] calldata ary)\n  public\n  pure\n  returns (uint256[] memory)\n  {\n      uint256[] memory tempArr = ary;\n      uint256 temp; //å®šä¹‰ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œä¿å­˜è¦æ’å…¥çš„å€¼ï¼›\n      uint256 len = tempArr.length;\n      uint256 pIndex; // ä¸Šä¸€ä¸ªå€¼\n      for (uint256 i = 1; i < len; ++i) {\n          temp = tempArr[i]; //éœ€è¦æ’å…¥çš„å€¼ï¼›\n          pIndex = i;\n          while (pIndex >= 1 && temp < tempArr[pIndex - 1]) {\n              tempArr[pIndex] = tempArr[pIndex - 1]; //ç›¸å½“äºary[i]=ary[i-1];\n              --pIndex; //å‡†å¤‡ä¸‹ä¸€æ³¢äº¤æ¢ï¼›\n          }\n          tempArr[pIndex] = temp; //ç›¸å½“äºary[i-1]=temp; å› ä¸ºä¸Šé¢ pIndex-- äº†\n      }\n      return tempArr;\n  }\n")])])]),e("ul",[e("li",[e("code",[n._v("if (ary[i] < ary[i - 1])")]),n._v(" ä¸ "),e("code",[n._v("temp < ary[pIndex - 1]")]),n._v(" é‡å¤åˆ¤æ–­äº†")]),n._v(" "),e("li",[n._v("è¾“å…¥å˜é‡çš„ä½ç½® memoryï¼Œå¯ä»¥æ”¹ä¸º "),e("code",[n._v("calldata")])]),n._v(" "),e("li",[e("code",[n._v("i++")]),n._v(" å¯ä»¥æ”¹ä¸º "),e("code",[n._v("++")]),n._v(";")]),n._v(" "),e("li",[e("code",[n._v("pIndex--;")]),n._v(" å¯ä»¥æ”¹ä¸º "),e("code",[n._v("--pIndex;")])]),n._v(" "),e("li",[n._v("å†…éƒ¨å£°æ˜çš„æ‰€æœ‰å˜é‡ï¼Œéƒ½å¯ä»¥æåˆ°å¾ªç¯å¤–")])])])])])}),[],!1,null,null,null);e.default=a.exports}}]);